form_TUR_effect = {
	greece_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	greece_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	west_anatolia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	north_anatolia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	north_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	south_anatolia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	south_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	albania_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	albania_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	east_balkan_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	east_balkan_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			government = monarchy
			NOT = { has_country_modifier = title_6 }
		}
		change_title_6 = yes
	}
	if = {
		limit = {
			government = monarchy
		}
		if = {
			limit = { tag = OTT }
			set_country_flag = to_be_renamed
		}
		ChangeTagEffect = { scope=TUR }
		if = {
			limit = { has_country_flag = to_be_renamed }
			clr_country_flag = to_be_renamed
			override_country_name = OTTOMAN_EMPIRE
		}
	}
	else_if = {
		limit = {
			government = republic
		}
		ChangeTagEffect = { scope=TUY }
	}
	Effect_set_capital = { target=1402 }
	if = {
		limit = {
			1402 = { NOT = { has_province_flag = had_emergency_tax_konstantiniyye } }
		}
		hidden_effect = {
			1402 = {
				set_province_flag = emergency_tax_konstantiniyye
				province_event = { id = MEC_ProvinceInteraction.1 days = 2 }
			}
		}
	}
	add_absolutism = 10
	every_country = { #can be added after some re-consideration: small beyliks should not get it if they can still join peacefully, allies/vassals of forming tag should not get it as well + rivalry will come from in-game opposite interests as well
		limit = {
			OR = {
				# capital_scope = { region = north_anatolia_region }
				# capital_scope = { region = south_anatolia_region }
				tag = MAM
				tag = SYR
				tag = BHA
				tag = HUN
				tag = ERE
				tag = TRE
				tag = QAR
				tag = AKK
				tag = KNI
				primary_culture = bulgarian
				primary_culture = greek
				primary_culture = pontic
				primary_culture = serbian
			}
			NOT = { tag = ROOT }
		}
		add_historical_rival = ROOT
		ROOT = { add_historical_rival = PREV }
	}
}

form_SWE_effect = {
	scandinavia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	scandinavia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = SWE }
		}
		ChangeTagEffect = { scope=SWE }
	}
	RSW = {
		clr_country_flag = erik_s_rebellion
		every_province = {
			limit = {
				is_core = RSW
			}
			remove_core = RSW
		}
	}
	Stab_Add1 = yes
	Effect_set_capital = { target=1 }
}

form_KAL_effect = {
	scandinavia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	scandinavia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	danish_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	danish_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	norwegian_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	norwegian_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	finland_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	finland_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = KAL }
		}
		ChangeTagEffect = { scope=KAL }
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = scandanavian_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_DAN_effect = {
	danish_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	danish_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	norwegian_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	norwegian_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = DAN }
		}
		ChangeTagEffect = { scope=DAN }
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = scandanavian_ideas }
		}
		swap_national_ideas_effect = yes
	}
	every_country = {
		limit = {
			OR = {
				primary_culture = norwegian
				primary_culture = danish
			}
			OR = {
				capital_scope = { region = danish_region }
				capital_scope = { region = norwegian_region }
			}
			NOT = { tag = ROOT }
		}
		add_historical_rival = DAN
		ROOT = { add_historical_rival = PREV }
	}
}

form_BYZ_effect = {
	greece_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	greece_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	west_anatolia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	north_anatolia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	north_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	south_anatolia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	south_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { NOT = { has_country_modifier = title_6 } }
		change_title_6 = yes
	}
	if = {
		limit = {
			NOT = { exists = BYZ }
		}
		ChangeTagEffect = { scope=BYZ }
	}
	Effect_set_capital = { target=1402 }
	if = {
		limit = {
			1402 = { NOT = { has_province_flag = had_emergency_tax_konstantiniyye } }
		}
		1402 = {
			set_province_flag = emergency_tax_konstantiniyye
			province_event = { id = MEC_ProvinceInteraction.1 days = 2 }
		}
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = BYZ_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_LAT_effect = {
	greece_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	greece_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	west_anatolia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	#north_anatolia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	#north_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	#south_anatolia_region = { limit = { owned_by = ROOT } } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	#south_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_6 } }
		change_title_6 = yes
	}
	#add_absolutism = 10
	if = {
		limit = {
			NOT = { exists = LAT }
		}
		ChangeTagEffect = { scope=LAT }
	}
	Effect_set_capital = { target=1402 }
	if = {
		limit = {
			1402 = { NOT = { has_province_flag = had_emergency_tax_konstantiniyye } }
		}
		1402 = {
			set_province_flag = emergency_tax_konstantiniyye
			province_event = { id = MEC_ProvinceInteraction.1 days = 2 }
		}
	}
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = LAT_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_RUS_effect = {
	north_russia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	north_russia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	russia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	russia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	east_russia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	east_russia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	volga_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	volga_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_6 } }
		change_title_6 = yes
	}
	if = {
		limit = {
			NOT = { exists = RUS }
		}
		ChangeTagEffect = { scope=RUS }
	}
	set_country_flag = rus_formed
	#add_absolutism = 10
						
#	if = {
#		limit = {
#			has_custom_ideas = no
#			NOT = { has_idea_group = RUS_ideas }
#		}
#		swap_national_ideas_effect = yes
#	}
	every_country = {
		limit = {
			OR = {
				primary_culture = russian
				capital_scope = { region = north_russia_region }
				capital_scope = { region = russia_region }
				capital_scope = { region = east_russia_region }
				tag = LIT
				tag = POL
				tag = PLC
			}
			NOT = { tag = ROOT }
			NOT = { is_subject_of = ROOT }
		}
		add_historical_rival = RUS
		ROOT = { add_historical_rival = PREV }
	}
}

form_ruthenia_effect = {
	ruthenia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	ruthenia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = UKR }
		}
		ChangeTagEffect = { scope=UKR }
	}
	if = {
		limit = {
			exists = MOS
		}
		add_historical_rival = MOS
		MOS = { add_historical_rival = ROOT }
	}
	if = {
		limit = {
			exists = RUS
		}
		add_historical_rival = RUS
		RUS = { add_historical_rival = ROOT }
	}
	#set_country_flag = ruthenia_formed
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = ruthenian_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_TIB_effect = {
	tibet_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	tibet_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = TIB }
		}
		ChangeTagEffect = { scope=TIB }
	}
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_6 } }
		change_title_6 = yes
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = TIB_ideas_dg }
		}
		swap_national_ideas_effect = yes
	}
	if = {
		limit = {
			BHU = { is_vassal_of_trigger = { scp_root = yes } }
		}
		inherit = BHU
	}
	if = {
		limit = {
			MDO = { is_vassal_of_trigger = { scp_root = yes } }
		}
		inherit = MDO
	}
	if = {
		limit = {
			GUG = { is_vassal_of_trigger = { scp_root = yes } }
		}
		inherit = GUG
	}
	if = {
		limit = {
			UTS = { is_vassal_of_trigger = { scp_root = yes } }
		}
		inherit = UTS
	}
	if = {
		limit = {
			LDK = { is_vassal_of_trigger = { scp_root = yes } }
		}
		inherit = LDK
	}
	if = {
		limit = {
			SKK = { is_vassal_of_trigger = { scp_root = yes } }
		}
		inherit = SKK
	}
}

form_KOJ_effect = {
	palestine_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	palestine_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = KOJ }
		}
		ChangeTagEffect = { scope=KOJ }
	}
	Effect_set_capital = { target=379 }
	#add_absolutism = 10
	4647 = {
		rename_capital = "Acre"
		change_province_name = "Acre"
	}
	364 = {
		rename_capital = "Castrum Sephet"
		change_province_name = "Sephet"
	}
	379 = {
		rename_capital = "Jerusalem"
		change_province_name = "Jerusalem"
	}
	1331 = {
		rename_capital = "Val Moyse"
		change_province_name = "Val Moyse"
	}
	2634 = {
		rename_capital = "Ascalon"
		change_province_name = "Ascalon"
	}
	2635 = {
		rename_capital = "Tyr"
		change_province_name = "Tyr"
	}
	2636 = {
		rename_capital = "Adraa"
		change_province_name = "Adraa"
	}
	2575 = {
		rename_capital = "Krak de Montr�al"
		change_province_name = "Montr�al"
	}
	swap_national_ideas_effect = yes
	Pol_ChangeGovMonarchy = { Succession=1 Assembly=2 } 
	add_government_reform = Pol_Nobility1
}

form_TEU_effect = {
	prussia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	prussia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = TEU }
		}
		ChangeTagEffect = { scope=TEU }
	}
	Effect_set_capital = { target=1844 }
	Stab_Add1 = yes
}

form_LVO_effect = {
	baltic_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	baltic_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = LVO }
		}
		ChangeTagEffect = { scope=LVO }
	}
	Effect_set_capital = { target=38 }
	Stab_Add1 = yes
}

form_PRU_effect = {
	ChangeTagEffect = { scope=PRU }
	#add_absolutism = 10
	prussia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	prussia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { OR = { has_country_flag = teu_crusader has_country_flag = lvo_crusader } }
		change_primary_culture = prussian
		baltic_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
		baltic_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	}
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = prussian_ideas }
		}
		swap_national_ideas_effect = yes
	}
	if = {
		limit = {
		    is_free_or_tributary_trigger = yes
			dip_tech = 40
			NOT = { has_country_modifier = title_5 }
			NOT = { has_country_modifier = title_6 }
		}
		change_title_5 = yes
	}
}

form_LIV_effect = {
	ChangeTagEffect = { scope=LIV }
	#add_absolutism = 10
	prussia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	prussia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	baltic_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	baltic_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = teutonic_order_ideas }
		}
		swap_national_ideas_effect = yes
	}
	if = {
		limit = {
		    is_free_or_tributary_trigger = yes
			dip_tech = 40
			NOT = { has_country_modifier = title_5 }
			NOT = { has_country_modifier = title_6 }
		}
		change_title_5 = yes
	}
}

form_NAP_effect = {
	sicily_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	sicily_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	naples_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	naples_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = NAP }
		}
		ChangeTagEffect = { scope=NAP }
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = neapolitan_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_SAR_effect = {
	corsica_sardinia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	corsica_sardinia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			government = monarchy
			OR = {
				has_country_modifier = title_1
				has_country_modifier = title_2
				has_country_modifier = title_3
				has_country_modifier = title_4
			}
		}
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = SAR }
		}
		ChangeTagEffect = { scope=SAR }
	}
	Effect_set_capital = { target=2242 } # Casteddu
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = latin_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_ITA_effect = {
	set_global_flag = iron_crown_relinquished
	east_italy_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	east_italy_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	west_italy_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_italy_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	central_italy_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	central_italy_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { has_institution = Nationalism }
		naples_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
		naples_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
		sicily_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
		sicily_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	}
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
		#add_absolutism = 10
	}
	if = {
		limit = {
			NOT = { exists = ITA }
			NOT = { exists = ITE }
		}
		if = {
			limit = { tag = PAP }
			set_country_flag = realm_of_god
			if = {
				limit = {
					has_country_modifier = title_6
				}
				override_country_name = PAP_Empire
			}
			else_if = {
				limit = {
					has_country_modifier = title_5
				}
				override_country_name = PAP_Kingdom
			}
		}
		else_if = {
			limit = { has_institution = Nationalism }
			ChangeTagEffect = { scope=ITE }
			PAP = { restore_country_name = yes }
		}
		else = {
			ChangeTagEffect = { scope=ITA }
			PAP = { restore_country_name = yes }
		}
	}
	if = {
		limit = {
			OR = {
				AND = {
					NOT = { capital = 1347 }
					owns_core_province = 1347
				}
				AND = {
					NOT = { capital = 2530 }
					owns_core_province = 2530
					has_institution = Nationalism
				}
			}
		} 
		country_event = { id = flavor_ita.6 }
	}
	# if = {
	# 	limit = {
	# 		has_custom_ideas = no
	# 		NOT = { has_idea_group = ITA_ideas }
	# 	}
	# 	swap_national_ideas_effect = yes
	# }
}

form_CNN_effect = {
	connacht_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	connacht_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = CNN }
		}
		ChangeTagEffect = { scope=CNN }
	}
	if = {
		limit = {
			NOT = {
				has_country_modifier = title_3
				has_country_modifier = title_4
				has_country_modifier = title_5
				has_country_modifier = title_6
			}
		}
		change_title_3 = yes
	}
	Stab_Add1 = yes
}

form_LEI_effect = {
	leinster_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	leinster_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = LEI }
		}
		ChangeTagEffect = { scope=LEI }
	}
	if = {
		limit = {
			NOT = {
				has_country_modifier = title_3
				has_country_modifier = title_4
				has_country_modifier = title_5
				has_country_modifier = title_6
			}
		}
		change_title_3 = yes
	}
	Stab_Add1 = yes
}

form_MNS_effect = {
	munster_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	munster_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = MNS }
		}
		ChangeTagEffect = { scope=MNS }
	}
	if = {
		limit = {
			NOT = {
				has_country_modifier = title_3
				has_country_modifier = title_4
				has_country_modifier = title_5
				has_country_modifier = title_6
			}
		}
		change_title_3 = yes
	}
	Stab_Add1 = yes
}

form_TYR_effect = {
	ulaid_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	ulaid_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = TYR }
		}
		ChangeTagEffect = { scope=TYR }
	}
	if = {
		limit = {
			NOT = {
				has_country_modifier = title_3
				has_country_modifier = title_4
				has_country_modifier = title_5
				has_country_modifier = title_6
			}
		}
		change_title_3 = yes
	}
	Stab_Add1 = yes
}

form_IRE_effect = {
	ireland_region = { hidden_effect = { remove_core = ROOT } add_core = ROOT }
	if = {
		limit = {
			government = monarchy
			NOT = {
				has_country_modifier = title_5
				has_country_modifier = title_6
			}
		}
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = IRE }
		}
		ChangeTagEffect = { scope=IRE }
	}
	if = {
		limit = {
			has_custom_ideas = no
			#NOT = { has_idea_group = irish_ideas }
		}
		swap_national_ideas_effect = yes
	}
	#add_absolutism = 10
}

form_GBR_effect = {
	british_isles_superregion = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	british_isles_superregion = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = GBR }
		}
		ChangeTagEffect = { scope=GBR }
	}
	Effect_set_capital = { target=236 }
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = english_ideas }
		}
		swap_national_ideas_effect = yes
	}
	if = {
		limit = {
			exists = SCO
			NOT = { tag = SCO }
			overlord_of = SCO
		}
		inherit = SCO
	}
	if = {
		limit = {
			exists = ENG
			NOT = { tag = ENG }
			overlord_of = ENG
		}
		inherit = ENG
	}
	if = {
		limit = {
			exists = WLS
			NOT = { tag = WLS }
			overlord_of = WLS
		}
		inherit = WLS
	}
}

form_SCO_effect = {
	scotland_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	scotland_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = SCO }
		}
		ChangeTagEffect = { scope=SCO }
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = english_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_FRA_effect = {
	france_superregion = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	france_superregion = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = FRA }
		}
		ChangeTagEffect = { scope=FRA }
	}
	Effect_set_capital = { target=183 }
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = french_ideas }
		}
		swap_national_ideas_effect = yes
	}
	every_country = {
		limit = {
			OR = {
				culture_group = langue_d_oc
				culture_group = langue_d_oil
				capital_scope = { region = east_france_region }
			}
			NOT = { tag = ROOT }
		}
		add_historical_rival = FRA
		ROOT = { add_historical_rival = PREV }
	}
}

form_SPA_effect = {
	castille_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	castille_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	leon_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	leon_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	aragon_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	aragon_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	andalucia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	andalucia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			OR = {
				ARA = { is_subject_of = ROOT }
				CAS = { is_subject_of = ROOT }
			}
		}
		add_absolutism = -10
	}
	else_if = {
		limit = {
			NOT = {
				OR = {
					ARA = { is_subject_of = ROOT }
					CAS = { is_subject_of = ROOT }
				}
			}
		}
		#add_absolutism = 10
	}
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			ARA = { is_subject_of = ROOT }
		}
		inherit = ARA
		every_owned_province = {
			limit = {
				OR = {
					culture = aragonese
					culture = catalan
					culture_group = basque_group
				}
				OR = {
					is_core = ARA
					is_core = NAV
				}
			}
			add_local_autonomy = 60
			#add_province_modifier = { name = fueros duration = -1 }
		}
	}
	else_if = {
		limit = {
			CAS = { is_subject_of = ROOT }
		}
		inherit = CAS
		every_owned_province = {
			limit = {
				OR = {
					culture = castillian
					culture = asturleonese
				}
				is_core = CAS
			}
			add_local_autonomy = 60
			#add_province_modifier = { name = fueros duration = -1 }
		}
	}
	if = {
		limit = {
			NOT = { exists = SPA }
		}
		ChangeTagEffect = { scope=SPA }
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = castillian_ideas }
		}
		swap_national_ideas_effect = yes
	}
	every_country = {
		limit = {
			OR = {
				capital_scope = { region = aragon_region }
				capital_scope = { region = castille_region }
				capital_scope = { region = leon_region }
				capital_scope = { region = andalucia_region }
			}
			NOT = { tag = ROOT }
		}
		add_historical_rival = SPA
		ROOT = { add_historical_rival = PREV }
	}
	FRA = { country_event = { id = rivalry.1 days = 3 } }		#France-Spanish rivalry event
}

form_CAS_effect = {
	castille_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	castille_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	leon_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	leon_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_absolutism = 5
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = CAS }
		}
		ChangeTagEffect = { scope=CAS }
	}
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = castillian_ideas }
		}
		swap_national_ideas_effect = yes
	}
	every_country = {
		limit = {
			capital_scope = { region = andalucia_region }
			NOT = { tag = ROOT }
		}
		add_historical_rival = CAS
		ROOT = { add_historical_rival = PREV }
	}
}

form_ARL_effect = {
	provence_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	provence_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	high_countries_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	high_countries_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_global_flag = additional_tags_enabled
			NOT = { exists = ARL }
			NOT = { tag = FRA }
			NOT = { tag = ITA }
			NOT = { tag = LOT }
			NOT = { tag = TOU }
		}
		ChangeTagEffect = { scope=ARL }
	}
	Effect_set_capital = { target=201 }
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = ARL_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_ILL_effect = {
	west_balkan_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_balkan_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	central_balkan_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	central_balkan_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_global_flag = additional_tags_enabled
			NOT = { exists = ILL }
			NOT = { tag = BYZ }
			NOT = { tag = ROOT }
		}
		ChangeTagEffect = { scope=ILL }
	}
	#balkan_slavic_union_effect = yes
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = ILL_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_LOT_effect = {
	high_countries_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	high_countries_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	low_countries_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	low_countries_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	belgii_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	belgii_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = LOT }
		}
		ChangeTagEffect = { scope=LOT }
	}
	#add_absolutism = 10
#	if = {
#		limit = {
#			has_custom_ideas = no
#			NOT = { has_idea_group = LOT_ideas }
#		}
#		swap_national_ideas_effect = yes
#	}
}

form_BRI_effect = {
	brittany_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	brittany_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy OR = { has_country_modifier = title_1 has_country_modifier = title_2 } }
		change_title_3 = yes
	}
	if = {
		limit = {
			NOT = { exists = BRI }
		}
		ChangeTagEffect = { scope=BRI }
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = breton_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_TOU_effect = {
	toulouse_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	toulouse_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = TOU }
			NOT = { tag = FRA }
		}
		ChangeTagEffect = { scope=TOU }
	}
	Stab_Add1 = yes
}

form_NAV_effect = {
	toulouse_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	toulouse_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = NAV }
			NOT = { tag = FRA }
		}
		ChangeTagEffect = { scope=NAV }
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = breton_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_OCC_effect = {
	languedoc_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	languedoc_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	provence_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	provence_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_global_flag = additional_tags_enabled
			NOT = { exists = OCC }
			NOT = { tag = FRA }
		}
		ChangeTagEffect = { scope=OCC }
	}
	#langue_d_oc_union_effect = yes
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = OCC_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_ROU_effect = {
	south_carpathia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	south_carpathia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			WAL = { is_subject_of = ROOT }
		}
		inherit = WAL
	}
	if = {
		limit = {
			MOL = { is_subject_of = ROOT }
		}
		inherit = MOL
	}
	if = {
		limit = {
			NOT = { exists = ROU }
			NOT = { tag = BYZ }
		}
		ChangeTagEffect = { scope=ROU }
	}
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = RMN_ideas }
		}
		swap_national_ideas_effect = yes
	}
	#add_absolutism = 10
}

form_SER_effect = {
	north_serbia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	north_serbia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	west_serbia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_serbia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	south_serbia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	south_serbia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	1392 = { if = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT } }
	1392 = { if = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT } }
	138 = { if = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT } }
	138 = { if = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT } }
	macedonia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	macedonia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = SER }
			NOT = { tag = BYZ }
		}
		ChangeTagEffect = { scope=SER }
	}
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = serbian_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_KOR_effect = {
	korea_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	korea_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = KOR }
		}
		ChangeTagEffect = { scope=KOR }
	}
	Effect_set_capital = { target=2802 }
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = KOR_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_TUS_effect = {
	tuscany_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	tuscany_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_prestige = 20
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_4 has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_4 = yes
	}
	ChangeTagEffect = { scope=TUS }
	#add_absolutism = 10
#	if = {
#		limit = {
#			has_custom_ideas = no
#			NOT = { has_idea_group = TUS_ideas }
#		}
#		swap_national_ideas_effect = yes
#	}
	swap_non_generic_missions = yes
}

form_BAV_effect = {
	lower_bavaria_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	lower_bavaria_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	upper_bavaria_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	upper_bavaria_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_prestige = 20
	if = {
		limit = { government = monarchy OR = { has_country_modifier = title_1 has_country_modifier = title_2 } }
		change_title_3 = yes
	}
	if = {
		limit = { NOT = { hre_size = 1 } government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	ChangeTagEffect = { scope=BAV }
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = danubian_alpine_german_ideas }
		}
		swap_national_ideas_effect = yes
	}
	#add_absolutism = 10
	swap_non_generic_missions = yes
}

form_LSA_effect = {
	westphalian_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	westphalian_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	eastphalia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	eastphalia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_prestige = 20
	if = {
		limit = { government = monarchy OR = { has_country_modifier = title_1 has_country_modifier = title_2 } }
		change_title_3 = yes
	}
	if = {
		limit = { NOT = { hre_size = 1 } government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	ChangeTagEffect = { scope=LSA }
	#add_absolutism = 10
}

form_GER_effect = {
	lower_saxon_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	lower_saxon_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	upper_saxon_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	upper_saxon_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	westphalian_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	westphalian_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	upper_rhenish_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	upper_rhenish_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	swabia_bavarian_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	swabia_bavarian_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	#all_core_province = { limit = { owned_by = ROOT } } add_core = GER }
	add_prestige = 20
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	ChangeTagEffect = { scope=GER }
	#add_absolutism = 10
	emperor = {
		add_opinion = {
			who = root
			modifier = opinion_left_empire
		}
	}
	leave_the_hre = yes
	emperor = {
		country_event = { id = hre_event.5 }
	}
}

form_SWA_effect = {
	lower_swabia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	lower_swabia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	upper_swabia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	upper_swabia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_prestige = 20
	if = {
		limit = { government = monarchy OR = { has_country_modifier = title_1 has_country_modifier = title_2 } }
		change_title_3 = yes
	}
	if = {
		limit = { NOT = { hre_size = 1 } government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	ChangeTagEffect = { scope=SWA }
	#add_absolutism = 10
}

form_FKN_effect = {
	lower_franconia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	lower_franconia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	upper_franconia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	upper_franconia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }

	# Hohenlohe
	3734 = { if = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT } }
	3734 = { if = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT } }
	# Rothenburg
	4010 = { if = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT } }
	4010 = { if = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT } }
	# Speyer
	3654 = { if = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT } }
	3654 = { if = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT } }
	# Heidberg
	3378 = { if = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT } }
	3378 = { if = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT } }
	# Worms
	3723 = { if = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT } }
	3723 = { if = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT } }

	add_prestige = 20
	if = {
		limit = { government = monarchy OR = { has_country_modifier = title_1 has_country_modifier = title_2 } }
		change_title_3 = yes
	}
	if = {
		limit = { NOT = { hre_size = 1 } government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	ChangeTagEffect = { scope=FKN }
	#add_absolutism = 10
}

form_POM_effect = {
	vorpommern_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	vorpommern_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	hinterpommern_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	hinterpommern_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_prestige = 20
	if = {
		limit = {
			government = monarchy
			OR = {
				has_country_modifier = title_1
				has_country_modifier = title_2
			}
		}
		change_title_3 = yes
	}
	ChangeTagEffect = { scope=POM }
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = elbe_river_german_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_ARM_effect = {
	cilicia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	cilicia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	malatya_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	malatya_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	sophene_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	sophene_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	upper_armenia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	upper_armenia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	van_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	van_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	west_armenia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_armenia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	east_armenia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	east_armenia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_prestige = 20
	if = {
		limit = {
			NOT = { exists = ARM }
		}
		ChangeTagEffect = { scope=ARM }
	}
	Effect_set_capital = { target=419 }		#Changed to Hayastan instead of Vaspurakan based on community feedback
	if = {
		limit = { NOT = { has_country_modifier = title_5 } }
		change_title_5 = yes
	}
	#add_absolutism = 10
	swap_national_ideas_effect = yes
}

form_HAB_effect = {
	austrian_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	austrian_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_prestige = 10
	ChangeTagEffect = { scope=HAB }
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = danubian_alpine_german_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_ALM_effect = {
	andalucia_region = { limit = { owned_by = ROOT } add_core = ROOT }
	andalucia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	west_maghreb_region = { limit = { owned_by = ROOT } add_core = ROOT }
	west_maghreb_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	toledo_area = { limit = { owned_by = ROOT } add_core = ROOT }
	toledo_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	alentejo_area = { limit = { owned_by = ROOT } add_core = ROOT }
	alentejo_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_prestige = 10
	#if = {
		#limit = { has_global_flag = additional_tags_enabled }
		ChangeTagEffect = { scope=ALM }
	#}
	change_primary_culture = maure
	add_accepted_culture = andalucian
	#add_absolutism = 10
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_6 } }
		change_title_6 = yes
	}
	set_country_flag = al_andalus_claimed
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = algharb_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_SAX_effect = {
	upper_saxon_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	upper_saxon_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_prestige = 20
	if = {
		limit = { government = monarchy OR = { has_country_modifier = title_1 has_country_modifier = title_2 } }
		change_title_3 = yes
	}
	if = {
		limit = { NOT = { hre_size = 1 } government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	ChangeTagEffect = { scope=SAX }
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = elbe_river_german_ideas }
		}
		swap_national_ideas_effect = yes
	}
	if = {
		limit = {
			has_country_flag = wettin_succession
		}
		clr_country_flag = wettin_succession
	}
}

form_NED_effect = {
	belgii_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	belgii_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	low_countries_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	low_countries_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = {
				has_country_modifier = title_3
				has_country_modifier = title_4
				has_country_modifier = title_5
				has_country_modifier = title_6
			}
		}
		change_title_3 = yes
	}
	add_prestige = 20
	ChangeTagEffect = { scope=NED }
	#add_absolutism = 10
	country_event = { id = flavor_hol.26 }

	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = netherlands_ideas }
		}
		swap_national_ideas_effect = yes
	}
	# country_event = { id = holyromanempire.5 days = 5 } # Netherlands now have to wait for the Treaty of Westphalia
	
	# These flags effectively stop any further dutch revolt event
	clr_global_flag = dutch_rebellion_start
	set_global_flag = dutch_rebellion_end
	
	# Remove the estates general modifiers
	NED = {
		every_owned_province = {
			remove_province_modifier = estates_general_1
			remove_province_modifier = estates_general_2
			remove_province_modifier = estates_general_3
		}
	}
}

form_EBU_effect = {
	belgii_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	belgii_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	low_countries_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	low_countries_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = {
				has_country_modifier = title_3
				has_country_modifier = title_4
				has_country_modifier = title_5
				has_country_modifier = title_6
			}
		}
		change_title_3 = yes
	}
	add_prestige = 20
	ChangeTagEffect = { scope=EBU }
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = netherlands_ideas }
		}
		swap_national_ideas_effect = yes
	}
	# country_event = { id = holyromanempire.5 days = 5 } # Netherlands now have to wait for the Treaty of Westphalia
	
	# These flags effectively stop any further dutch revolt event
	clr_global_flag = dutch_rebellion_start
	set_global_flag = dutch_rebellion_end
	
	# Remove the estates general modifiers
	EBU = {
		every_owned_province = {
			remove_province_modifier = estates_general_1
			remove_province_modifier = estates_general_2
			remove_province_modifier = estates_general_3
		}
	}
}

form_LOR_effect = {
	prussia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	prussia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = LOR }
		}
		ChangeTagEffect = { scope=LOR }
	}
	Stab_Add1 = yes
	Effect_set_capital = { target = 189 }
}

form_GRE_effect = {
	greece_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	greece_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_prestige = 20
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	ChangeTagEffect = { scope=GRE }
	change_primary_culture = greek
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = GRE_ideas }
		}
		swap_national_ideas_effect = yes
	}
	every_country = {
		limit = {
			OR = {
				primary_culture = greek
				capital_scope = { region = greece_region }
			}
			NOT = { tag = ROOT }
		}
		add_historical_rival = GRE
		ROOT = { add_historical_rival = PREV }
	}
}

form_MUG_effect = {
	west_bengal_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_bengal_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	east_bengal_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	east_bengal_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	upper_doab_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	upper_doab_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	central_doab_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	central_doab_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	punjab_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	punjab_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	awadh_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	awadh_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	bihar_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	bihar_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	hindusthan_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	hindusthan_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	west_india_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_india_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_prestige = 20
	if = {
		limit = {
			government = monarchy
			NOT = { has_country_modifier = title_6 }
		}
		change_title_6 = yes
	}
	if = {
		limit = {
			technology_group = steppestech
		}
		change_technology_group = muslim
		#change_unit_type = indian
	}
	change_primary_culture = urdu
	set_country_flag = urdu_state
	ChangeTagEffect = { scope=MUG }
	despotisation_effect = yes
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = MUG_ideas }
		}
		swap_national_ideas_effect = yes
	}
	every_country = {
		limit = {
			OR = {
				capital_scope = { region = east_bengal_region }
				capital_scope = { region = west_bengal_region }
				capital_scope = { region = punjab_region }
				capital_scope = { region = central_doab_region }
				capital_scope = { region = upper_doab_region }
				capital_scope = { region = awadh_region }
				capital_scope = { region = west_india_region }
			}
			NOT = { tag = ROOT }
		}
		add_historical_rival = MUG
		ROOT = { add_historical_rival = PREV }
	}
}

form_AZT_effect = {
	mexico_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	mexico_region = { limit = { NOT = { owned_by = ROOT } is_city = yes } add_permanent_claim = ROOT }
	zacatecas_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	zacatecas_region = { limit = { NOT = { owned_by = ROOT } is_city = yes } add_permanent_claim = ROOT }
	zapotec_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	zapotec_region = { limit = { NOT = { owned_by = ROOT } is_city = yes } add_permanent_claim = ROOT }
	add_prestige = 20
	if = {
		limit = {
			trib_fed_trigger = yes
		}
		trib_king_effect = yes
	}
	if = {
		limit = { NOT = { has_country_modifier = title_6 } }
		change_title_6 = yes
	}
	ChangeTagEffect = { scope=AZT }
	#add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = AZT_ideas }
		}
		swap_national_ideas_effect = yes
	}
	every_country = {
		limit = {
			capital_scope = { region = mexico_region }
			NOT = { tag = ROOT }
		}
		add_historical_rival = AZT
		ROOT = { add_historical_rival = PREV }
	}
}

form_CEL_effect = {
	brittany_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = CEL } add_core = CEL }
	brittany_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = CEL }
	scotland_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = CEL } add_core = CEL }
	scotland_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = CEL }
	ireland_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = CEL } add_core = CEL }
	ireland_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = CEL }
	add_prestige = 15
	if = {
		limit = { NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	add_absolutism = 10
	ChangeTagEffect = { scope=CEL }
}

eng_loses_hyw_effect = {
	every_province = {
		limit = {
			OR = {
				owned_by = FRA
				owner = { is_subject_of = FRA }
			}
			superregion = france_superregion
			is_core = ROOT
		}
		remove_core = ROOT
		if = {
			limit = { ROOT = { accepted_culture = PREV } }
			ROOT = { remove_accepted_culture = PREV }
		}
	}
}

form_ENG_effect = {
	home_counties_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	home_counties_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	northumbria_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	northumbria_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	east_anglia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	east_anglia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	west_country_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_country_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	west_midlands_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_midlands_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	east_midlands_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	east_midlands_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			government = monarchy
			NOT = {
				has_country_modifier = title_5
				has_country_modifier = title_6
			}
		}
		change_title_5 = yes
	}
	ChangeTagEffect = { scope=ENG }
}

form_QNG_effect = {
	if = {
		limit = {
			NOT = {
				has_country_modifier = title_6
			}
		}
		change_title_6 = yes
	}
	if = {
		limit = {
			technology_group = steppestech
		}
		change_technology_group = chinese
		change_unit_type = chinese
	}
	Pol_ChangeGovMonarchy = {
		Succession = 5
		Assembly = 1
		SpecialArrangement = Yuan_Monarchy
	}
	ChangeTagEffect = { scope=QNG }
}