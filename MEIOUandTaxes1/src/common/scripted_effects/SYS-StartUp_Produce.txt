StartUp_InitResource = {
	1047 = { set_province_flag = gold set_province_flag = pm set_province_flag = no_mines change_key = { lhs = Land_Resource value = 20 } }
	3251 = { set_province_flag = gold set_province_flag = pm set_province_flag = no_mines change_key = { lhs = Land_Resource value = 20 } }
	3439 = { set_province_flag = silver set_province_flag = pm change_key = { lhs = Land_Resource value = 40 } }

	regiongroup = {
		region = {
			limit = {
				isValidEmpty = yes
			}
			### AGAVE ADDITION
			if = {
				limit = {
					superregion = central_america_superregion
					NOT = { has_terrain = jungle_flats }
					NOT = { has_terrain = jungle_hills }
					NOT = { has_terrain = wood_flats }
					NOT = { has_terrain = grass_flats }
					NOT = { has_terrain = grass_mountains }
					NOT = { has_terrain = forest_flats }
					NOT = { has_terrain = floodplains }
					NOT = { has_terrain = marsh }
					NOT = { has_port = yes }
				}
				set_province_flag = agave
			}
			if = {
				limit = {
					trade_goods = nutmeg
				}
				set_province_flag = nutmeg
			}
			if = {
				limit = {
					trade_goods = cotton
				}
				set_province_flag = cotton
			}
			if = {
				limit = {
					AND = {
						OR = {
							NOT = { has_province_flag = spices }
							NOT = { has_province_flag = nutmeg }
							NOT = { has_province_flag = spices }
							NOT = { has_province_flag = saffron }
							NOT = { has_province_flag = cumin }
							NOT = { has_province_flag = coriander }
							NOT = { has_province_flag = chilli }
							NOT = { has_province_flag = sesame }
							NOT = { has_province_flag = ginger }
							NOT = { has_province_flag = vanilla }
						}
						OR = {
							region = java_region
							region = sumatra_region
							region = borneo_region
						}
					}
				}
				set_province_flag = spices
			}	
			### GAME ADDITION
			if = {
				limit = {
					OR = {
						owner = {
							tag = MAP	#Mapuche
						}
						region = inland_kongo_region
						region = coastal_kongo_region
						region = middle_africa_region
						has_terrain = taiga
						region = east_manchuria_region
					}
					NOT = { has_terrain = floodplains }
					NOT = { has_terrain = marsh }
					NOT = { has_terrain = grass_flats }
					NOT = { has_terrain = grass_mountains }
					NOT = { has_terrain = grass_hills }
					NOT = { has_terrain = grass_highlands }
				}
				set_province_flag = game
			}
			if = {
				limit = {
					OR = {
						trade_goods = gold
						trade_goods = silver
						trade_goods = gems

						has_province_flag = gems
						has_province_flag = marble
						has_province_flag = silver
						has_province_flag = gold
						has_province_flag = obsidian
					}
				}
				set_province_flag = pm
				if = {
					limit = {
						trade_goods = gold
					}
					set_province_flag = gold
				}
				if = {
					limit = {
						trade_goods = silver
					}
					set_province_flag = silver
				}
				if = {
					limit = {
						trade_goods = gems
					}
					set_province_flag = gems
				}

				# if = {
				# 	limit = {
				# 		has_province_flag = marble
				# 	}
				# 	set_province_flag = m
				# }

				if = {
					limit = {
						province_id = 2345 # Potosi
					}
					change_key = { lhs = Land_Resource value = 40 }
				}
				else_if = {
					limit = {
						province_id = 3965 #Iwami
					}
					change_key = { lhs = Land_Resource value = 30 }
				}
				else_if = {
					limit = {
						OR = {
							has_province_modifier = "kormocbanya_mines"

							province_id = 2909 # Bambuk
							province_id = 1525 # Bure
							province_id = 2970 # Butua
							province_id = 1178 # Barwe
							province_id = 2760 # Denkyira
							province_id = 2759 # Bono
							province_id = 2597 # The great obsidian Pachuca Mine
							province_id = 1983
							province_id = 3534 # absorbs the neighbouring mine
							province_id = 489  # Pueblo Viejo
						}
					}
					change_key = { lhs = Land_Resource value = 20 }
				}
				else_if = {
					limit = {
						has_province_flag = obsidian
					}
					change_key = { lhs = Land_Resource value = 8 }
				}
				else_if = {
					limit = {
						province_id = 3906
					}
					change_key = { lhs = Land_Resource value = 16 }
				}
				else_if = {
					limit = {
						OR = {
							province_id = 3788
							province_id = 1404
							province_id = 140

							region = sudan_region
							region = harar_region
							region = abyssinia_region
							province_id = 454
							province_id = 2688
							province_id = 2225
							province_id = 155
							province_id = 1211
							province_id = 584
							region = ireland_region
						}
					}
					change_key = { lhs = Land_Resource value = 4 }
				}
				else = {
					change_key = { lhs = Land_Resource value = 8 }
				}
			}

			if = {
				limit = {
					OR = {
						region = east_sahara_region
						region = west_sahara_region
					}
					has_province_flag = salt
				}
				set_province_flag = supersalt
			}
			if = {
				limit = {
					OR = {
						trade_goods = salt

						has_province_flag = salt
						has_province_flag = smallsalt
						AND = {
							has_province_flag = supersalt
							NOT = { has_province_flag = seasalt }
						}
					}
					NOT = { has_province_flag = pm }
				}
				set_province_flag = salt
				if = {
					limit = {
						OR = {
							province_id = 3441 # Uyuni salt flat
							province_id = 3440 # Uyuni salt flat
							province_id = 3104 # Khewra salt mine
							province_id = 503 # Khewra salt mine
							province_id = 3124 # Rann of Kutch
						}
					}
					set_province_flag = supersalt
					set_key = { lhs = Tmp_9 value = 24 }
				}
				else_if = {
					limit = {
						OR = {
							has_province_modifier = "wieliczka"
							province_id = 2068 # Cuzco
							province_id = 2122 # Dza Yul, Kham area, Tibetan Plateu
							province_id = 2114 # Dza Yul, Kham area, Tibetan Plateu
							province_id = 5505 # Salt well of Zigong
						}
					}
					set_province_flag = supersalt
					set_key = { lhs = Tmp_9 value = 16 }
				}
				else_if = {
					limit = {
						has_province_flag = supersalt
					}
					set_key = { lhs = Tmp_9 value = 12 }
				}
				else = {
					set_key = { lhs = Tmp_9 value = 8 }
				}
				if = {
					limit = {
						OR = {
							continent = asia
							superregion = japan_superregion
							continent = indian_continent
							superregion = southeast_asia_superregion
							superregion = near_east_superregion
							continent = north_america
						}
					}
					change_key = { lhs = Tmp_9 value = 3 }
				}
				if = {
					limit = {
						has_province_flag = smallsalt
					}
					multiply_key = { lhs = Tmp_9 value = 0.5 }
				}
				if = {
					limit = {
						superregion = east_indies_superregion
					}
					multiply_key = { lhs = Tmp_9 value = 0.85 }
				}
				if = {
					limit = {
						OR = {
							superregion = north_china_superregion
							superregion = east_china_superregion
							superregion = southwest_china_superregion
						}
					}
					multiply_key = { lhs = Tmp_9 value = 1.05 }
				}
				if = {
					limit = {
						superregion = central_america_superregion
					}
					multiply_key = { lhs = Tmp_9 value = 1.2 }
				}
				if = {
					limit = {
						continent = indian_continent
					}
					multiply_key = { lhs = Tmp_9 value = 0.9 }
				}
				else = {
					multiply_key = { lhs = Tmp_9 value = 0.75 }
				}

				divide_key = { lhs = Tmp_9 value = 1000 }
				multiply_key = { lhs = Tmp_9 value = 1000 }

				change_key = { lhs = Land_Resource which = Tmp_9 }
			}

			if = {
				limit = {
					OR = {
						has_port = yes
						Inland_Seasalt_Trigger = yes
						has_province_flag = inlandsalt
						has_province_flag = inlandsalt_s
						has_province_flag = saltmarsh
					}
					NOT = { has_province_flag = pearls }
				}
				set_key = { lhs = Tmp_9 which = Land_PRad }
				multiply_key = { lhs = Tmp_9 value = 0.5 }
				if = {
					limit = {
						continent = asia
					}
					multiply_key = { lhs = Tmp_9 value = 1.5 }
				}
				else_if = {
					limit = {
						OR = {
							continent = indian_continent
							superregion = southeast_asia_superregion
							superregion = near_east_superregion
							continent = north_america
						}
					}
					multiply_key = { lhs = Tmp_9 value = 1.4 }
				}
				if = {
					limit = {
						superregion = central_america_superregion
					}
					multiply_key = { lhs = Tmp_9 value = 1.2 }
				}
				if = {
					limit = {
						has_province_flag = saltmarsh
					}
					set_key = { lhs = Tmp_9 value = 15 }
				}
				else_if = {
					limit = {
						check_key = { lhs = Tmp_9 value = 12 }
					}
					set_key = { lhs = Tmp_9 value = 12 }
				}
				else_if = {
					limit = {
						OR = {
							has_province_flag = seasalt
							has_province_flag = supersalt
						}
						NOT = { check_key = { lhs = Tmp_9 value = 9 } }
					}
					set_key = { lhs = Tmp_9 value = 9 }
				}
				else_if = {
					limit = {
						OR = {
							superregion = east_india_superregion
							superregion = east_china_superregion
							superregion = north_china_superregion
							region = mysore_region
						}
						NOT = { check_key = { lhs = Tmp_9 value = 5 } }
					}
					set_key = { lhs = Tmp_9 value = 5 }
				}
				else_if = {
					limit = {
						NOT = { check_key = { lhs = Tmp_9 value = 3 } }
					}
					set_key = { lhs = Tmp_9 value = 3 }
				}
				if = {
					limit = {
						OR = {
							region = east_bengal_region
							region = west_bengal_region
							region = orissa_region
							superregion = western_south_america_superregion
							superregion = west_africa_superregion
							superregion = central_america_superregion
						}
					}
					change_key = { lhs = Tmp_9 value = 3 }
				}
				else_if = {
					limit = {
						OR = {
							superregion = japan_superregion
							continent = asia
							continent = indian_continent
							superregion = east_africa_superregion
						}
					}
					change_key = { lhs = Tmp_9 value = 2 }
				}
				else_if = {
					limit = {
						superregion = greater_russia_superregion
					}
					change_key = { lhs = Tmp_9 value = 1 }
				}
				if = {
					limit = {
						OR = {
							superregion = north_china_superregion
							superregion = east_china_superregion
							superregion = southwest_china_superregion
						}
					}
					multiply_key = { lhs = Tmp_9 value = 1.05 }
				}
				if = {
					limit = {
						OR = {
							province_id = 5377 # China sea salt
							province_id = 5376 # China sea salt
						}
					}
					change_key = { lhs = Tmp_9 value = 12 }
				}
				if = {
					limit = {
						OR = {
							province_id = 5390 # China sea salt
							province_id = 5392 # China sea salt
							province_id = 5395 # China sea salt
						}
					}
					change_key = { lhs = Tmp_9 value = 5 }
				}
				if = {
					limit = {
						continent = indian_continent
					}
					multiply_key = { lhs = Tmp_9 value = 0.9 }
				}
				else_if = {
					limit = {
						superregion = east_indies_superregion
					}
					multiply_key = { lhs = Tmp_9 value = 0.7 }
				}
				else = {
					multiply_key = { lhs = Tmp_9 value = 0.75 }
				}

				divide_key = { lhs = Tmp_9 value = 1000 }
				multiply_key = { lhs = Tmp_9 value = 1000 }

				change_key = { lhs = Land_Resource which = Tmp_9 }
			}

			if = {
				limit = {
					OR = {
						trade_goods = iron
						trade_goods = copper
						trade_goods = lead
						trade_goods = alum
						trade_goods = tin

						has_province_flag = iron
						has_province_flag = copper
						has_province_flag = lead
						has_province_flag = alum
						has_province_flag = tin
					}
					NOT = { has_province_flag = pm }
				}
				set_province_flag = m

				if = {
					limit = {
						NOT = { has_province_flag = salt }
						NOT = { has_province_flag = saltmarsh }
					}
					if = {
						limit = {
							OR = {
								province_id = 305 	#Kursk, West Don area
								province_id = 3445 	#Atacama, Peru
							}
						}
						change_key = { lhs = Land_Resource value = 60 }
					}
					else_if = {
						limit = {
							OR = {
								has_province_modifier = "stora_kopparberget_modifier"

								province_id = 233 	#Kernow, England
								province_id = 1411 	#Dewon, England
								province_id = 2383 	#Obersteiermark, Austria
								province_id = 132 	#Osteriermark, Austria
							}
						}
						change_key = { lhs = Land_Resource value = 30 }
					}
					else_if = {
						limit = {
							NOT = { has_port = yes }
							OR = {
								superregion = north_china_superregion
								superregion = east_china_superregion
								superregion = southwest_china_superregion
							}
						}
						change_key = { lhs = Land_Resource value = 24 }
					}
					else_if = {
						limit = {
							NOT = { has_port = yes }
							OR = {
								continent = indian_continent
								superregion = southeast_asia_superregion
								superregion = west_africa_superregion
							}
						}
						change_key = { lhs = Land_Resource value = 14 }
					}
					else_if = {
						limit = {
							NOT = { has_port = yes }
						}
						change_key = { lhs = Land_Resource value = 12 }
					}
					else = {
						change_key = { lhs = Land_Resource value = 8 }
					}
				}
				else = {
					change_key = { lhs = Land_Resource value = 8 }
				}
			}

			if = {
				limit = {
					OR = {
						trade_goods = coal

						has_province_flag = coal
					}
					NOT = { has_province_flag = pm }
				}
				set_province_flag = coal

				if = {
					limit = {
						OR = {
							province_id = 5483 	#Xinzhou, North China
							province_id = 722 	#Ordos, Inner Mongolia
							province_id = 480 	#Kulunda, Kazakh Steppe
							province_id = 86 	#Oberstift, Westphalia
							province_id = 2507 	#Belz, Ruthenia
						}
					}
					change_key = { lhs = Land_Resource value = 80 }
				}
				else_if = {
					limit = {
						OR = {
							province_id = 2467	#Zezhou, North China
							province_id = 5119	#Baota, North China
							province_id = 2471	#Pingyang, North China
							province_id = 5489	#Xianyang, North China
							province_id = 5478	#Jiezhou, North China
							province_id = 2467	#Zezhou, North China
							province_id = 5471	#Shanzou, North China
						}
					}
					change_key = { lhs = Land_Resource value = 40 }
				}
				else = {
					change_key = { lhs = Land_Resource value = 30 }
				}
			}

			if = {
				limit = {
					OR = {
						region = guinea_region # go extinct all except Leoa area and Ivory Coast area
						region = lower_volta_region # should go extinct
						region = upper_volta_region # all except eastern mossi area should go extinct
						region = upper_niger_region # all go extinct
						region = lower_niger_region # all go extinct
						area = west_congo_area # keep alive
					}
					NOT = { has_terrain = floodplains }
				}
				if = {
					limit = {
						check_key = { lhs = Land_Forest value = 3 }
					}
					set_province_flag = westafrican_ivory
				}
			}
			else_if = {
				limit = {
					OR = {
						region = lan_xang_region
						region = cochinchina_region
						region = orissa_region
						region = east_bengal_region
						area = east_lanka_area
						area = west_lanka_area
						area = mysore_area
						area = koch_area
						area = upper_doab_area
						area = rohilkhand_area
						area = oudh_area
						area = purvanchal_area
						area = baghalpur_area
						area = muzzaffarpur_area
						area = kachin_area
						area = upper_burma_area
						area = central_burma_area
						area = assam_area
						area = naga_hills_area
						area = southern_thai_area
						province_id = 2825 # Kanchanaburi in Siam
						province_id = 3909 # Chainat in Siam
						province_id = 3218 # Kayin in Burma
						province_id = 536  # SI Tirunelveli
						province_id = 5294 # SI Tintukkal
						province_id = 1520 # SI Koyamputtur
						province_id = 5297 # SI Nilakiri
						province_id = 4079 # SI Keladi
						province_id = 3152 # SI Yellapura
						province_id = 671  # Taiping Yunnan China
						province_id = 2078 # Sien in Yunnan China
						province_id = 2086 # Pingle S China
						province_id = 2098 # Karo on Sumatra
						province_id = 2099 # Riau on Sumatra
						province_id = 2100 # Lahat on Sumatra
						province_id = 3185 # Purniah in India
						province_id = 3315 # Raub in Indoensia
						province_id = 3340 # Murut on Borneo
						province_id = 3912 # Gayo on Sumatra
						province_id = 3920 # Merangin on Sumatra
						province_id = 3940 # Minangkabau on Sumatra
						province_id = 5123 # Mahu in Yunnan China
						province_id = 5354 # Araria in India
						province_id = 5436 # Meizhou in SE China
						province_id = 5438 # Nanxiong in SE China
						province_id = 5439 # Qingyuan in SE China
						province_id = 5447 # Huichuan in Yunnan China
						province_id = 1758 # Qujing in Yunnan China
						province_id = 5124 # Yuyong in Yunnan China
						province_id = 667  # Guiyang in Yunnan China
						province_id = 5458 # Chenzhou in SE China
					}
					NOT = { has_terrain = floodplains }
				}
				if = {
					limit = {
						check_key = { lhs = Land_Forest value = 3 }
					}
					set_province_flag = asian_ivory
				}
			}
			else_if = {
				limit = {
					OR = {
						region = coastal_kongo_region
						region = inland_kongo_region
						region = middle_africa_region
						region = monomotapa_region
						region = east_africa_region
						area = awlihan_area
						area = pepper_area
						area = west_chad_area
						area = chari_area
						area = south_darfur_area
						area = white_nile_area
						province_id = 5255 # Zandoma, Niger savanna exclave
						province_id = 5254 # Benga, Niger savanna exclave
						province_id = 2959 # Haayre, Niger savanna exclave
						province_id = 2907 # Bandiagara, Niger savanna exclave
						province_id = 1229 # Oeddei in Chad
						province_id = 2953 # Al-Obaid in Sudan
						province_id = 2500 # Al-Fula in Sudan
						province_id = 1218 # Bungoro in Sudan
						province_id = 3002 # Asosa in Sudan
						province_id = 3007 # Welega in Sudan
						province_id = 1567 # Kaffa in Harar
						province_id = 3064 # Welamo in Harar
						province_id = 5050 # Borona in Oromo
						province_id = 1170 # SA Swazi
						province_id = 1580 # SA Kwazulu
						province_id = 1166 # SA Amazulu
						province_id = 1164 # SA Knysna
					}
					NOT = { has_terrain = floodplains }
				}
				if = {
					limit = {
						check_key = { lhs = Land_Forest value = 3 }
					}
					set_province_flag = ivory
				}
			}
			else_if = {
				limit = {
					OR = {
						trade_goods = ivory
						has_province_modifier = ivory_low
						has_province_modifier = ivory_medium
						has_province_modifier = ivory_large
					}
					NOT = { has_terrain = floodplains }
					NOT = { has_province_flag = westafrican_ivory }
					NOT = { has_province_flag = asian_ivory }
				}
				set_province_flag = ivory
			}
			remove_province_modifier = ivory_low
			remove_province_modifier = ivory_medium
			remove_province_modifier = ivory_large

			if = {
				limit = {
					OR = {
						Can_Fishery_Infra = yes
						has_province_modifier = Fish_Large
						has_province_modifier = Fish_Medium
					}
				}
				set_key = { lhs = Land_Fish which = Land_PRad }
				if = {
					limit = {
						check_key = { lhs = Tmp_9 value = 15 }
					}
					set_key = { lhs = Tmp_9 value = 15 }
				}
				#Peru fisheries of lake Poopo and Ticitaca

				if = {
					limit = {
						OR = {
							has_province_modifier = Fish_Large
							# South american stocks
							region = peru_region
							region = hebei_region
							region = west_manchuria_region
							area = north_shandong_area
							area = laizhou_bandao_area
							province_id = 730
						}
					}
					multiply_key = { lhs = Land_Fish value = 4 }
					change_key = { lhs = Land_Fish value = 6 }
				}
				else_if = {
					limit = {
						OR = {
							has_province_modifier = Fish_Medium
							# South american stocks
							region = colombia_region
							region = bolivia_region
							Fish_Inland_Large = yes
							superregion = east_indies_superregion
							region = malaya_region
						}
					}
					multiply_key = { lhs = Land_Fish value = 2 }
					change_key = { lhs = Land_Fish value = 3 }
				}
				else_if = {
					limit = {
						superregion = west_africa_superregion
					}
					change_key = { lhs = Land_Fish value = 3 }
				}
				else_if = {
					limit = {
						Fish_Inland_Medium = yes
					}
					multiply_key = { lhs = Land_Fish value = 1 }
				}
				else_if = {
					limit = {
						Fish_Inland_Very_Low = yes
					}
					multiply_key = { lhs = Land_Fish value = 0.333 }
				}
				else_if = {
					limit = {
						OR = {
							has_port = no
							Fish_Inland_Low = yes
						}
					}
					multiply_key = { lhs = Land_Fish value = 0.5 }
				}
				if = {
					limit = {
						province_id = 3440 #Quillaca
					}
					change_key = { lhs = Land_Fish value = 0.6 }
				}
				else_if = {
					limit = {
						province_id = 3442 #Charca
					}
					change_key = { lhs = Land_Fish value = 1.6 }
				}
				else_if = {
					limit = {
						province_id = 3439 #Caranga
					}
					change_key = { lhs = Land_Fish value = 1.1 }
				}
				else_if = {
					limit = {
						province_id = 3438 #Pacasa
					}
					change_key = { lhs = Land_Fish value = 0.6 }
				}
				else_if = {
					limit = {
						province_id = 3435 #Lupaca
					}
					change_key = { lhs = Land_Fish value = 1.8 }
				}
				else_if = {
					limit = {
						province_id = 3437 #Omasuyu
					}
					change_key = { lhs = Land_Fish value = 1.2 }
				}
				else_if = {
					limit = {
						province_id = 3436 #Golla
					}
					change_key = { lhs = Land_Fish value = 2.2 }
				}

				if = {
					limit = {
						OR = {
							trade_goods = pearls

							has_province_modifier = pearls_low
							has_province_modifier = pearls_medium
							has_province_modifier = pearls_large
						}
					}
					set_province_flag = pearls

					if = {
						limit = {
							has_province_modifier = pearls_large
						}
						set_province_flag = pearls_large
						change_key = { lhs = Land_Fish value = 6 }
					}
					else_if = {
						limit = {
							has_province_modifier = pearls_medium
						}
						set_province_flag = pearls_medium
						change_key = { lhs = Land_Fish value = 4 }
					}
					else = {
						change_key = { lhs = Land_Fish value = 2 }
					}
				}
				else = {
					change_key = { lhs = Land_Fish value = 1 }
				}

				divide_key = { lhs = Land_Fish value = 1000 }
				multiply_key = { lhs = Land_Fish value = 1000 }
			}

			remove_province_modifier = Fish_Large
			remove_province_modifier = Fish_Medium
			remove_province_modifier = pearls_low
			remove_province_modifier = pearls_medium
			remove_province_modifier = pearls_large
		}
	}
}

StartUp_InitProduce = {
	regiongroup = {
		region = {
			limit = {
				isValidEmpty = yes
			}
			set_key = { lhs = Tmp_8 value = 0 }
			set_key = { lhs = Tmp_9 value = 0 }
			# Edit for new produce
			set_key = { lhs = TN_ProvPrc1 value = 2.5 }
			set_key = { lhs = TN_ProvPrc2 value = 3.5 }
			set_key = { lhs = TN_ProvPrc4 value = 2 }
			set_key = { lhs = TN_ProvPrc5 value = 2 }
			set_key = { lhs = TN_ProvPrc6 value = 2 }
			set_key = { lhs = TN_ProvPrc9 value = 12 }
			set_key = { lhs = TN_ProvPrc10 value = 2 }

			set_key = { lhs = TN_ProvPrc21 value = 6 }
			set_key = { lhs = TN_ProvPrc22 value = 6 }
			set_key = { lhs = TN_ProvPrc23 value = 6 }
			set_key = { lhs = TN_ProvPrc24 value = 6 }
			set_key = { lhs = TN_ProvPrc25 value = 16 }

			set_key = { lhs = TN_ProvPrc41 value = 10 }

			# Edit for new produce
			set_key = { lhs = TN_ProvPrcRec1 which = TN_ProvPrc1 }
			set_key = { lhs = TN_ProvPrcRec2 which = TN_ProvPrc2 }
			set_key = { lhs = TN_ProvPrcRec4 which = TN_ProvPrc4 }
			set_key = { lhs = TN_ProvPrcRec5 which = TN_ProvPrc5 }
			set_key = { lhs = TN_ProvPrcRec6 which = TN_ProvPrc6 }
			set_key = { lhs = TN_ProvPrcRec9 which = TN_ProvPrc9 }
			set_key = { lhs = TN_ProvPrcRec10 which = TN_ProvPrc10 }
			set_key = { lhs = TN_ProvPrcRec21 which = TN_ProvPrc21 }
			set_key = { lhs = TN_ProvPrcRec22 which = TN_ProvPrc22 }
			set_key = { lhs = TN_ProvPrcRec23 which = TN_ProvPrc23 }
			set_key = { lhs = TN_ProvPrcRec24 which = TN_ProvPrc24 }
			set_key = { lhs = TN_ProvPrcRec25 which = TN_ProvPrc25 }
			set_key = { lhs = TN_ProvPrcRec41 which = TN_ProvPrc41 }

			set_key = { lhs = Class_PR value = 4 }
			set_key = { lhs = Class_PNM value = 4 }
			set_key = { lhs = Class_PUL value = 5 }
			set_key = { lhs = Class_PNO value = 5 }
			set_key = { lhs = Class_PBG value = 10 }
			set_key = { lhs = Class_PCL value = 10 }
			set_key = { lhs = Class_PLT value = 10 }

			set_key = { lhs = Tmp_8 which = SF_Total }

			set_key = { lhs = Tmp_9 which = Building_Agriculture }

			if = {
				limit = {
					check_key = { lhs = Tmp_9 which = Tmp_8 }
				}
				set_key = { lhs = Tmp_9 which = Tmp_8 }
			}

			if = {
				limit = {
					OR = {
						region = north_oceanea_region
						region = south_oceanea_region
						superregion = south_africa_superregion
						continent = mena
					}
				}
				multiply_key = { lhs = Tmp_9 value = 0.65 }
			}
			else_if = {
				limit = {
					OR = {
						region = fars_region
						region = iran_region
						region = khorasani_region
						superregion = greater_russia_superregion
						superregion = west_africa_superregion
						continent = europe
					}
				}
				multiply_key = { lhs = Tmp_9 value = 0.54 }
			}
			else_if = {
				limit = {
					continent = north_america
				}
				multiply_key = { lhs = Tmp_9 value = 0.4 }
			}
			else_if = {
				limit = {
					OR = {
						continent = asia
						superregion = japan_superregion
						superregion = southeast_asia_superregion
						superregion = east_indies_superregion
					}
				}
				multiply_key = { lhs = Tmp_9 value = 0.275 }
			}
			else_if = {
				limit = {
					continent = indian_continent
				}
				multiply_key = { lhs = Tmp_9 value = 0.225 }
			}
			else = {
				multiply_key = { lhs = Tmp_9 value = 0.45 }
			}
			if = {
				limit = {
					OR = {
						check_key = { lhs = SF_Total value = 2 }
						has_port = no
					}
				}
				if = {
					limit = {
						check_key = { lhs = Land_CropOutput value = 1 }
					}
					Public_AddProduceVar_3 = {
						prod = 1
						wealth = 0
						soph = 100
						size = Tmp_9
					}
				}
				else = {
					set_key = { lhs = Tmp_8 which = SF_Total }
					divide_key = { lhs = Tmp_8 value = 0.5 }

					set_key = { lhs = Tmp_9 which = Building_Agriculture }

					if = {
						limit = {
							check_key = { lhs = Tmp_9 which = Tmp_8 }
						}
						set_key = { lhs = Tmp_9 which = Tmp_8 }
					}

					if = {
						limit = {
							OR = {
								continent = north_america
								continent = south_america
							}
						}
						multiply_key = { lhs = Tmp_9 value = 0.3 }
					}
					else = {
						multiply_key = { lhs = Tmp_9 value = 0.4 }
					}

					multiply_key = { lhs = Tmp_9 value = 1.15 }	
					if = {
						limit = {
							Prod_Can_7 = yes
						}
						Public_AddProduceVar_3 = {
							prod = 7
							wealth = 0
							soph = 100
							size = Tmp_9
						}
					}
					else_if = {
						limit = {
							check_key = { lhs = Building_Forestry value = 1 }
						}
						Public_AddProduceVar_3 = {
							prod = 21
							wealth = 0
							soph = 100
							size = Tmp_9
						}
					}
				}
			}


			if = {
				limit = {
					Prod_Can_8 = yes
				}
				set_key = { lhs = Tmp_8 which = NM_Total }
				divide_key = { lhs = Tmp_8 value = 0.4 }

				set_key = { lhs = Tmp_9 which = Building_Agriculture }

				if = {
					limit = {
						check_key = { lhs = Tmp_9 which = Tmp_8 }
					}
					set_key = { lhs = Tmp_9 which = Tmp_8 }
				}

				multiply_key = { lhs = Tmp_9 value = 0.6 }

				Public_AddProduceVar_3 = {
					prod = 8
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			if = {
				limit = {
					Prod_Can_6 = yes
				}
				set_key = { lhs = Tmp_8 which = SF_Total }
				divide_key = { lhs = Tmp_8 value = 0.5 }

				set_key = { lhs = Tmp_9 which = Building_Fishery }

				if = {
					limit = {
						check_key = { lhs = Tmp_9 which = Tmp_8 }
					}
					set_key = { lhs = Tmp_9 which = Tmp_8 }
				}

				if = {
					limit = {
						OR = {
							region = north_oceanea_region
							region = south_oceanea_region
							superregion = south_africa_superregion
						}
					}
					multiply_key = { lhs = Tmp_9 value = 0.7 }
				}
				else = {
					multiply_key = { lhs = Tmp_9 value = 0.45 }
				}

				Public_AddProduceVar_3 = {
					prod = 6
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			set_key = { lhs = Tmp_9 which = Building_Extraction }
			divide_key = { lhs = Tmp_9 value = 1.6 }

			if = {
				limit = {
					has_province_flag = m
					NOT = { has_province_flag = no_mines }
					is_city = yes
				}
				Public_AddProduceVar_3 = {
					prod = 15
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			set_key = { lhs = Tmp_9 which = Building_Extraction }
			if = {
				limit = {
					continent = south_america
					is_city = yes
				}
				multiply_key = { lhs = Tmp_9 value = 0.8 }
			}
			if = {
				limit = {
					has_port = yes

					NOT = {
						has_province_flag = salt
					}
				}
				Public_AddProduceVar_3 = {
					prod = 9
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			if = {
				limit = {
					has_province_flag = salt
				}
				Public_AddProduceVar_3 = {
					prod = 10
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}
			set_key = { lhs = Tmp_9 which = Building_Extraction }
			divide_key = { lhs = Tmp_9 value = 2 }
			if = {
				limit = {
					OR = {
						trade_goods = gold
						trade_goods = silver
						trade_goods = gems

						has_province_flag = gems
						has_province_flag = marble
						has_province_flag = silver
						has_province_flag = gold
						has_province_flag = obsidian
					}
					#Dont open these from the get go
					NOT = {
						province_id = 3520
						province_id = 1710
					}
				}
				if = {
					limit = {
						has_province_flag = marble
					}

					if = {
						limit = {
							NOT = { has_province_flag = no_mines }
							NOT = { has_province_flag = small_marble }
							is_city = yes
						}
						Public_AddProduceVar_3 = {
							prod = 41
							wealth = 0
							soph = 100
							size = Tmp_9
						}
					}
					else_if = {
						limit = {
							has_province_flag = small_marble	#Not actually marble but similar
							is_city = yes
						}
						multiply_key = { lhs = Tmp_9 value = 0.5 }
						Public_AddProduceVar_3 = {
							prod = 41
							wealth = 0
							soph = 100
							size = Tmp_9
						}
					}
				}
				else_if = {
					limit = {
						OR = {
							trade_goods = gems
							has_province_flag = gems
							has_province_flag = obsidian
						}
					}

					if = {
						limit = {
							NOT = { has_province_flag = no_mines }
							is_city = yes
						}
						Public_AddProduceVar_3 = {
							prod = 16
							wealth = 0
							soph = 100
							size = Tmp_9
						}
					}
				}
				else_if = {
					limit = {
						has_province_flag = gold
						NOT = { has_province_flag = no_mines }
						is_city = yes
					}
					Public_AddProduceVar_3 = {
						prod = 17
						wealth = 0
						soph = 100
						size = Tmp_9
					}
				}
				else_if = {
					limit = {
						has_province_flag = silver
						NOT = { has_province_flag = no_mines }
						is_city = yes
					}
					Public_AddProduceVar_3 = {
						prod = 18
						wealth = 0
						soph = 100
						size = Tmp_9
					}
				}
			}

			if = {
				limit = {
					has_province_flag = coal

					OR = {
						province_id = 2467
						province_id = 5119
						province_id = 2471
						province_id = 5489
						province_id = 5478
						province_id = 5471
					}
				}
				Public_AddProduceVar_3 = {
					prod = 14
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			set_key = { lhs = Tmp_9 which = Building_Commercial }
			if = {
				limit = {
					check_key = { lhs = Building_Commercial value = 1 }
				}
				Public_AddProduceVar_3 = {
					prod = 32
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			if = {
				limit = {
					check_key = { lhs = RE_Total value = 1 }
				}
				set_province_flag = Prod_StartUpSmallCity
				set_province_flag = Prod_StartUpMetal
			}

			if = {
				limit = {
					OR = {
						has_province_modifier = urban_goods_silk
						has_province_modifier = urban_goods_luxury_cloth
						has_province_modifier = urban_goods_carpet
					}
				}
				clr_province_flag= Prod_StartUpSmallCity
				set_province_flag = Prod_StartUpCloth
			}
			if = {
				limit = {
					OR = {
						has_province_modifier = urban_goods_chinaware
						has_province_modifier = urban_goods_glassware
					}
				}
				clr_province_flag = Prod_StartUpSmallCity
				set_province_flag = Prod_StartUpHouseware
			}

			if = {
				limit = {
					OR = {
						has_province_modifier = urban_goods_metalwork
						has_province_modifier = urban_goods_steel
						province_id = 1402
					}
				}
				set_province_flag = Prod_StartUpArmament
			}

			if = {
				limit = {
					check_key = { lhs = RE_Total value = 1 }

					OR = {
						has_province_modifier = urban_goods_naval_supplies

						AND = {
							has_port = yes

							OR = {
								AND = {
									has_province_flag = TN_Harbour_Minor
									superregion = west_africa_superregion
								}
								has_province_flag = TN_Harbour_Important
								has_province_flag = TN_Harbour_Major
							}
						}

						AND = {
							check_key = { lhs = TN_River value = 1 }
							check_key = { lhs = Infra_Harbourage value = 2 }
						}
					}
				}
				set_province_flag = Prod_StartUpShip
			}

			if = {
				limit = {
					has_province_flag = Prod_StartUpSmallCity
				}
				clr_province_flag = Prod_StartUpSmallCity

				set_key = { lhs = Tmp_9 which = RE_Total }
				multiply_key = { lhs = Tmp_9 value = 0.3 }

				if = {
					limit = {
						OR = {
							superregion = japan_superregion
							continent = asia
							continent = indian_continent
						}
					}
					multiply_key = { lhs = Tmp_9 value = 1.25 }
				}
				else_if = {
					limit = {
						continent = europe
					}
					multiply_key = { lhs = Tmp_9 value = 0.75 }
				}
				if = {
					limit = {
						check_key = { lhs = RE_Total value = 5.5 }
					}
					Public_AddProduceVar_3 = {
						prod = 24
						wealth = 0
						soph = 100
						size = Tmp_9
					}
				}
				Public_AddProduceVar_3 = {
					prod = 25
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}
			if = {
				limit = {
					has_province_flag = Prod_StartUpHouseware
				}
				clr_province_flag = Prod_StartUpHouseware

				set_key = { lhs = Tmp_9 which = RE_Total }
				multiply_key = { lhs = Tmp_9 value = 0.45 }
				if = {
					limit = {
						OR = {
							superregion = japan_superregion
							continent = asia
							continent = indian_continent
						}
					}
					multiply_key = { lhs = Tmp_9 value = 1.25 }
				}
				else_if = {
					limit = {
						continent = europe
					}
					multiply_key = { lhs = Tmp_9 value = 0.75 }
				}
				if = {
					limit = {
						check_key = { lhs = RE_Total value = 5.5 }
					}
					Public_AddProduceVar_3 = {
						prod = 24
						wealth = 0
						soph = 100
						size = Tmp_9
					}
				}
				else = {
					Public_AddProduceVar_3 = {
						prod = 25
						wealth = 0
						soph = 100
						size = Tmp_9
					}
				}

				set_key = { lhs = Tmp_9 which = RE_Total }
				multiply_key = { lhs = Tmp_9 value = 0.12 }
				if = {
					limit = {
						has_province_modifier = urban_goods_chinaware
						OR = {
							continent = asia
							superregion = japan_superregion
							region = vietnam_region
						}
					}
					Public_AddProduceVar_3 = {
						prod = 34
						wealth = 0
						soph = 100
						size = Tmp_9
					}
				}
				else_if = {
					limit = {
						OR = {
							has_province_modifier = urban_goods_paper
							has_province_modifier = urban_goods_leather
							has_province_modifier = urban_goods_chinaware
							has_province_modifier = urban_goods_glassware
							has_province_modifier = urban_goods_jewelry
						}
					}
					if = {
						limit = {
							has_province_modifier = urban_goods_glassware
						}
						Public_AddProduceVar_3 = {
							prod = 36
							wealth = 0
							soph = 100
							size = Tmp_9
						}
					}
					else = {
						Public_AddProduceVar_3 = {
							prod = 24
							wealth = 0
							soph = 100
							size = Tmp_9
						}
					}
				}
			}

			if = {
				limit = {
					has_province_flag = Prod_StartUpCloth
				}
				clr_province_flag = Prod_StartUpCloth

				set_key = { lhs = Tmp_9 which = RE_Total }
				multiply_key = { lhs = Tmp_9 value = 0.62 }
				if = {
					limit = {
						OR = {
							superregion = japan_superregion
							continent = asia
							continent = indian_continent
						}
					}
					multiply_key = { lhs = Tmp_9 value = 1.25 }
				}
				else_if = {
					limit = {
						continent = europe
					}
					multiply_key = { lhs = Tmp_9 value = 0.8 }
				}

				if = {
					limit = {
						check_key = { lhs = RE_Total value = 7 }
					}
					Public_AddProduceVar_3 = {
						prod = 25
						wealth = 0
						soph = 100
						size = Tmp_9
					}
				}
				set_key = { lhs = Tmp_9 which = RE_Total }
				multiply_key = { lhs = Tmp_9 value = 0.3 }
				if = {
					limit = {
						OR = {
							has_province_modifier = urban_goods_silk
							has_province_modifier = urban_goods_luxury_cloth
							has_province_modifier = urban_goods_carpet
						}
					}
					if = {
						limit = {
							OR = {
								continent = asia
								superregion = japan_superregion
								superregion = central_asia_superregion
								region = assam_region
								region = vietnam_region
							}
						}
						multiply_key = { lhs = Tmp_9 value = 1.5 }

						Public_AddProduceVar_3 = {
							prod = 33
							wealth = 0
							soph = 100
							size = Tmp_9
						}
					}
					else_if = {
						limit = {
							has_province_modifier = urban_goods_carpet
						}
						multiply_key = { lhs = Tmp_9 value = 1.25 }

						Public_AddProduceVar_3 = {
							prod = 35
							wealth = 0
							soph = 100
							size = Tmp_9
						}
					}
					else = {
						multiply_key = { lhs = Tmp_9 value = 1.25 }

						Public_AddProduceVar_3 = {
							prod = 39
							wealth = 0
							soph = 100
							size = Tmp_9
						}
					}
				}
			}

			if = {
				limit = {
					has_province_flag = Prod_StartUpMetal
					check_key = { lhs = RE_Total value = 4 }
				}
				clr_province_flag = Prod_StartUpMetal

				set_key = { lhs = Tmp_9 which = RE_Total }
				multiply_key = { lhs = Tmp_9 value = 0.52 }

				Public_AddProduceVar_3 = {
					prod = 28
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			if = {
				limit = {
					has_province_flag = Prod_StartUpArmament
				}
				clr_province_flag = Prod_StartUpArmament

				set_key = { lhs = Tmp_9 which = RE_Total }
				multiply_key = { lhs = Tmp_9 value = 0.38  }
				if = {
					limit = {
						OR = {
							superregion = japan_superregion
							continent = asia
						}
					}
					multiply_key = { lhs = Tmp_9 value = 0.9 }
				}
				Public_AddProduceVar_3 = {
					prod = 26
					wealth = 0
					soph = 100
					size = Tmp_9
				}

				multiply_key = { lhs = Tmp_9 value = 0.5 }
				if = {
					limit = {
						has_province_modifier = urban_goods_steel
					}
					Public_AddProduceVar_3 = {
						prod = 40
						wealth = 0
						soph = 100
						size = Tmp_9
					}
				}
			}

			if = {
				limit = {
					has_province_flag = Prod_StartUpShip
				}
				clr_province_flag = Prod_StartUpShip

				set_key = { lhs = Tmp_9 which = RE_Total }
				multiply_key = { lhs = Tmp_9 value = 0.21 }
				if = {
					limit = {
						continent = north_america
					}
					multiply_key = { lhs = Tmp_9 value = 0.75 }
				}
				else_if = {
					limit = {
						continent = mena
					}
					multiply_key = { lhs = Tmp_9 value = 0.7 }
				}
				else_if = {
					limit = {
						OR = {
							superregion = japan_superregion
							continent = asia
						}
					}
					multiply_key = { lhs = Tmp_9 value = 1.0 }
				}
				else_if = {
					limit = {
						continent = africa
					}
					multiply_key = { lhs = Tmp_9 value = 1.2 }
				}
				else_if = {
					limit = {
						continent = south_america
					}
					multiply_key = { lhs = Tmp_9 value = 1.8 }
				}
				else_if = {
					limit = {
						continent = europe
					}
					multiply_key = { lhs = Tmp_9 value = 0.7 }
				}
				else_if = {
					limit = {
						OR = {
							continent = indian_continent
							continent = southeast_asia
						}
					}
					multiply_key = { lhs = Tmp_9 value = 1.1 }
				}

				if = {
					limit = {
						has_port = no
					}
					multiply_key = { lhs = Tmp_9 value = 0.5 }
				}

				if = {
					limit = {
						check_key = { lhs = RE_Total value = 10 }

						has_province_flag = TN_Harbour_Major
					}
					set_key = { lhs = Tmp_9 which = RE_Total }
					multiply_key = { lhs = Tmp_9 value = 0.5 }
				}
				Public_AddProduceVar_3 = {
					prod = 27
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			remove_province_modifier = urban_goods_linen
			remove_province_modifier = urban_goods_silk
			remove_province_modifier = urban_goods_cloth
			remove_province_modifier = urban_goods_luxury_cloth
			remove_province_modifier = urban_goods_metalwork
			remove_province_modifier = urban_goods_steel
			remove_province_modifier = urban_goods_glassware
			remove_province_modifier = urban_goods_naval_supplies
			remove_province_modifier = urban_goods_paper
			remove_province_modifier = urban_goods_leather
			remove_province_modifier = urban_goods_carpet
			remove_province_modifier = urban_goods_chinaware
			remove_province_modifier = urban_goods_jewelry

			set_key = { lhs = Tmp_9 which = Building_Forestry }
			if = {
				limit = {
					superregion = south_africa_superregion
				}
				multiply_key = { lhs = Tmp_9 value = 0.15 }
			}
			else_if = {
				limit = {
					continent = africa
				}
				multiply_key = { lhs = Tmp_9 value = 0.6 }
			}
			else_if = {
				limit = {
					continent = indian_continent
				}
				multiply_key = { lhs = Tmp_9 value = 0.4 }
			}
			else_if = {
				limit = {
					continent = north_america
				}
				multiply_key = { lhs = Tmp_9 value = 0.6 }
			}
			else = {
				multiply_key = { lhs = Tmp_9 value = 0.55 }
			}

			if = {
				limit = {
					OR = {
						has_province_modifier = fur_low
						has_province_modifier = fur_medium
						has_province_modifier = fur_large
					}
				}
				set_province_flag = Prod_Fur
			}
			if = {
				limit = {
					check_key = { lhs = Building_Forestry value = 1 }

					OR = {
						has_terrain = taiga
#						has_province_modifier = fur_low
#						has_province_modifier = fur_medium
#						has_province_modifier = fur_large
						has_province_flag = game
						has_province_flag = Prod_Fur
						has_province_flag = ivory
						has_province_flag = westafrican_ivory
						has_province_flag = asian_ivory
						
						continent = africa

						region = finland_region
						region = north_russia_region
						region = west_siberia_region
						region = east_siberia_region
						region = east_manchuria_region
						region = tibet_region

						area = hokkaido_area

						AND = {
							OR = {
								has_terrain = forest_mountains
								has_terrain = forest_flats
								has_terrain = forest_hills
								has_terrain = forest_highlands
							}
							NOT = { superregion = north_china_superregion }
							NOT = { superregion = east_china_superregion }
						}
					}
					NOT = { has_terrain = floodplains }
					NOT = { has_terrain = shrub_flats }
					NOT = { has_terrain = shrub_hills }
					NOT = { has_terrain = shrub_highlands }
					NOT = { has_terrain = shrub_mountains }
					NOT = { has_terrain = grass_flats }
					NOT = { has_terrain = grass_hills }
					NOT = { has_terrain = grass_highlands }
					NOT = { has_terrain = grass_mountains }
					NOT = { has_terrain = desert_flats }
					NOT = { has_terrain = desert_hills }
					NOT = { has_terrain = desert_mountains }
					NOT = { has_terrain = desert_highlands }
					NOT = { check_key = { lhs = SF_Total value = 250 } }
				}
				Public_AddProduceVar_3 = {
					prod = 21
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}
			if = {
				limit = {
					OR = {
						region = baltic_region
						region = north_russia_region
						region = finland_region
						region = upper_rhenish_circle_region
					}
				}
				Public_AddProduceVar_3 = {
					prod = 13
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}
			else_if = {
				limit = {
					OR = {
						region = high_countries_region
						region = belgii_region
						region = norwegian_region
						region = scandinavia_region
						region = west_japan_region
						region = central_japan_region
						region = east_japan_region
					}
				}
				Public_AddProduceVar_3 = {
					prod = 13
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}
			else_if = {
				limit = {
					check_key = { lhs = Building_Forestry value = 1 }
					NOT = { area = songjiang_area }
					NOT = { area = wu_area }
					NOT = { province_id = 1046 }
					NOT = { province_id = 5416 }
					NOT = { province_id = 2125 }
				}
				Public_AddProduceVar_3 = {
					prod = 13
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			set_key = { lhs = Tmp_8 which = SF_Total }
			divide_key = { lhs = Tmp_8 value = 0.45 }

			set_key = { lhs = Tmp_9 which = Building_Agriculture }

			if = {
				limit = {
					check_key = { lhs = Tmp_9 which = Tmp_8 }
				}
				set_key = { lhs = Tmp_9 which = Tmp_8 }
			}

			if = {
				limit = {
					continent = north_america
					is_city = yes
				}
				multiply_key = { lhs = Tmp_9 value = 0.13 }
			}
			else_if = {
				limit = {
					continent = south_america
				}
				multiply_key = { lhs = Tmp_9 value = 0.14 }
			}
			else_if = {
				limit = {
					superregion = north_africa_superregion
					NOT = { region = egypt_region }
				}
				multiply_key = { lhs = Tmp_9 value = 0.333 }
			}
			else_if = {
				limit = {
					OR = {
						superregion = persia_superregion
						area = tuscany_area
						area = siena_area
						area = lazio_area
						area = marche_area
						superregion = british_isles_superregion
						continent = mena
					}
				}
				multiply_key = { lhs = Tmp_9 value = 0.25 }
			}
			else_if = {
				limit = {
					OR = {
						superregion = balkan_superregion
						superregion = southeast_asia_superregion
						superregion = tibet_superregion
						area = upper_andalucia_area
						region = west_bengal_region
						region = east_bengal_region
						superregion = central_america_superregion
					}
				}
				multiply_key = { lhs = Tmp_9 value = 0.22 }
			}
			else_if = {
				limit = {
					OR = {
						superregion = iberia_superregion
						superregion = italy_superregion
						superregion = southwest_china_superregion
						superregion = south_africa_superregion
						region = egypt_region
					}
				}
				multiply_key = { lhs = Tmp_9 value = 0.2 }
			}
			else_if = {
				limit = {
					superregion = greater_russia_superregion
				}
				multiply_key = { lhs = Tmp_9 value = 0.1 }
			}
			else_if = {
				limit = {
					continent = indian_continent
				}
				multiply_key = { lhs = Tmp_9 value = 0.17 }
			}
			else_if = {
				limit = {
					superregion = west_africa_superregion
				}
				multiply_key = { lhs = Tmp_9 value = 0.12 }
			}
			else_if = {
				limit = {
					continent = europe
				}
				multiply_key = { lhs = Tmp_9 value = 0.18 }
			}
			else_if = {
				limit = {
					OR = {
						superregion = east_indies_superregion
						region = malaya_region
					}
				}
				multiply_key = { lhs = Tmp_9 value = 0.13 }
			}
			else_if = {
				limit = {
					continent = asia
				}
				multiply_key = { lhs = Tmp_9 value = 0.145 }
			}
			else = {
				multiply_key = { lhs = Tmp_9 value = 0.15 }
			}
			multiply_key = { lhs = Tmp_9 value = 0.65 } # balancing
			if = { # Sericulture
				limit = {
					check_key = { lhs = SF_Total value = 8 }
					OR = {
						region = sichuan_region
						region = guangdong_region
						region = huguang_region
						region = jiangxi_region
						region = zhejiang_region
						region = jiangnan_region
						region = zhongyuan_region
						region = jiaoliao_region
						region = hebei_region
						region = korea_region
						region = west_japan_region
						region = central_japan_region
						region = east_japan_region
						area = song_hong_area
						#SE Asia
						province_id = 3932
						province_id = 2417
						province_id = 5657
						province_id = 3226
						province_id = 604
						province_id = 587
						province_id = 3874
						province_id = 2397
						province_id = 2318
						province_id = 2821
						province_id = 2822
						province_id = 2728
						#India
						province_id = 571
						province_id = 566
						province_id = 2695
						province_id = 2694
						province_id = 3186
						province_id = 3188
						province_id = 5355
						#Central Asia
						area = ferghana_area
						province_id = 3293
						province_id = 457
						province_id = 436
						province_id = 3279
						province_id = 414
						area = tabarestan_area
						area = east_tabarestan_area
						province_id = 3823
						province_id = 416
						province_id = 3823
						province_id = 332
						province_id = 1317
						province_id = 3811
						province_id = 3810
						province_id = 2740
						province_id = 2745
						province_id = 2741
						province_id = 739
						province_id = 3211
						province_id = 3210
						province_id = 3290
						province_id = 447
						province_id = 3843
						province_id = 3838
						province_id = 5111
						province_id = 451
						#MENA
						province_id = 332
						province_id = 3886
						province_id = 378
						province_id = 1327
						province_id = 1328
						province_id = 1449
						province_id = 3396
						province_id = 1301
						province_id = 2552
						province_id = 3388
						province_id = 1446
						province_id = 318
						province_id = 1325
						province_id = 2750
						province_id = 321
						province_id = 163
						province_id = 2749
						province_id = 1441
						province_id = 3882
						province_id = 325
						province_id = 2551
						province_id = 2663
						province_id = 2543
						province_id = 2528
						#Europe
						province_id = 1402
						province_id = 2387
						province_id = 155
						province_id = 2501
						province_id = 3876
						province_id = 146
						province_id = 115
						area = west_sicily_area
						area = east_sicily_area
						province_id = 202
						province_id = 116
						province_id = 101
						province_id = 108
						province_id = 3382
						province_id = 113
						province_id = 123
						province_id = 119
						province_id = 114
						province_id = 3701
						province_id = 3702
						area = upper_andalucia_area
					}
					NOT = {
						area = hokkaido_area
						province_id = 126
					}
				}
				multiply_key = { lhs = Tmp_9 value = 1.333 } # balancing
				Public_AddProduceVar_3 = {
					prod = 42
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}
			else_if = {
				limit = {
					OR = {
						trade_goods = cotton

						has_province_flag = cotton
						trade_goods = hemp
						has_province_flag = hemp
						has_province_flag = agave
					}
					check_key = { lhs = SF_Total value = 8 }
					check_key = { lhs = Land_CropOutput value = 1 }
				}
				Public_AddProduceVar_3 = {
					prod = 11
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}
			else_if = {
				limit = {
					Prod_Can_7 = yes
					OR = {
						trade_goods = wool
						trade_goods = livestock
						trade_goods = cheese
						superregion = south_africa_superregion
						superregion = east_africa_superregion
						superregion = west_africa_superregion
						superregion = eastern_steppe_superregion
						continent = central_asia
					}
					OR = {
						check_key = { lhs = SF_Total value = 8 }
						superregion = south_africa_superregion
						superregion = east_africa_superregion
						superregion = west_africa_superregion
						superregion = eastern_steppe_superregion
						continent = central_asia
					}
					NOT = {
						OR = {
							area = jinling_area
							area = wu_area
							area = songjiang_area
							area = hangzhou_area
							province_id = 2145
							area = south_zhejiang_area
							area = east_zhejiang_area
							province_id = 2490
							province_id = 680
							province_id = 1471
							province_id = 2200
							province_id = 2410
							province_id = 3532
							province_id = 852
							province_id = 2406
							superregion = japan_superregion
							AND = {
								region = egypt_region
								has_terrain = floodplains
							}
							province_id = 2913
							province_id = 3292
							province_id = 2544
							province_id = 735
							province_id = 737
							province_id = 2802
							province_id = 1822
						}
					}
				}
				Public_AddProduceVar_3 = {
					prod = 7
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}
			else_if = {
				limit = {
					Prod_Can_11 = yes
					check_key = { lhs = SF_Total value = 8 }
				}
				Public_AddProduceVar_3 = {
					prod = 11
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			if = {
				limit = {
					check_key = { lhs = SF_Total value = 0.1 }
					OR = {
						has_province_flag = nutmeg
						has_province_flag = spices
						has_province_flag = saffron
						has_province_flag = cumin
						has_province_flag = coriander
						has_province_flag = chilli
						has_province_flag = sesame
						has_province_flag = ginger
						has_province_flag = vanilla
					}
				}
				set_key = { lhs = Tmp_9 which = Building_Agriculture }
				multiply_key = { lhs = Tmp_9 value = 0.65 }
				Public_AddProduceVar_3 = {
					prod = 20
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}
			else_if = {
				limit = {
					check_key = { lhs = SF_Total value = 0.1 }
					OR = {
						trade_goods = carmine
						trade_goods = indigo
					}
				}
				set_province_flag = dyes

				set_key = { lhs = Tmp_9 which = Building_Agriculture }
				multiply_key = { lhs = Tmp_9 value = 0.65 }
				Public_AddProduceVar_3 = {
					prod = 12
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}
			else_if = {
				limit = {
					Prod_Can_19 = yes

					OR = {
						has_province_flag = tea
						has_province_flag = sugar
						has_province_flag = coffee
						has_province_flag = cacao
						has_province_flag = coca
						has_province_flag = cashcrop
						has_province_flag = incense
					}
				}
				set_key = { lhs = Tmp_9 which = Building_Agriculture }
				multiply_key = { lhs = Tmp_9 value = 0.65 }
				Public_AddProduceVar_3 = {
					prod = 19
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}
			else_if = {
				limit = {
					Prod_Can_19 = yes

					OR = {
						has_province_flag = beer
						has_province_flag = honey
						has_province_flag = wine
						has_province_flag = olive
						has_province_flag = fruits
						has_province_flag = dates
						has_province_flag = kola
						has_province_flag = ginseng
					}
				}
				set_key = { lhs = Tmp_9 which = Building_Agriculture }
				multiply_key = { lhs = Tmp_9 value = 0.7 }

				Public_AddProduceVar_3 = {
					prod = 19
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			set_key = { lhs = Tmp_9 which = Building_Academic }

			if = {
				limit = {
					check_key = { lhs = Tmp_9 value = 1 }
				}
				if = {
					limit = {
						OR = {
							has_province_flag = small_university
							has_province_flag = medium_university
							has_province_flag = large_university
						}
					}
					set_key = { lhs = Tmp_9 which = LT_Total }
					change_key = { lhs = Tmp_9 value = 10 }
					multiply_key = { lhs = Tmp_9 value = 15 }
					Public_AddProduceVar_3 = {
						prod = 30
						wealth = 0
						soph = 100
						size = Tmp_9
					}
				}
			}

			set_key = { lhs = Tmp_9 which = CL_Total }
			multiply_key = { lhs = Tmp_9 value = 16 }
			Public_AddProduceVar_3 = {
				prod = 29
				wealth = 0
				soph = 100
				size = Tmp_9
			}

			if = {
				limit = {
					check_key = { lhs = SF_Total value = 5 }
					isValidProv = yes
				}
				set_key = { lhs = Tmp_9 which = SF_Total }
				divide_key = { lhs = Tmp_9 value = 17 }

				Public_AddProduceVar_3 = {
					prod = 38
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			set_key = { lhs = Tmp_9 which = SF_Total }
			multiply_key = { lhs = Tmp_9 value = 0.05 }
			if = {
				limit = {
					Prod_Can_7 = yes
					check_key = { lhs = SF_Total value = 1 }
					NOT = {
						OR = {
							area = jinling_area
							area = wu_area
							area = songjiang_area
							area = hangzhou_area
							province_id = 2145
							area = south_zhejiang_area
							area = east_zhejiang_area
							province_id = 2490
							province_id = 680
							province_id = 1471
							province_id = 2200
							province_id = 2410
							province_id = 3532
							province_id = 852
							province_id = 2406
							superregion = japan_superregion
							AND = {
								region = egypt_region
								has_terrain = floodplains
							}
							province_id = 2913
							province_id = 3292
							province_id = 2544
							province_id = 735
							province_id = 737
							province_id = 2802
							province_id = 1822
						}
					}
				}
				Public_AddProduceVar_3 = {
					prod = 7
					wealth = 0
					soph = 100
					size = Tmp_9
				}
			}

			clr_province_flag = small_university
			clr_province_flag = medium_university
			clr_province_flag = large_university

			set_key = { lhs = Tmp_8 value = 0 }
			set_key = { lhs = Tmp_9 value = 0 }
			change_trade_goods = subsistence

			remove_province_modifier = fur_low
			remove_province_modifier = fur_medium
			remove_province_modifier = fur_large
			Public_AddProduceVar_4 = yes
		}
	}
}
