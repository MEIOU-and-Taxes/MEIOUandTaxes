namespace = cosimo_begins
namespace = medici_system

country_event = {
	id = cosimo_begins.1
	title = "cosimo_begins.EVTNAME1"
	desc = "cosimo_begins.EVTDESC1"
	picture = MEDICI_DIVIDENDS_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1390
		NOT = { is_year = 1410 }
		OR = {
			tag = FIR
			tag = TUS
		}
		owns = 116
		exists = PAP
	}
	mean_time_to_happen = {
		years = 1
	}
	immediate = {
		set_country_flag = giovanni_bicci_medici
	}
	option = {
		name = "cosimo_begins.EVTOPTA1"
		add_years_of_income = 0.25
		ai_chance = {
			factor = 75
		}
	}
	option = {
		name = "cosimo_begins.EVTOPTB1"
		define_advisor = {
			type = treasurer_BG
			name = "Giovanni de' Medici"
			location = 116
			skill = 3
			discount = yes
		}
		ai_chance = {
			factor = 25
		}
	}
}
country_event = {
	id = cosimo_begins.2
	title = "cosimo_begins.EVTNAME2"
	desc = "cosimo_begins.EVTDESC2"
	picture = MEDICI_COA_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1410
		NOT = { is_year = 1420 }
		OR = {
			tag = FIR
			tag = TUS
		}
		owns = 116
		exists = PAP
		government = republic
		has_country_flag = giovanni_bicci_medici
	}
	mean_time_to_happen = {
		years = 1
	}
	immediate = {
		set_country_flag = cosimo_de_medici
	}
	option = {
		name = "cosimo_begins.EVTOPTA2"
		add_adm_power = 15
		add_dip_power = 15
	}
}
country_event = {
	id = cosimo_begins.3
	title = "cosimo_begins.EVTNAME3"
	desc = "cosimo_begins.EVTDESC3"
	picture = MEDICI_FAMILY_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1420
		NOT = { is_year = 1430 }
		OR = {
			tag = FIR
			tag = TUS
		}
		owns = 116
		exists = PAP
		government = republic
		has_country_flag = cosimo_de_medici
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = "cosimo_begins.EVTOPTA3"
		add_adm_power = 30
		add_dip_power = 30
		add_treasury = 100
		Stab_Subtract1 = yes
		#TODO: move to Oligarchic govt reform?
		set_country_flag = cosimo_de_medici_support
		ai_chance = {
			factor = 90
		}
	}
	option = {
		name = "cosimo_begins.EVTOPTB3"
		add_adm_power = -15
		add_dip_power = -15
		Stab_Add50Percent = yes
		ai_chance = {
			factor = 10
		}
	}
}
country_event = {
	id = cosimo_begins.4
	title = "cosimo_begins.EVTNAME4"
	desc = "cosimo_begins.EVTDESC4"
	picture = MEDICI_PALAZZO_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1430
		NOT = { is_year = 1440 }
		OR = {
			tag = FIR
			tag = TUS
		}
		owns = 116
		exists = PAP
		government = republic
		has_country_flag = cosimo_de_medici_support
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = "cosimo_begins.EVTOPTA4"
		define_ruler = {
			name = "Cosimo de' Medici"
			adm = 6
			dip = 5
			mil = 5
		}
		hidden_effect = {
			country_event = {
				id = cosimo_begins.5
				days = 7
			}
		}
		ai_chance = {
			factor = 90
		}
	}
	option = {
		name = "cosimo_begins.EVTOPTB4"
		add_prestige = 10
		add_republican_tradition = 10
		define_ruler = {
			name = "Rinaldo degli Albizzi"
			adm = 4
			dip = 2
			mil = 3
		}
		ai_chance = {
			factor = 10
		}
	}
}
country_event = {
	id = cosimo_begins.5
	title = "cosimo_begins.EVTNAME5"
	desc = "cosimo_begins.EVTDESC5"
	picture = MEDICI_COSIMO_eventPicture
	is_triggered_only = yes
	major = yes
	option = {
		name = "medici_system.EVTOPTA0"
		2530 = { #Rome
			add_province_modifier = {
				name = "provincial_medici_bank"
				duration = -1
			}
		}
		add_opinion = {
			who = PAP
			modifier = opinion_flo_medici_bank
		}
		reverse_add_opinion = {
			who = PAP
			modifier = opinion_flo_medici_bank
		}
		custom_tooltip = medici_system_setup
		custom_tooltip = medici_system_start_1434
		set_country_flag = medici_system_triggers_active
		set_country_flag = cosimo_medici_in_power
		add_country_modifier = {
			name = "medici_system_information"
			duration = -1
		}
		set_country_flag = Medici_new
		add_country_modifier = {
			name = "gonfaloniere_artigiani"
			duration = -1
		}
		hidden_effect = {
			set_variable = {
				which = "popolo_favor"
				value = 5
			}
			set_variable = {
				which = "artigiani_favor"
				value = 4
			}
			set_variable = {
				which = "mercanti_favor"
				value = 3
			}
		}
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = cosimo_begins.6
	title = "cosimo_begins.EVTNAME6"
	desc = "cosimo_begins.EVTDESC6"
	picture = MEDICI_GONFALONIERE_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_modifier = "medici_system_information"
		had_country_flag = {
			flag = Medici_new
			days = 3650
		}
	}
	mean_time_to_happen = {
		years = 1
	}
	immediate = {
		clr_country_flag = Medici_new
	}
	option = {
		name = "OPT.GOOD2"
		add_prestige = 10
		Stab_Add50Percent = yes

		custom_tooltip = mercanti_little_add
		custom_tooltip = artigiani_little_add
		custom_tooltip = popolo_little_add

		hidden_effect = {
			change_variable = {
				which = "mercanti_favor"
				value = 1
			}
			change_variable = {
				which = "artigiani_favor"
				value = 1
			}
			change_variable = {
				which = "popolo_favor"
				value = 1
			}
		}

		recalculate_medici_faction_relation_modifiers = yes
	}
}

country_event = {
	id = medici_system.0
	title = "medici_system.EVTNAME0"
	desc = "medici_system.EVTDESC0"
	picture = MEDICI_COSIMO_eventPicture
	fire_only_once = yes
	mean_time_to_happen = {
		months = 1
	}
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_flag = italian_power
		NOT = { has_country_flag = giovanni_bicci_medici }
	}
	immediate  = {
		2530 = { #Rome
			add_province_modifier = {
				name = "provincial_medici_bank"
				duration = -1
			}
		}
		add_opinion = {
			who = PAP
			modifier = opinion_flo_medici_bank
		}
		reverse_add_opinion = {
			who = PAP
			modifier = opinion_flo_medici_bank
		}
		set_country_flag = medici_system_triggers_active
		add_country_modifier = {
			name = "gonfaloniere_artigiani"
			duration = -1
		}
	}
	option = { #between 1434 and 1444, opinion 5/4/3
		name = "medici_system.EVTOPTA0"
		trigger = {
			is_year = 1434
			NOT = { is_year = 1444 }
		}
		custom_tooltip = medici_system_setup
		custom_tooltip = medici_system_start_1434
		set_country_flag = cosimo_medici_in_power
		set_country_flag = Medici_new

		hidden_effect = {
			set_variable = {
				which = "popolo_favor"
				value = 5
			}
			set_variable = {
				which = "artigiani_favor"
				value = 4
			}
			set_variable = {
				which = "mercanti_favor"
				value = 3
			}
		}
	}
	option = { #between 1444 and 1460, opinion 5/5/5
		name = "medici_system.EVTOPTA0"
		trigger = {
			is_year = 1444
			NOT = { is_year = 1460 }
		}
		custom_tooltip = medici_system_setup
		custom_tooltip = medici_system_start_1444
		set_country_flag = cosimo_medici_in_power

		hidden_effect = {
			set_variable = {
				which = "popolo_favor"
				value = 5
			}
			set_variable = {
				which = "artigiani_favor"
				value = 5
			}
			set_variable = {
				which = "mercanti_favor"
				value = 5
			}
		}
	}
	option = { #between 1460 and 1465, opinion 9/8/8
		name = "medici_system.EVTOPTA0"
		trigger = {
			is_year = 1460
			NOT = { is_year = 1465 }
		}
		custom_tooltip = medici_system_setup
		custom_tooltip = medici_system_start_1460
		set_country_flag = cosimo_medici_in_power

		hidden_effect = {
			set_variable = {
				which = "popolo_favor"
				value = 9
			}
			set_variable = {
				which = "artigiani_favor"
				value = 8
			}
			set_variable = {
				which = "mercanti_favor"
				value = 8
			}
		}
	}
	option = { #between 1468 and 1470, opinion 8/7/7
		name = "medici_system.EVTOPTA0"
		trigger = {
			is_year = 1465
			NOT = { is_year = 1470 }
		}
		custom_tooltip = medici_system_setup
		custom_tooltip = medici_system_start_1465
		set_country_flag = piero_medici_in_power

		hidden_effect = {
			set_variable = {
				which = "popolo_favor"
				value = 8
			}
			set_variable = {
				which = "artigiani_favor"
				value = 7
			}
			set_variable = {
				which = "mercanti_favor"
				value = 7
			}
		}
	}
	after = {
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = medici_system.1
	title = "medici_system.EVTNAME1"
	desc = "medici_system.EVTDESC1"
	picture = MEDICI_PIERO_eventPicture
	is_triggered_only = yes
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_flag = cosimo_medici_in_power
		NOT = { has_country_flag = piero_medici_in_power }
	}
	option = {
		name = "medici_system.EVTOPTA1"
		ai_chance = {
			factor = 99
		}
		clr_country_flag = cosimo_medici_in_power
		set_country_flag = piero_medici_in_power
		add_republican_tradition = -10
		
		custom_tooltip = popolo_little_sub
		custom_tooltip = artigiani_little_sub
		custom_tooltip = mercanti_little_sub

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = -1
			}
			change_variable = {
				which = "artigiani_favor"
				value = -1
			}
			change_variable = {
				which = "mercanti_favor"
				value = -1
			}
		}

		recalculate_medici_faction_relation_modifiers = yes
		define_ruler = {
			name = "Piero de' Medici"
			adm = 3
			dip = 2
			mil = 2
		}
	}
	option = {
		name = "medici_system.EVTOPTB1"
		ai_chance = {
			factor = 1
		}
		remove_country_modifier = "medici_system_information"
		clr_country_flag = cosimo_medici_in_power
		add_republican_tradition = 5
		custom_tooltip = new_ruler
		hidden_effect = {
			random_list = {
				33 = {
					define_ruler = {
						adm = 1
					}
				}
				34 = {
					define_ruler = {
						dip = 1
					}
				}
				33 = {
					define_ruler = {
						mil = 1
					}
				}
			}
		}
	}
}
country_event = {
	id = medici_system.2
	title = "medici_system.EVTNAME2"
	desc = "medici_system.EVTDESC2"
	picture = MEDICI_LORENZO_eventPicture
	is_triggered_only = yes
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_flag = piero_medici_in_power
		NOT = { has_country_flag = lorenzo_medici_in_power }
	}
	option = {
		name = "medici_system.EVTOPTA2"
		ai_chance = {
			factor = 99
		}
		set_country_flag = lorenzo_medici_in_power
		clr_country_flag = piero_medici_in_power
		add_republican_tradition = -10

		custom_tooltip = popolo_little_sub
		custom_tooltip = artigiani_little_sub
		custom_tooltip = mercanti_little_sub

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = -1
			}
			change_variable = {
				which = "artigiani_favor"
				value = -1
			}
			change_variable = {
				which = "mercanti_favor"
				value = -1
			}
		}
		recalculate_medici_faction_relation_modifiers = yes

		define_ruler = {
			name = "Lorenzo de' Medici"
			adm = 5
			dip = 6
			mil = 3
		}
	}
	option = {
		name = "medici_system.EVTOPTB2"
		ai_chance = {
			factor = 1
		}
		remove_country_modifier = "medici_system_information"
		clr_country_flag = piero_medici_in_power
		add_republican_tradition = 5
		custom_tooltip = new_ruler
		hidden_effect = {
			random_list = {
				33 = {
					define_ruler = {
						adm = 1
					}
				}
				34 = {
					define_ruler = {
						dip = 1
					}
				}
				33 = {
					define_ruler = {
						mil = 1
					}
				}
			}
		}
	}
}
country_event = {
	id = medici_system.3
	title = "medici_system.EVTNAME3"
	desc = "medici_system.EVTDESC3"
	picture = MEDICI_FIRENZE_eventPicture
	is_triggered_only = yes
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_flag = lorenzo_medici_in_power
	}
	option = {
		name = "medici_system.EVTOPTA3"
		remove_country_modifier = "medici_system_information"
		clr_country_flag = lorenzo_medici_in_power
		add_republican_tradition = 5
		custom_tooltip = new_ruler
		hidden_effect = {
			random_list = {
				33 = {
					define_ruler = {
						adm = 1
					}
				}
				34 = {
					define_ruler = {
						dip = 1
					}
				}
				33 = {
					define_ruler = {
						mil = 1
					}
				}
			}
		}
	}
}
country_event = {
	id = medici_system.4
	title = "medici_system.EVTNAME4"
	desc = "medici_system.EVTDESC4"
	picture = MEDICI_PALAZZO_eventPicture
	is_triggered_only = yes
	trigger = {
		has_country_modifier = "medici_system_information"
	}
	immediate = {
		remove_country_modifier = gonfaloniere_popolo
		remove_country_modifier = gonfaloniere_artigiani
		remove_country_modifier = gonfaloniere_mercanti
	}
	option = {
		name = "medici_system.EVTOPTA4"
		custom_tooltip = popolo_medium_add
		custom_tooltip = artigiani_little_sub
		custom_tooltip = mercanti_little_sub
		
		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = 2
			}
			change_variable = {
				which = "artigiani_favor"
				value = -1
			}
			change_variable = {
				which = "mercanti_favor"
				value = -1
			}
		}

		add_country_modifier = {
			name = "gonfaloniere_popolo"
			duration = -1
		}
	}
	option = {
		name = "medici_system.EVTOPTB4"
		custom_tooltip = popolo_little_sub
		custom_tooltip = artigiani_medium_add
		custom_tooltip = mercanti_little_sub

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = -1
			}
			change_variable = {
				which = "artigiani_favor"
				value = 2
			}
			change_variable = {
				which = "mercanti_favor"
				value = -1
			}
		}
			
		add_country_modifier = {
			name = "gonfaloniere_artigiani"
			duration = -1
		}
	}
	option = {
		name = "medici_system.EVTOPTC4"
		custom_tooltip = popolo_little_sub
		custom_tooltip = artigiani_little_sub
		custom_tooltip = mercanti_medium_add

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = -1
			}
			change_variable = {
				which = "artigiani_favor"
				value = -1
			}
			change_variable = {
				which = "mercanti_favor"
				value = 2
			}
		}

		add_country_modifier = {
			name = "gonfaloniere_mercanti"
			duration = -1
		}
	}
	option = {
		trigger = {
			ai = yes
		}
		name = "medici_system.EVTOPTD4"
		ai_chance = {
			factor = 100
		}
	}
	after = {
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = medici_system.5
	title = "medici_system.EVTNAME5"
	desc = "medici_system.EVTDESC5"
	picture = MEDICI_FAMILY_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA5"
		add_republican_tradition = 5
		add_opinion = {
			who = FROM
			modifier = opinion_flo_medici_bank
		}
		reverse_add_opinion = {
			who = FROM
			modifier = opinion_flo_medici_bank
		}
		capital_scope = {
			add_province_modifier = {
				name = "provincial_medici_bank"
				duration = -1
			}
		}
	}
}
country_event = {
	id = medici_system.6
	title = "medici_system.EVTNAME6"
	desc = "medici_system.EVTDESC6"
	picture = MEDICI_FAMILY_eventPicture
	trigger = {
		any_owned_province = {
			has_province_modifier = provincial_medici_bank
		}
		OR = {
			any_country = {
				has_country_modifier = "medici_system_information"
			}
			any_country = {
				has_country_flag = medici_signoria
			}
		}
		OR = {
			war_with = FIR
			war_with = TUS
		}
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA6"
		add_years_of_income = 0.33
		every_province = {
			limit = {
				owned_by = ROOT
			}
			remove_province_modifier = provincial_medici_bank
		}
		every_country = {
			limit = {
				OR = {
					has_country_modifier = "medici_system_information"
					has_country_flag = medici_signoria
				}
			}
			country_event = {
				id = medici_system.7
			}
		}
	}
}
country_event = {
	id = medici_system.7
	title = "medici_system.EVTNAME7"
	desc = "medici_system.EVTDESC7"
	picture = MEDICI_FAMILY_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA7"
		remove_opinion = {
			who = FROM
			modifier = opinion_flo_medici_bank
		}
		reverse_remove_opinion = {
			who = FROM
			modifier = opinion_flo_medici_bank
		}
	}
}
country_event = {
	id = medici_system.8
	title = "medici_system.EVTNAME8"
	desc = "medici_system.EVTDESC8"
	picture = MEDICI_DIVIDENDS_eventPicture
	trigger = {
		2530 = { #Rome
			has_province_modifier = provincial_medici_bank
		}
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		NOT = { has_country_modifier = yearly_papal_dividends } #TODO: make it into a country flag to avoid popup spam?
		NOT = { has_country_flag = no_medici_dividends }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA8"
		trigger = {
			has_country_modifier = "medici_system_information"
		}
		add_treasury = 25
		add_country_modifier = {
			name = "yearly_papal_dividends"
			duration = 365
		}
	}
	option = {
		name = "medici_system.EVTOPTB8"
		trigger = {
			has_country_flag = medici_signoria
		}
		add_treasury = 10
		add_country_modifier = {
			name = "yearly_papal_dividends"
			duration = 365
		}
	}
}
country_event = {
	id = medici_system.9
	title = "medici_system.EVTNAME9"
	desc = "medici_system.EVTDESC9"
	picture = MEDICI_DIVIDENDS_eventPicture
	trigger = {
		104 = {
			has_province_modifier = provincial_medici_bank
		}
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		NOT = { has_country_modifier = yearly_milan_dividends }
		NOT = { has_country_flag = no_medici_dividends }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA8"
		trigger = {
			has_country_modifier = "medici_system_information"
		}
		add_treasury = 25
		add_country_modifier = {
			name = "yearly_milan_dividends"
			duration = 365
		}
	}
	option = {
		name = "medici_system.EVTOPTB8"
		trigger = {
			has_country_flag = medici_signoria
		}
		add_treasury = 10
		add_country_modifier = {
			name = "yearly_milan_dividends"
			duration = 365
		}
	}
}
country_event = {
	id = medici_system.10
	title = "medici_system.EVTNAME10"
	desc = "medici_system.EVTDESC10"
	picture = MEDICI_DIVIDENDS_eventPicture
	trigger = {
		112 = {
			has_province_modifier = provincial_medici_bank
		}
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		NOT = { has_country_modifier = yearly_venice_dividends }
		NOT = { has_country_flag = no_medici_dividends }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA8"
		trigger = {
			has_country_modifier = "medici_system_information"
		}
		add_treasury = 25
		add_country_modifier = {
			name = "yearly_venice_dividends"
			duration = 365
		}
	}
	option = {
		name = "medici_system.EVTOPTB8"
		trigger = {
			has_country_flag = medici_signoria
		}
		add_treasury = 10
		add_country_modifier = {
			name = "yearly_venice_dividends"
			duration = 365
		}
	}
}
country_event = {
	id = medici_system.11
	title = "medici_system.EVTNAME11"
	desc = "medici_system.EVTDESC11"
	picture = MEDICI_DIVIDENDS_eventPicture
	trigger = {
		2531 = {
			has_province_modifier = provincial_medici_bank
		}
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		NOT = { has_country_modifier = yearly_naples_dividends }
		NOT = { has_country_flag = no_medici_dividends }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA8"
		trigger = {
			has_country_modifier = "medici_system_information"
		}
		add_treasury = 25
		add_country_modifier = {
			name = "yearly_naples_dividends"
			duration = 365
		}
	}
	option = {
		name = "medici_system.EVTOPTB8"
		trigger = {
			has_country_flag = medici_signoria
		}
		add_treasury = 10
		add_country_modifier = {
			name = "yearly_naples_dividends"
			duration = 365
		}
	}
}
country_event = {
	id = medici_system.12
	title = "medici_system.EVTNAME12"
	desc = "medici_system.EVTDESC12"
	picture = MEDICI_PALAZZO_eventPicture
	is_triggered_only = yes
	trigger = {
		has_country_flag = medici_signoria
	}
	option = {
		name = "EVTOPTA700" #Keep ruler
		trigger = {
			has_regency = no
			NOT = { has_ruler_flag = leader_has_been_pushed_out }
		}
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				NOT = { republican_tradition = 25 }
			}
			modifier = {
				factor = 0.5
				NOT = { republican_tradition = 50 }
			}
			modifier = {
				factor = 0.5
				NOT = { republican_tradition = 75 }
			}
			modifier = {
				factor = 2.0
				republican_tradition = 90
			}
		}
		custom_tooltip = remains_ruler
		add_scaled_republican_tradition = -10
		hidden_effect = {
			change_variable = {
				which = ms_var
				value = 1
			}
		}
	}
	option = {
		name = "EVTOPTB700"
		ai_chance = {
			factor = 0
		}
		define_ruler = {}
		hidden_effect = {
			set_variable = {
				which = ms_var
				value = 0
			}
		}
		clr_country_flag = medici_signoria
	}
	option = {
		name = "EVTOPTC700"
		ai_chance = {
			factor = 0
		}
		define_ruler = {}
		hidden_effect = {
			set_variable = {
				which = ms_var
				value = 0
			}
		}
		clr_country_flag = medici_signoria
	}
}
country_event = {
	id = medici_system.13
	title = "medici_system.EVTNAME13"
	desc = "medici_system.EVTDESC13"
	picture = MEDICI_COSIMO_eventPicture
	is_triggered_only = yes
	major = yes
	trigger = {
		OR = { 
			tag = FIR
			tag = TUS
		}
		has_country_flag = medici_signoria
	}
	immediate = {
		Pol_ChangeGovMonarchy = { Succession=1 Assembly=2 } 
		add_government_reform = Pol_Nobility2
		if = {
			limit = {
				NOT = {
					has_country_modifier = title_4
					has_country_modifier = title_5
					has_country_modifier = title_6
				}
			}
			change_title_4 = yes
		}
		add_legitimacy = 75
	}
	option = {
		trigger = {
			has_country_flag = cosimo_medici_in_power
		}
		name = "medici_system.EVTOPTA13"
		define_ruler = {
			name = "Piero"
			dynasty = "de' Medici"
			adm = 3
			dip = 2
			mil = 2
		}
		define_heir = {
			name = "Lorenzo"
			dynasty = "de' Medici"
			claim = 100
			adm = 5
			dip = 6
			mil = 3
		}
	}
	option = {
		trigger = {
			has_country_flag = piero_medici_in_power
		}
		name = "medici_system.EVTOPTB13"
		define_ruler = {
			name = "Lorenzo"
			dynasty = "de' Medici"
			adm = 5
			dip = 6
			mil = 3
		}
		define_heir = {
			name = "Piero"
			dynasty = "de' Medici"
			claim = 100
			adm = 3
			dip = 5
			mil = 4
		}
	}
	option = {
		trigger = {
			has_country_flag = lorenzo_medici_in_power
		}
		name = "medici_system.EVTOPTC13"
		define_ruler = {
			name = "Piero"
			dynasty = "de' Medici"
			adm = 3
			dip = 5
			mil = 4
		}
		define_heir = {
			name = "Giuliano"
			dynasty = "de' Medici"
			claim = 100
			adm = 3
			dip = 5
			mil = 4
		}
	}
	option = {
		trigger = {
			NOT = { has_country_flag = cosimo_medici_in_power }
			NOT = { has_country_flag = piero_medici_in_power }
			NOT = { has_country_flag = lorenzo_medici_in_power }
		}
		name = "medici_system.EVTOPTA13"
		define_ruler = {
			dynasty = "de' Medici"
			adm = 3
			dip = 2
			mil = 2
		}
		define_heir = {
			dynasty = "de' Medici"
			claim = 100
			adm = 5
			dip = 6
			mil = 3
		}
	}
}
country_event = {
	id = medici_system.14
	title = "medici_system.EVTNAME14"
	desc = "medici_system.EVTDESC14"
	picture = MEDICI_GONFALONIERE_eventPicture
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_popolo
		years_of_income = 0.3
	}
	mean_time_to_happen = {
		years = 8
	}
	option = {
		name = "medici_system.EVTOPTA14"
		ai_chance = {
			factor = 0
		}
		custom_tooltip = artigiani_little_sub
		hidden_effect = {
			change_variable = {
				which = "artigiani_favor"
				value = -1
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB14"
		ai_chance = {
			factor = 0
		}
		custom_tooltip = popolo_little_sub
		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = -1
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTC14"
		ai_chance = {
			factor = 100
		}
		add_years_of_income = -0.25
	}
	option = {
		name = "medici_system.EVTOPTD14"
		ai_chance = {
			factor = 0
		}

		custom_tooltip = popolo_medium_add
		custom_tooltip = artigiani_medium_sub

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = 2
			}
			change_variable = {
				which = "artigiani_favor"
				value = -2
			}
		}
	}
	after = {
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = medici_system.15
	title = "medici_system.EVTNAME15"
	desc = "medici_system.EVTDESC15"
	picture = MEDICI_GONFALONIERE_eventPicture
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_popolo
		years_of_income = 0.3
	}
	mean_time_to_happen = {
		years = 8
	}
	option = {
		name = "medici_system.EVTOPTA14"
		ai_chance = {
			factor = 0
		}
		custom_tooltip = mercanti_little_sub
		hidden_effect = {
			change_variable = {
				which = "mercanti_favor"
				value = -1
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB14"
		ai_chance = {
			factor = 0
		}
		custom_tooltip = popolo_little_sub
		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = -1
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTC14"
		ai_chance = {
			factor = 100
		}
		add_years_of_income = -0.25
	}
	option = {
		name = "medici_system.EVTOPTD14"
		ai_chance = {
			factor = 0
		}
		custom_tooltip = popolo_medium_add
		custom_tooltip = mercanti_medium_sub

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = 2
			}
			change_variable = {
				which = "mercanti_favor"
				value = -2
			}
		}
	}
	after = {
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = medici_system.16
	title = "medici_system.EVTNAME16"
	desc = "medici_system.EVTDESC16"
	picture = MEDICI_GONFALONIERE_eventPicture
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_artigiani
		years_of_income = 0.4
	}
	mean_time_to_happen = {
		years = 8
		modifier = {
			factor = 0.75
			stability = 2
		}
	}
	option = {
		name = "medici_system.EVTOPTA16"
		ai_chance = {
			factor = 0
		}
		custom_tooltip = popolo_little_sub
		custom_tooltip = mercanti_medium_sub
		custom_tooltip = artigiani_big_add

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = -1
			}
			change_variable = {
				which = "mercanti_favor"
				value = -2
			}
			change_variable = {
				which = "artigiani_favor"
				value = 3
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB16"
		ai_chance = {
			factor = 0
		}
		
		custom_tooltip = popolo_little_add
		custom_tooltip = mercanti_medium_add
		custom_tooltip = artigiani_big_sub

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = 1
			}
			change_variable = {
				which = "mercanti_favor"
				value = 2
			}
			change_variable = {
				which = "artigiani_favor"
				value = -3
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTC14"
		ai_chance = {
			factor = 100
		}
		add_years_of_income = -0.35
	}
	after = {
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = medici_system.17
	title = "medici_system.EVTNAME17"
	desc = "medici_system.EVTDESC17"
	picture = MEDICI_GONFALONIERE_eventPicture
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_artigiani
		years_of_income = 0.4
	}
	mean_time_to_happen = {
		years = 8
	}
	option = {
		name = "medici_system.EVTOPTA17"
		ai_chance = {
			factor = 0
		}

		custom_tooltip = popolo_big_sub
		custom_tooltip = mercanti_medium_add

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = -3
			}
			change_variable = {
				which = "mercanti_favor"
				value = 2
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB17"
		ai_chance = {
			factor = 0
		}
		custom_tooltip = popolo_big_add
		custom_tooltip = mercanti_medium_sub

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = 3
			}
			change_variable = {
				which = "mercanti_favor"
				value = -2
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTC14"
		ai_chance = {
			factor = 100
		}
		add_years_of_income = -0.35
	}
	after = {
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = medici_system.18
	title = "medici_system.EVTNAME18"
	desc = "medici_system.EVTDESC18"
	picture = MEDICI_GONFALONIERE_eventPicture
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_mercanti
		years_of_income = 0.5
	}
	mean_time_to_happen = {
		years = 8
	}
	option = {
		name = "medici_system.EVTOPTA18"
		ai_chance = {
			factor = 0
		}

		custom_tooltip = popolo_big_sub
		custom_tooltip = mercanti_medium_add

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = -3
			}
			change_variable = {
				which = "mercanti_favor"
				value = 2
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB18"
		ai_chance = {
			factor = 0
		}
		custom_tooltip = popolo_big_add
		custom_tooltip = mercanti_medium_sub

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = 3
			}
			change_variable = {
				which = "mercanti_favor"
				value = -2
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTC18"
		ai_chance = {
			factor = 100
		}
		add_years_of_income = -0.45
	}
	after = {
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = medici_system.19
	title = "medici_system.EVTNAME19"
	desc = "medici_system.EVTDESC19"
	picture = MEDICI_GONFALONIERE_eventPicture
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_mercanti
		years_of_income = 0.5
	}
	mean_time_to_happen = {
		years = 8
	}
	option = {
		name = "medici_system.EVTOPTA19"
		ai_chance = {
			factor = 0
		}
		custom_tooltip = popolo_little_sub
		custom_tooltip = artigiani_little_sub
		custom_tooltip = mercanti_medium_add

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = -1
			}
			change_variable = {
				which = "artigiani_favor"
				value = -1
			}
			change_variable = {
				which = "mercanti_favor"
				value = 1
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB19"
		ai_chance = {
			factor = 0
		}
		custom_tooltip = popolo_little_add
		custom_tooltip = artigiani_little_add
		custom_tooltip = mercanti_little_sub

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = 1
			}
			change_variable = {
				which = "artigiani_favor"
				value = 1
			}
			change_variable = {
				which = "mercanti_favor"
				value = -1
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTC18"
		ai_chance = {
			factor = 100
		}
		add_years_of_income = -0.45
	}
	after = {
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = medici_system.20
	title = "medici_system.EVTNAME20"
	desc = "medici_system.EVTDESC20"
	picture = MEDICI_FIRENZE_eventPicture
	trigger = {
		has_country_modifier = "medici_system_information"
		is_at_war = yes
		NOT = { has_country_modifier = anti_medici_sentiment }
		NOT = { war_with = PIS }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA20"
		
		custom_tooltip = popolo_little_sub
		custom_tooltip = artigiani_little_sub
		custom_tooltip = mercanti_little_sub

		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = -1
			}
			change_variable = {
				which = "artigiani_favor"
				value = -1
			}
			change_variable = {
				which = "mercanti_favor"
				value = 1
			}
		}

		recalculate_medici_faction_relation_modifiers = yes

		add_country_modifier = {
			name = "anti_medici_sentiment"
			duration = -1
		}
	}
}
country_event = {
	id = medici_system.21
	title = "medici_system.EVTNAME21"
	desc = "medici_system.EVTDESC21"
	picture = MEDICI_FIRENZE_eventPicture
	trigger = {
		is_at_war = no
		has_country_modifier = anti_medici_sentiment
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA21"
		remove_country_modifier = anti_medici_sentiment
	}
}

### Event chain about Pisa status
country_event = {
	id = medici_system.22
	title = "medici_system.EVTNAME22"
	desc = "medici_system.EVTDESC22"
	picture = MEDICI_PISA_eventPicture
	fire_only_once = yes
	trigger = {
		is_at_war = no
		owns = 1380 #Pisa
		controls = 1380
		is_year = 1470
		NOT = { has_global_flag = pisa_question }
		NOT = { has_country_flag = Pisa_Florence_War }
		OR = {
			tag = FIR
			tag = TUS
		}
		NOT = { exists = PIS }
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = "medici_system.EVTOPTA22"
		set_global_flag = pisa_question
		set_country_flag = pisa_question_denied
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = "medici_system.EVTOPTB22"
		create_vassal = PIS
		set_global_flag = pisa_question
		ai_chance = {
			factor = 0
		}
	}
}
country_event = {
	id = medici_system.23
	title = "medici_system.EVTNAME23"
	desc = "medici_system.EVTDESC23"
	picture = MEDICI_PISA_eventPicture
	major = yes
	fire_only_once = yes
	trigger = {
		has_global_flag = pisa_question
		has_country_flag = pisa_question_denied
		num_of_cities = 2
		NOT = { has_global_flag = pisan_insurrection }
		NOT = { has_country_flag = Pisa_Florence_War }
		owns = 1380
		controls = 1380
		OR = {
			tag = FIR
			tag = TUS
		}
		is_year = 1480
		OR = {
			has_truce = yes
			has_country_flag = savonarola_in_florence
			war_exhaustion = 10
		}
	}
	mean_time_to_happen = {
		months = 3
	}
	immediate = {
		set_global_flag = pisan_insurrection
		# Make sure Pisa is the capital
		1380 = { # Pisa
			if = {
				limit = {
					is_core = PIS
					owned_by = ROOT
				}
				cede_province = PIS
			}
		}
		every_province = {
			limit = {
				is_core = PIS
				owned_by = ROOT
			}
			cede_province = PIS
		}
		PIS = {
			define_ruler = {
				name = "Simone"
				dynasty = "Orlandi"
				adm = 2
				dip = 4
				mil = 4
			}
		}
		PIS = {
			add_legitimacy = 75
		}
		PIS = {
			infantry = 1380
			infantry = 1380
			cavalry = 1380
		}
	}
	option = {
		name = "medici_system.EVTOPTA23"
		declare_war_with_cb = {
			who = PIS
			casus_belli = cb_core
			war_goal_province = 1380 # Pisa
		}
		ai_chance = {
			factor = 99
		}
	}
}
country_event = {
	id = medici_system.24
	title = "medici_system.EVTNAME24"
	desc = "medici_system.EVTDESC24"
	picture = MEDICI_PISA_eventPicture
	fire_only_once = yes
	trigger = {
		is_at_war = yes
		owns = 1380
		controls = 1380
		has_global_flag = pisan_insurrection
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA24"
		every_country = {
			limit = {
				OR = {
					primary_culture = lombard
					primary_culture = ligurian
					primary_culture = venetian
					primary_culture = tuscan
					primary_culture = umbrian
					primary_culture = emilian
					primary_culture = romagnol
					primary_culture = piedmontese
				}
				NOT = { tag = FIR }
				NOT = { tag = TUS }
				NOT = { tag = PIS }
			}
			country_event = {
				id = medici_system.25
			}
		}
	}
}
country_event = {
	id = medici_system.25
	title = "medici_system.EVTNAME25"
	desc = "medici_system.EVTDESC25"
	picture = MEDICI_PISA_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA25"
		#TODO: should be better integrated with M&T systems
		add_years_of_income = -0.1
		add_yearly_manpower = -0.05
		PIS = {
			country_event = {
				id = medici_system.26
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				tag = GEN
			}
			modifier = {
				factor = 0.5
				is_at_war = yes
			}
			modifier = {
				factor = 0
				NOT = { years_of_income = 0.1 }
			}
			modifier = {
				factor = 0
				NOT = { manpower = 0.05 }
			}
			modifier = {
				factor = 1.5
				is_at_war = no
			}
			modifier = {
				factor = 1.5
				tag = VEN
			}
			modifier = {
				factor = 1.5
				tag = MLO
			}
			modifier = {
				factor = 2
				tag = SIE
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB25"
		ai_chance = {
			factor = 50
		}
	}
}
country_event = {
	id = medici_system.26
	title = "medici_system.EVTNAME26"
	desc = "medici_system.EVTDESC26"
	picture = MEDICI_PISA_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA26"
		add_treasury = 10
		add_yearly_manpower = 0.05
		1380 = {
			galley = ROOT
		}
	}
}
country_event = {
	id = medici_system.28
	title = "medici_system.EVTNAME28"
	desc = "medici_system.EVTDESC28"
	picture = MEDICI_PISA_eventPicture
	fire_only_once = yes
	trigger = {
		is_at_war = no
		owns = 1380
		controls = 1380
		has_global_flag = pisan_insurrection
		OR = {
			tag = FIR
			tag = TUS
		}
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA28"
		add_treasury = 250
		every_owned_province = {
			limit = {
				is_core = PIS
			}
			remove_core = PIS
		}
		1380 = {
			remove_building = fort_15th
		}
	}
	option = {
		name = "medici_system.EVTOPTB28"
		add_treasury = 100
		1380 = {
			remove_building = fort_15th
		}
	}
	option = {
		name = "medici_system.EVTOPTC28"
	}
}
country_event = {
	id = medici_system.29
	title = "medici_system.EVTNAME29"
	desc = "medici_system.EVTDESC29"
	picture = MEDICI_PISA_eventPicture
	fire_only_once = yes
	trigger = {
		is_at_war = no
		owns = 1380
		controls = 1380
		has_global_flag = pisan_insurrection
		tag = PIS
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA29"
		Pol_ChangeGovRepublic = { Mandate=1 Stylings=1 ExtraPowers=1 Assembly=2 TermOfOffice=5 } 
		add_government_reform = Pol_Nobility2
		add_republican_tradition = 25
		Stab_Add1 = yes
		PIS = {
			add_core = 1247 # Corsica
		}
		PIS = {
			add_core = 127 # Sï¿½ssari
		}
	}
}
country_event = {
	id = medici_system.30
	title = "medici_system.EVTNAME30"
	desc = "medici_system.EVTDESC30"
	picture = MEDICI_PISA_eventPicture
	trigger = {
		is_at_war = yes
		NOT = { owns = 1380 }
		NOT = { controls = 1380 }
		NOT = { has_country_modifier = failed_florentine_attempt }
		has_global_flag = pisan_insurrection
		OR = {
			tag = FIR
			tag = TUS
		}
		1380 = {
			has_province_modifier = improved_fortifications
		}
		1380 = {
			unit_in_siege = yes
		}
		war_with = PIS
		years_of_income = 1
		manpower = 0.5
		had_global_flag = {
			flag = pisan_insurrection
			days = 300
		}
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = "medici_system.EVTOPTA30"
		add_yearly_manpower = -0.4
		add_years_of_income = -0.75
		PIS = {
			country_event = {
				id = medici_system.31
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB30"
	}
}
country_event = {
	id = medici_system.31
	title = "medici_system.EVTNAME31"
	desc = "medici_system.EVTDESC31"
	picture = MEDICI_PISA_eventPicture
	is_triggered_only = yes
	option = {
		trigger = {
			manpower = 0.6
		}
		name = "medici_system.EVTOPTA31"
		add_treasury = -10
		add_yearly_manpower = -0.5
		add_war_exhaustion = -2
		FIR = {
			country_event = {
				id = medici_system.36
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		trigger = {
			NOT = { manpower = 0.6 }
		}
		name = "medici_system.EVTOPTB31"
		1380 = {
			remove_province_modifier = improved_fortifications
		}
		FIR = {
			country_event = {
				id = medici_system.37
			}
		}
	}
}
country_event = {
	id = medici_system.32
	title = "medici_system.EVTNAME32"
	desc = "medici_system.EVTDESC32"
	picture = MEDICI_PISA_eventPicture
	trigger = {
		is_at_war = yes
		NOT = { owns = 1380 }
		NOT = { controls = 1380 }
		NOT = { has_country_modifier = failed_florentine_attempt }
		has_global_flag = pisan_insurrection
		OR = {
			tag = FIR
			tag = TUS
		}
		1380 = {
			has_siege = yes
		}
		1380 = {
			unit_in_siege = yes
		}
		war_with = PIS
		years_of_income = 1
		manpower = 0.7
		had_global_flag = {
			flag = pisan_insurrection
			days = 600
		}
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = "medici_system.EVTOPTA32"
		add_yearly_manpower = -0.6
		add_years_of_income = -1
		PIS = {
			country_event = {
				id = medici_system.33
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB30"
	}
}
country_event = {
	id = medici_system.33
	title = "medici_system.EVTNAME33"
	desc = "medici_system.EVTDESC33"
	picture = MEDICI_PISA_eventPicture
	is_triggered_only = yes
	option = {
		trigger = {
			manpower = 0.8
		}
		name = "medici_system.EVTOPTA33"
		add_treasury = -10
		add_yearly_manpower = -0.7
		add_war_exhaustion = -2
		FIR = {
			country_event = {
				id = medici_system.36
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		trigger = {
			NOT = { manpower = 0.8 }
		}
		name = "medici_system.EVTOPTB33"
		FIR = {
			country_event = {
				id = medici_system.37
			}
		}
	}
}
country_event = {
	id = medici_system.34
	title = "medici_system.EVTNAME34"
	desc = "medici_system.EVTDESC34"
	picture = MEDICI_PISA_eventPicture
	trigger = {
		is_at_war = yes
		NOT = { owns = 1380 }
		NOT = { controls = 1380 }
		NOT = { has_country_modifier = failed_florentine_attempt }
		has_global_flag = pisan_insurrection
		OR = {
			tag = FIR
			tag = TUS
		}
		1380 = {
			has_province_modifier = improved_fortifications
		}
		1380 = {
			has_siege = yes
		}
		1380 = {
			unit_in_siege = yes
		}
		war_with = PIS
		years_of_income = 2
		had_global_flag = {
			flag = pisan_insurrection
			days = 900
		}
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = "medici_system.EVTOPTA34"
		add_years_of_income = -2
		PIS = {
			country_event = {
				id = medici_system.35
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB30"
	}
}
country_event = {
	id = medici_system.35
	title = "medici_system.EVTNAME35"
	desc = "medici_system.EVTDESC35"
	picture = MEDICI_PISA_eventPicture
	is_triggered_only = yes
	option = {
		trigger = {
			years_of_income = 3
		}
		name = "medici_system.EVTOPTA35"
		add_years_of_income = -3
		add_war_exhaustion = -2
		FIR = {
			country_event = {
				id = medici_system.36
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		trigger = {
			NOT = { years_of_income = 3 }
		}
		name = "medici_system.EVTOPTB35"
		1380 = {
			remove_province_modifier = improved_fortifications
		}
		FIR = {
			country_event = {
				id = medici_system.37
			}
		}
	}
}
country_event = {
	id = medici_system.36
	title = "medici_system.EVTNAME36"
	desc = "medici_system.EVTDESC36"
	picture = MEDICI_PISA_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA36"
		add_war_exhaustion = 3
		add_country_modifier = {
			name = "failed_florentine_attempt"
			duration = 365
		}
	}
}
country_event = {
	id = medici_system.37
	title = "medici_system.EVTNAME37"
	desc = "medici_system.EVTDESC37"
	picture = MEDICI_PISA_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA37"
	}
}

### Cultural events
country_event = {
	id = medici_system.38
	title = medici_system.EVTNAME38
	desc = medici_system.EVTDESC38
	picture = MEDICI_BOTTICELLI_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1470
		NOT = { is_year = 1510 }
		owns = 116
		has_country_flag = patronaged_renaissance_painters
	}
	immediate = {
		set_country_flag = sandro_botticelli
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = "medici_system.EVTOPTA38"
		define_advisor = {
			type = artist_BG
			name = "Sandro Botticelli"
			location = 116
			skill = 3
			discount = yes
		}
	}
}
country_event = {
	id = medici_system.39
	title = medici_system.EVTNAME39
	desc = medici_system.EVTDESC39
	picture = MEDICI_PICO_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1484
		owns = 116
		NOT = { is_year = 1494 }
		has_country_flag = platonic_academy_supported
	}
	immediate = {
		set_country_flag = pico_della_mirandola
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = "medici_system.EVTOPTA39"
		define_advisor = {
			type = philosopher_NO
			name = "Pico della Mirandola"
			location = 116
			skill = 3
			discount = yes
		}
	}
}
country_event = {
	id = medici_system.40
	title = medici_system.EVTNAME40
	desc = medici_system.EVTDESC40
	picture = MEDICI_VENERE_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1482
		has_country_flag = sandro_botticelli
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = medici_system.EVTOPTA40
		add_prestige = 5
	}
}
country_event = {
	id = medici_system.41
	title = medici_system.EVTNAME41
	desc = medici_system.EVTDESC41
	picture = BIG_BOOK_eventPicture
	fire_only_once = yes
	trigger = {
		ai = no
		primary_culture = tuscan
		is_at_war = no
		NOT = { government = republic }
		NOT = { adm = 4 }
		NOT = { dip = 4 }
		NOT = { mil = 4 }
		NOT = { has_country_flag = dante_experience_1 }
		NOT = { dynasty = "Malpazzi" }
	}
	immediate = {
		set_country_flag = dante_experience_1
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = medici_system.EVTOPTA41
	}
}
country_event = {
	id = medici_system.42
	title = medici_system.EVTNAME42
	desc = medici_system.EVTDESC42
	picture = DANTE_EXPERIENCE_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = dante_experience_1
		NOT = { has_country_flag = dante_experience_2 }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = medici_system.EVTOPTA42
		set_country_flag = dante_experience_2
		add_adm_power = 3
	}
	option = {
		name = medici_system.EVTOPTB42
		set_country_flag = dante_experience_2
		add_dip_power = 3
	}
	option = {
		name = medici_system.EVTOPTC42
		set_country_flag = dante_experience_2
		add_mil_power = 3
	}
}
country_event = {
	id = medici_system.43
	title = medici_system.EVTNAME43
	desc = medici_system.EVTDESC43
	picture = DANTE_EXPERIENCE_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = dante_experience_2
		NOT = { has_country_flag = dante_experience_3 }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = medici_system.EVTOPTA43
		set_country_flag = dante_experience_3
		add_adm_power = 3
	}
	option = {
		name = medici_system.EVTOPTB43
		set_country_flag = dante_experience_3
		add_dip_power = 3
	}
	option = {
		name = medici_system.EVTOPTC43
		set_country_flag = dante_experience_3
		add_mil_power = 3
	}
}
country_event = {
	id = medici_system.44
	title = medici_system.EVTNAME44
	desc = medici_system.EVTDESC44
	picture = DANTE_EXPERIENCE_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = dante_experience_3
		NOT = { has_country_flag = dante_experience_4 }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = medici_system.EVTOPTA44
		set_country_flag = dante_experience_4
		add_adm_power = 3
	}
	option = {
		name = medici_system.EVTOPTB44
		set_country_flag = dante_experience_4
		add_dip_power = 3
	}
	option = {
		name = medici_system.EVTOPTC44
		set_country_flag = dante_experience_4
		add_mil_power = 3
	}
}
country_event = {
	id = medici_system.45
	title = medici_system.EVTNAME45
	desc = medici_system.EVTDESC45
	picture = DANTE_EXPERIENCE_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = dante_experience_4
		NOT = { has_country_flag = dante_experience_5 }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = medici_system.EVTOPTA45
		set_country_flag = dante_experience_5
		add_adm_power = 3
	}
	option = {
		name = medici_system.EVTOPTB45
		set_country_flag = dante_experience_5
		add_dip_power = 3
	}
	option = {
		name = medici_system.EVTOPTC45
		set_country_flag = dante_experience_5
		add_mil_power = 3
	}
}

### Pazzi Conspiracy
country_event = {
	id = medici_system.46
	title = "medici_system.EVTNAME46"
	desc = "medici_system.EVTDESC46"
	picture = MEDICI_PALAZZO_eventPicture
	fire_only_once = yes
	trigger = {
		OR = {
			tag = FIR
			tag = TUS
		}
		is_year = 1475
		NOT = { is_year = 1485 }
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
	}
	mean_time_to_happen = {
		years = 16
	}
	option = {
		name = "medici_system.EVTOPTA46"
		Stab_Add1 = yes
		add_years_of_income = 0.5
		add_republican_tradition = -20
		add_legitimacy = -0.1
	}
}

### Savonarola
country_event = {
	id = medici_system.47
	title = "medici_system.EVTNAME47"
	desc = "medici_system.EVTDESC47"
	picture = MEDICI_PALAZZO_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1495
		NOT = { is_year = 1500 }
		owns = 116
		116 = { religion = catholic }
	}
	mean_time_to_happen = {
		months = 26
	}
	option = {
		name = "medici_system.EVTOPTA47"
		reverse_add_opinion = {
			who = PAP
			modifier = opinion_disappointed_pope
		}
		set_country_flag = savonarola_in_florence
		define_advisor = {
			type = theologian_CL
			name = "Girolamo Savonarola"
			location = 116
			skill = 3
			discount = yes
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = "medici_system.EVTOPTB47"
		116 = {
			add_province_modifier = {
				name = "fanatics_organizing"
				duration = 7300
			}
			add_unrest = 20
		}
		Stab_Subtract1 = yes
	}
}

### Siena events
#TODO: isn't it in conflict with M&T republic events?
country_event = {
	id = medici_system.48
	title = "medici_system.EVTNAME48"
	desc = "medici_system.EVTDESC48"
	picture = MEDICI_SIENA_eventPicture
	is_triggered_only = yes
	trigger = {
		government = republic
		tag = SIE
	}
	option = {
		name = "medici_system.EVTOPTA48"
		define_ruler = {
			name = "del Popolo"
			adm = 3
			dip = 2
			mil = 1
		}
	}
	option = {
		name = "medici_system.EVTOPTB48"
		define_ruler = {
			name = "dei Artigiani"
			adm = 1
			dip = 3
			mil = 2
		}
	}
	option = {
		name = "medici_system.EVTOPTC48"
		define_ruler = {
			name = "dei Nobili"
			adm = 2
			dip = 1
			mil = 3
		}
	}
}
country_event = {
	id = medici_system.49
	title = "medici_system.EVTNAME49"
	desc = "medici_system.EVTDESC49"
	picture = MEDICI_SIENA_eventPicture
	is_triggered_only = yes
	trigger = {
		government = republic
		tag = SIE
	}
	option = {
		name = "medici_system.EVTOPTA49"
		change_adm = 1
		change_mil = -1
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				adm = 4
			}
			modifier = {
				factor = 3
				NOT = { adm = 1 }
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB49"
		change_adm = -1
		change_dip = 1
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				dip = 4
			}
			modifier = {
				factor = 3
				NOT = { dip = 1 }
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTC49"
		change_dip = -1
		change_mil = 1
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				mil = 4
			}
			modifier = {
				factor = 3
				NOT = { mil = 1 }
			}
		}
	}
}

###Misc events
country_event = {
	id = medici_system.51
	title = "medici_system.EVTNAME51"
	desc = "medici_system.EVTDESC51"
	picture = MEDICI_PALAZZO_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1470
		NOT = { is_year = 1480 }
		OR = { 
			tag = FIR 
			tag = TUS 
		}
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		#has_country_modifier = festivating_calcio
		#has_country_flag = calcio_betting
		#has_country_flag = calcio_ruler_plays_yes
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA51"
	}
	option = {
		name = "medici_system.EVTOPTB51"
		add_papal_influence = 5
	}
}
country_event = {
	id = medici_system.52
	title = "medici_system.EVTNAME52"
	desc = "medici_system.EVTDESC52"
	picture = MEDICI_FICINO_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1457
		NOT = { is_year = 1490 }
		OR = {
			tag = FIR
			tag = TUS
		}
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
	}
	mean_time_to_happen = {
		months = 24
	}
	immediate = {
	    set_country_flag = marsilio_ficino
	}
	option = {
		name = "medici_system.EVTOPTA52"
		define_advisor = {
			type = theologian_CL
			name = "Marsilio Ficino"
			location = 116
			skill = 2
			discount = yes
		}
	}
	option = {
		name = "medici_system.EVTOPTB52"
		Stab_Add50Percent = yes
		add_years_of_income = -0.5
		define_advisor = {
			type = theologian_CL
			name = "Marsilio Ficino"
			location = 116
			skill = 2
			discount = yes
		}
	}
}
country_event = {
	id = medici_system.53
	title = "medici_system.EVTNAME53"
	desc = "medici_system.EVTDESC53"
	picture = MEDICI_GONFALONIERE_eventPicture
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_artigiani
		years_of_income = 1
		NOT = { years_of_income = 5 }
	}
	mean_time_to_happen = {
		years = 12
	}
	option = {
		name = "medici_system.EVTOPTA53"
		ai_chance = {
			factor = 0
		}
		add_years_of_income = 0.5

		custom_tooltip = artigiani_big_add
		custom_tooltip = mercanti_little_sub
		custom_tooltip = popolo_little_sub

		hidden_effect = {
			change_variable = {
				which = "artigiani_favor"
				value = 3
			}
			change_variable = {
				which = "mercanti_favor"
				value = -1
			}
			change_variable = {
				which = "popolo_favor"
				value = -1
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB53"
		ai_chance = {
			factor = 0
		}
		add_years_of_income = -0.5

		custom_tooltip = artigiani_big_sub
		custom_tooltip = mercanti_little_add
		custom_tooltip = popolo_little_add

		hidden_effect = {
			change_variable = {
				which = "artigiani_favor"
				value = -3
			}
			change_variable = {
				which = "mercanti_favor"
				value = 1
			}
			change_variable = {
				which = "popolo_favor"
				value = 1
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTC14"
		ai_chance = {
			factor = 100
		}
		add_years_of_income = -1
	}
	after = {
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = medici_system.54
	title = "medici_system.EVTNAME54"
	desc = "medici_system.EVTDESC54"
	picture = MEDICI_GONFALONIERE_eventPicture
	trigger = {
		has_country_modifier = "medici_system_information"
		NOT = { has_country_modifier = gonfaloniere_popolo }
		years_of_income = 1
	}
	mean_time_to_happen = {
		years = 12
	}
	option = {
		name = "medici_system.EVTOPTA54"
		ai_chance = {
			factor = 0
		}

		custom_tooltip = artigiani_medium_add
		custom_tooltip = mercanti_little_add
		custom_tooltip = popolo_big_sub

		hidden_effect = {
			change_variable = {
				which = "artigiani_favor"
				value = 2
			}
			change_variable = {
				which = "mercanti_favor"
				value = 1
			}
			change_variable = {
				which = "popolo_favor"
				value = -3
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB54"
		ai_chance = {
			factor = 0
		}
		custom_tooltip = artigiani_medium_sub
		custom_tooltip = mercanti_little_sub
		custom_tooltip = popolo_big_add

		hidden_effect = {
			change_variable = {
				which = "artigiani_favor"
				value = -2
			}
			change_variable = {
				which = "mercanti_favor"
				value = -1
			}
			change_variable = {
				which = "popolo_favor"
				value = 3
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTC14"
		ai_chance = {
			factor = 100
		}
		add_years_of_income = -1
	}
	after = {
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = medici_system.55
	title = "medici_system.EVTNAME55"
	desc = "medici_system.EVTDESC55"
	picture = MEDICI_GONFALONIERE_eventPicture
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_popolo
		years_of_income = 1
	}
	mean_time_to_happen = {
		years = 12
	}
	option = {
		name = "medici_system.EVTOPTA55"
		ai_chance = {
			factor = 0
		}
		add_treasury = -100

		custom_tooltip = artigiani_little_sub
		custom_tooltip = mercanti_medium_sub
		custom_tooltip = popolo_big_add

		hidden_effect = {
			change_variable = {
				which = "artigiani_favor"
				value = -1
			}
			change_variable = {
				which = "mercanti_favor"
				value = -2
			}
			change_variable = {
				which = "popolo_favor"
				value = 3
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB55"
		ai_chance = {
			factor = 0
		}

		custom_tooltip = artigiani_little_add
		custom_tooltip = mercanti_medium_add
		custom_tooltip = popolo_big_sub

		hidden_effect = {
			change_variable = {
				which = "artigiani_favor"
				value = 1
			}
			change_variable = {
				which = "mercanti_favor"
				value = 2
			}
			change_variable = {
				which = "popolo_favor"
				value = -3
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTC14"
		ai_chance = {
			factor = 100
		}
		add_treasury = -100
		add_years_of_income = -1
	}
	after = {
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = medici_system.56
	title = "medici_system.EVTNAME56"
	desc = "medici_system.EVTDESC56"
	picture = MEDICI_GONFALONIERE_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_modifier = "medici_system_information"
	}
	mean_time_to_happen = {
		years = 25
	}
	option = {
		name = "medici_system.EVTOPTA56"
		ai_chance = {
			factor = 100
		}
		add_treasury = -100

		custom_tooltip = mercanti_little_sub
		hidden_effect = {
			change_variable = {
				which = "mercanti_favor"
				value = -1
			}
		}
		
		country_event = {
			id = medici_system.4
		}
	}
	option = {
		name = "medici_system.EVTOPTB56"
		ai_chance = {
			factor = 0
		}

		custom_tooltip = artigiani_little_sub
		hidden_effect = {
			change_variable = {
				which = "artigiani_favor"
				value = -1
			}
		}
		
		country_event = {
			id = medici_system.4
		}
	}
	option = {
		name = "medici_system.EVTOPTC56"
		ai_chance = {
			factor = 0
		}
		Stab_Subtract1 = yes

		custom_tooltip = popolo_little_sub
		hidden_effect = {
			change_variable = {
				which = "popolo_favor"
				value = -1
			}
		}

		country_event = {
			id = medici_system.4
		}
	}
	option = {
		name = "medici_system.EVTOPTD56"
		ai_chance = {
			factor = 0
		}
		Stab_Subtract1 = yes
		add_treasury = -100
		add_years_of_income = -1
	}
	after = {
		recalculate_medici_faction_relation_modifiers = yes
	}
}
country_event = {
	id = medici_system.57
	title = "medici_system.EVTNAME57"
	desc = "medici_system.EVTDESC57"
	picture = MEDICI_PALAZZO_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1575
		has_discovered = 2121 #Guangzhou
		OR = {
			dynasty = "de' Medici"
			tag = TUS
		}
	}
	mean_time_to_happen = {
		months = 36
	}
	option = {
		name = "medici_system.EVTOPTA57"
		ai_chance = {
			factor = 100
		}
		add_years_of_income = -3
		add_ruler_modifier = {
			name = "medici_porcelain"
			duration = -1
		}
	}
	option = {
		name = "medici_system.EVTOPTB57"
	}
}
country_event = {
	id = medici_system.58
	title = medici_system.EVTNAME58
	desc = medici_system.EVTDESC58
	picture = ADVISOR_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1610
		NOT = { is_year = 1642 }
		owns = 116
		primary_culture = tuscan
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = medici_system.EVTOPTA58
		set_country_flag = galileo_galilei_in_tuscany
		define_advisor = {
			type = natural_scientist_BG
			name = "Galileo Galilei"
			location = 116
			skill = 3
			discount = yes
		}
	}
}
country_event = {
	id = medici_system.59
	title = medici_system.EVTNAME59
	desc = medici_system.EVTDESC59
	picture = COMET_SIGHTED_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = galileo_galilei_in_tuscany
		is_year = 1623
		NOT = { is_year = 1642 }
		owns = 116
		primary_culture = tuscan
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = medici_system.EVTOPTA59
		ai_chance = {
			factor = 100
		}
		add_adm_power = 25
		add_dip_power = 25
		set_country_flag = the_assayer
		every_country = {
			limit = {
				culture_group = latin
				NOT = { tag = ROOT }
			}
			country_event = {
				id = medici_system.60
			}
		}
	}
	option = {
		name = medici_system.EVTOPTB59
		Stab_Add50Percent = yes
	}
}
country_event = {
	id = medici_system.60
	title = "medici_system.EVTNAME59"
	desc = "medici_system.EVTDESC59"
	picture = COMET_SIGHTED_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA60"
		add_adm_power = 10
		add_dip_power = 10
		set_country_flag = the_assayer
	}
}
country_event = {
	id = medici_system.61
	title = medici_system.EVTNAME61
	desc = medici_system.EVTDESC61
	picture = ACCUSATION_eventPicture
	fire_only_once = yes
	trigger = {
		tag = PAP
		is_year = 1632
		NOT = { is_year = 1642 }
		has_country_flag = the_assayer
		NOT = { owns = 116 }
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = medici_system.EVTOPTA61
		ai_chance = {
			factor = 100
		}
		Stab_Add50Percent = yes
		add_papal_influence = 5
		add_dip_power = -10
		set_country_flag = galileo_accused
		every_country = {
			limit = {
				has_country_flag = galileo_galilei_in_tuscany
			}
			country_event = {
				id = medici_system.62
			}
		}
	}
	option = {
		name = medici_system.EVTOPTB61
		Stab_Subtract1 = yes
		add_papal_influence = -10
	}
}
country_event = {
	id = medici_system.62
	title = "medici_system.EVTNAME62"
	desc = "medici_system.EVTDESC62"
	picture = POPE_PREACHING_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA62"
		ai_chance = {
			factor = 100
		}
		add_papal_influence = 10
		add_opinion = {
			who = PAP
			modifier = opinion_pleased
		}
		reverse_add_opinion = {
			who = PAP
			modifier = opinion_pleased
		}
		PAP = {
			country_event = {
				id = medici_system.63
				days = 3
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB62"
		Stab_Subtract1 = yes
		add_dip_power = -50
		add_opinion = {
			who = PAP
			modifier = opinion_mildly_displeased
		}
		reverse_add_opinion = {
			who = PAP
			modifier = opinion_mildly_displeased
		}
		PAP = {
			country_event = {
				id = medici_system.65
				days = 3
			}
		}
	}
}
country_event = {
	id = medici_system.63
	title = "medici_system.EVTNAME63"
	desc = "medici_system.EVTDESC63"
	picture = POPE_PREACHING_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA63"
		ai_chance = {
			factor = 100
		}
		add_papal_influence = 10
		set_country_flag = galileo_condemned
		add_adm_power = 50
		every_country = {
			limit = {
				culture_group = latin
				NOT = { tag = ROOT }
			}
			country_event = {
				id = medici_system.64
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB63"
		add_dip_power = 50
		Stab_Subtract2 = yes
		add_papal_influence = -30
	}
}
country_event = {
	id = medici_system.64
	title = "medici_system.EVTNAME64"
	desc = "medici_system.EVTDESC64"
	picture = POPE_PREACHING_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA64"
		add_adm_power = 5
		add_dip_power = -5
		add_papal_influence = -5
	}
	option = {
		name = "medici_system.EVTOPTB64"
		add_adm_power = -5
		add_dip_power = 5
		add_papal_influence = 5
	}
}
country_event = {
	id = medici_system.65
	title = "medici_system.EVTNAME65"
	desc = "medici_system.EVTDESC65"
	picture = COMET_SIGHTED_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA65"
		add_casus_belli = {
			target = FROM
			type = cb_insult
			months = 10
		}
	}
}
country_event = {
	id = medici_system.66
	title = medici_system.EVTNAME66
	desc = medici_system.EVTDESC66
	picture = ADVISOR_eventPicture
	fire_only_once = yes
	trigger = {
		culture_group = latin
		is_year = 1756
		NOT = { is_year = 1768 }
		owns = 115 #Lucca
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = medici_system.EVTOPTA66
		set_country_flag = luigi_boccherini
		define_advisor = {
			type = composer_BG
			name = "Luigi Boccherini"
			location = 115
			skill = 2
			discount = yes
		}
	}
}
country_event = {
	id = medici_system.67
	title = "medici_system.EVTNAME67"
	desc = "medici_system.EVTDESC67"
	picture = ADVISOR_eventPicture
	fire_only_once = yes
	trigger = {
		culture_group = latin
		is_year = 1768
		has_country_flag = luigi_boccherini
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = "medici_system.EVTOPTA67"
		217 = {
			owner = {
				country_event = {
					id = medici_system.68
				}
				add_opinion = {
					who = PREV
					modifier = opinion_pleased
				}
				reverse_add_opinion = {
					who = PREV
					modifier = opinion_pleased
				}
			}
		}
	}
}
country_event = {
	id = medici_system.68
	title = "medici_system.EVTNAME68"
	desc = "medici_system.EVTDESC68"
	picture = ADVISOR_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA68"
		set_country_flag = luigi_boccherini_spain
		define_advisor = {
			type = composer_BG
			name = "Luigi Boccherini"
			location = 217
			skill = 3
			discount = yes
		}
	}
}
country_event = {
	id = medici_system.69
	title = "medici_system.EVTNAME69"
	desc = "medici_system.EVTDESC69"
	picture = ADVISOR_eventPicture
	fire_only_once = yes
	trigger = {
		culture_group = latin
		is_year = 1646
		exists = FRA
		owns = 116
	}
	mean_time_to_happen = {
		years = 1
	}
	option = {
		name = "medici_system.EVTOPTA69"
		ai_chance = {
			factor = 100
		}
		FRA = {
			country_event = {
				id = medici_system.70
			}
		}
		add_opinion = {
			who = FRA
			modifier = opinion_pleased
		}
		reverse_add_opinion = {
			who = FRA
			modifier = opinion_pleased
		}
	}
	option = {
		name = "medici_system.EVTOPTB69"
		define_advisor = {
			type = composer_BG
			name = "Giovanni Battista Lulli"
			location = 116
			skill = 3
			discount = yes
		}
		add_opinion = {
			who = FRA
			modifier = opinion_mildly_displeased
		}
		reverse_add_opinion = {
			who = ROOT
			modifier = opinion_mildly_displeased
		}
	}
}
country_event = {
	id = medici_system.70
	title = "medici_system.EVTNAME70"
	desc = "medici_system.EVTDESC70"
	picture = COURT_eventPicture
	is_triggered_only = yes
	option = {
		name = "medici_system.EVTOPTA70"
		define_advisor = {
			type = composer_BG
			name = "Jean-Baptiste Lully"
			location = 183
			skill = 3
			discount = yes
		}
	}
}
country_event = {
	id = medici_system.71
	title = "medici_system.EVTNAME71"
	desc = "medici_system.EVTDESC71"
	picture = ADVISOR_eventPicture
	fire_only_once = yes
	trigger = {
		PAP = {
			has_country_flag = galileo_condemned
		}
		has_country_flag = galileo_galilei_in_tuscany
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA71"
		kill_advisor = natural_scientist_BG
	}
}
country_event = {
	id = medici_system.72
	title = "medici_system.EVTNAME72"
	desc = "medici_system.EVTDESC72"
	picture = ADVISOR_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = luigi_boccherini
		any_known_country = {
			has_country_flag = luigi_boccherini_spain
		}
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA72"
		kill_advisor = composer_BG
	}
}
country_event = {
	id = medici_system.73
	title = "medici_system.EVTNAME73"
	desc = "medici_system.EVTDESC73"
	picture = MEDICI_FAMILY_eventPicture
	trigger = {
		had_country_flag = {
			flag = medici_signoria
			days = 3650
		}
		government = republic
		is_year = 1480
		NOT = { has_country_flag = no_medici_dividends }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA73"
		set_country_flag = no_medici_dividends
	}
}
country_event = {
	id = medici_system.74
	title = "medici_system.EVTNAME74"
	desc = "medici_system.EVTDESC74"
	picture = MEDICI_FAMILY_eventPicture
	trigger = {
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		government = monarchy
		NOT = { dynasty = "de' Medici" }
		NOT = { has_country_flag = no_medici_dividends }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = "medici_system.EVTOPTA74"
		set_country_flag = no_medici_dividends
	}
}
country_event = {
	id = medici_system.75
	title = medici_system.EVTNAME75
	desc = medici_system.EVTDESC75
	picture = DANTE_EXPERIENCE_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = dante_experience_5
		NOT = { has_country_flag = dante_experience_6 }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = medici_system.EVTOPTA75
		set_country_flag = dante_experience_6
		add_adm_power = -3
	}
	option = {
		name = medici_system.EVTOPTB75
		set_country_flag = dante_experience_6
		add_dip_power = -3
	}
	option = {
		name = medici_system.EVTOPTC75
		set_country_flag = dante_experience_6
		add_mil_power = -3
	}
	option = {
		name = medici_system.EVTOPTD75
		set_country_flag = dante_experience_6
		add_adm_power = -1
		add_dip_power = -1
		add_mil_power = -1
	}
}
country_event = {
	id = medici_system.76
	title = medici_system.EVTNAME76
	desc = medici_system.EVTDESC76
	picture = DANTE_EXPERIENCE_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = dante_experience_6
		NOT = { has_country_flag = dante_experience_7 }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = medici_system.EVTOPTA76
		set_country_flag = dante_experience_7
	}
}
country_event = {
	id = medici_system.77
	title = medici_system.EVTNAME77
	desc = medici_system.EVTDESC77
	picture = DANTE_EXPERIENCE_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = dante_experience_7
		NOT = { has_country_flag = dante_experience_8 }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = medici_system.EVTOPTA77
		set_country_flag = dante_experience_8
		add_adm_power = 1
	}
	option = {
		name = medici_system.EVTOPTB77
		set_country_flag = dante_experience_8
		add_dip_power = 1
	}
	option = {
		name = medici_system.EVTOPTC77
		set_country_flag = dante_experience_8
		add_mil_power = 1
	}
}
country_event = {
	id = medici_system.78
	title = medici_system.EVTNAME78
	desc = medici_system.EVTDESC78
	picture = DANTE_EXPERIENCE_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = dante_experience_8
		NOT = { has_country_flag = dante_experience_9 }
	}
	mean_time_to_happen = {
		months = 1
	}
	option = {
		name = medici_system.EVTOPTA78
		set_country_flag = dante_experience_9
		change_adm = 2
	}
	option = {
		name = medici_system.EVTOPTB78
		set_country_flag = dante_experience_9
		change_dip = 2
	}
	option = {
		name = medici_system.EVTOPTC78
		set_country_flag = dante_experience_9
		change_mil = 2
	}
}
country_event = {
	id = medici_system.80
	title = medici_system.EVTNAME80
	desc = medici_system.EVTDESC80
	picture = MEDICI_COA_eventPicture
	fire_only_once = yes
	trigger = {
		dynasty = "de' Medici"
		government = monarchy
		FRA = {
			has_opinion = {
				who = ROOT
				value = 100
			}
		}
		is_at_war = no
		years_of_income = 1
	}
	mean_time_to_happen = {
		months = 36
	}
	option = {
		name = medici_system.EVTOPTA80
		add_years_of_income = -0.5
		FRA = {
			country_event = {
				id = medici_system.81
				days = 3
			}
		}
	}
	option = {
		name = medici_system.EVTOPTB80
	}
}
country_event = {
	id = medici_system.81
	title = medici_system.EVTNAME81
	desc = medici_system.EVTDESC81
	picture = MEDICI_COA_eventPicture
	is_triggered_only = yes
	option = {
		name = medici_system.EVTOPTA81
		ai_chance = {
			factor = 100
		}
		add_years_of_income = 0.5
		add_opinion = {
			who = FROM
			modifier = opinion_pleased
		}
		reverse_add_opinion = {
			who = FROM
			modifier = opinion_pleased
		}
		FROM = {
			country_event = {
				id = medici_system.82
				days = 3
			}
		}
	}
	option = {
		name = medici_system.EVTOPTB81
		add_opinion = {
			who = FROM
			modifier = opinion_mildly_displeased
		}
		reverse_add_opinion = {
			who = ROOT
			modifier = opinion_mildly_displeased
		}
		FROM = {
			country_event = {
				id = medici_system.83
				days = 3
			}
		}
	}
}
country_event = {
	id = medici_system.82
	title = medici_system.EVTNAME82
	desc = medici_system.EVTDESC82
	picture = MEDICI_COA_eventPicture
	is_triggered_only = yes
	option = {
		name = medici_system.EVTOPTA82
	}
}
country_event = {
	id = medici_system.83
	title = medici_system.EVTNAME83
	desc = medici_system.EVTDESC83
	picture = MEDICI_COA_eventPicture
	is_triggered_only = yes
	option = {
		name = medici_system.EVTOPTA83
	}
}

