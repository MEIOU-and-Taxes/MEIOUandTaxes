######################################
######################################
#									 #
#		0800002 - Set-up event		 #
# by GG								 #
#									 #
######################################
# HISTORY
# v2 2009_Aug_09
# 2010-Oct-22 FB inserted 800002/2 in the daisy chain between 800131 and 591022
#		hid event effects in 800002/2
# 2010-Nov-06 FB remove jain and ibadi religions
# 2011-feb-14 FB	hide country event calls
# 2011-apr-06 FB restored SVN version to Huddle as Huddle version had many errors
# 2011-apr-06 GG cleaned up a few country flags
# 2011-jun-15 FB removed calls to 591022; merged 591022 setup with 800000
#		temporarily suspended colonial_hub setup pending rewrite
#		added Determine monarch character to 800002
# 2011-aug-12 FB make sure province_religion does not become < 12 (assume province religions are correct at startup)
# 2013-sep-20 GG adapted to EUIV and simplified
# 2019-mai-23 Beorsferth - Readded and adjusted for v3.0



######################################

country_event = {
	id = setup_event.1
	title = "EVT_AI"
	desc = "EVT_AI"
	picture = MEIOU_AND_TAXES_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes 
	hidden = yes
	
	trigger = {
		NOT = { has_global_flag = meiou_and_taxes_mod_start } # [always = yes] removed to avoid a reset of stuff when loading a save.
	}
	
	immediate = {
		#set_key = { lhs = v_fifty_year_pulse_counter value = 1 }
		#set_key = { lhs = v_two_year_pulse_counter value = 1 }
	}
	
	option = {
		name = "EVT_AI"
		MigrationZone_Init = yes
		every_country = {
			limit = {
				isValidCountry = yes
				OR = {
					culture_group = persian_group
					tag = JAI
					tag = CHU
					tag = ISF
				}
				NOT = { primary_culture = kurdish } # none of them were successor states
				NOT = { tag = SHI } # not a successor state
			}
			set_country_flag = Ilkhanate_Successor # used to inherit
			ISF = { set_country_flag = Ilkhanate_Successor }
			KER = { set_country_flag = Ilkhanate_Successor }
			TAB = { set_country_flag = Ilkhanate_Successor }
			central_asia = {
				limit = {
					isValidProv = yes
					OR = {
						culture = persian
						culture = khuzi
						culture = adari
						culture = tabari
						culture = gilak
						culture = talysh
					}
					NOT = { owned_by = SHI }
					NOT = { owned_by = KRS }
					NOT = { owned_by = HAZ }
					NOT = { owned_by = QAR }
					NOT = { owned_by = KHO }
				}
				add_claim = PREV
			}
			central_asia = {
				limit = {
					isValidProv = yes
					# most turko-mongol of the tags
					OR = {
						PREV = { tag = CHU }
						PREV = { tag = JAI }
						PREV = { tag = ISF }
					}
					OR = {
						culture_group = oghuz
						culture = kurdish
						culture = lurish
					}
					NOT = { owned_by = SHI }
					NOT = { owned_by = KRS }
					NOT = { owned_by = HAZ }
					NOT = { owned_by = QAR }
					NOT = { owned_by = KHO }
				}
				add_claim = PREV
			}
		}
		every_country = {
			limit = {
				isValidCountry = yes
			}
			if = {
				limit = {
					has_country_modifier = title_6
				}
				change_title_6 = yes
			}
			else_if = {
				limit = {
					has_country_modifier = title_5
				}
				change_title_5 = yes
			}
			else_if = {
				limit = {
					has_country_modifier = title_4
				}
				change_title_4 = yes
			}
			else_if = {
				limit = {
					has_country_modifier = title_3
				}
				change_title_3 = yes
			}
			else_if = {
				limit = {
					has_country_modifier = title_2
				}
				change_title_2 = yes
			}
			else_if = {
				limit = {
					has_country_modifier = title_1
				}
				change_title_1 = yes
			}
		}
		
		every_province = {
			limit = {
				has_province_modifier = emperors_palace
			}
			save_global_event_target_as = imperial_capital
		}
		
		#ENG = {
		#	country_event = { id = POP_startup_events.001 }
		#}

		# hundred years' war
		
		regiongroup = {
			region = {
				set_province_flag = no_horses_present
			}
		}
		regiongroup = {
			region = {
				limit = {
					OR = {
						continent = europe
						continent = southeast_asia
						continent = indian_continent
						continent = asia
						superregion = japan_superregion
						continent = central_asia
						continent = north_asia
						continent = mena
						superregion = north_africa_superregion
						region = niger_bend_region
						region = manding_region
						region = senegambia_region
						region = hausa_region
						area = plateau_area
						area = east_mossi_area
						area = west_mossi_area
						region = chad_region
						region = darfur_region
						province_id = 2260
						province_id = 2258
						region = somalia_region
						area = northern_swahili_coast_area
						area = central_swahili_coast_area
						region = sudan_region
						region = harar_region
						region = abyssinia_region
						region = horn_region
					}
					OR = {
						NOT = { forest_trigger = yes }
						#NOT = { highlands_trigger = yes }
						NOT = { mountains_trigger = yes }
						NOT = { jungle_trigger = yes }
						NOT = { has_terrain = tundra }
						NOT = { has_terrain = taiga }
						AND = {
							continent = europe
							NOT = { superregion = scandinavian_superregion }
							NOT = { region = north_russia_region }
						}
						superregion = japan_superregion
						superregion = anatolia_superregion
						region = upper_mesopotamia_region
						region = lower_mesopotamia_region
						region = syria_region
						superregion = central_asia_superregion
						superregion = eastern_steppe_superregion
						superregion = persia_superregion
						superregion = greater_russia_superregion
						superregion = european_steppe_superregion
						region = west_sahara_region
						region = east_sahara_region
						region = arabia_region
						region = hadhramaut_region
						area = libyan_desert_area
						area = ghana_area
						area = jallon_area
						province_id = 2927 # Jos
						province_id = 2260
						province_id = 2258
						region = sudan_region
						region = harar_region
						region = abyssinia_region
						region = horn_region
						area = saharan_bend_area
						region = chad_region
						region = hausa_region
						region = senegambia_region
					}
				}
				clr_province_flag = no_horses_present
			}
		}
		every_country = {
			if = {
				limit = {
					exists = yes
				}
				cavalry_elephants_flags = yes
			}
			else = {
				set_country_flag = no_cavalry #cleared when they are spawned
			}
		}
		
		if = {
			limit = {
				is_year = 1337
				NOT = { is_year = 1453 }
			}
			set_global_flag = hundred_years_war
			log = "FE-TempHYW:[GetYear]::flag hundred_years_war was set:00_InitialSetup"
		}
		
		if = {
			limit = {
				is_year = 1356
				NOT = { is_year = 1365 }
				FRA = {
					war_with = ENG
					NOT = { has_country_flag = ruler_prisonner_of_war }
					NOT = { has_country_flag = jean_ransomed }
				}
			}
			FRA = {
				hidden_effect = {
					set_country_flag = ruler_prisonner_of_war
					set_country_flag = jean_prisonner_of_war
					exile_heir_as = heir_fra_hyw_pow
					exile_consort_as = consort_fra_hyw_pow
					exile_ruler_as = { name = ruler_fra_hyw_pow }
					
				}
				define_ruler = {
					regency = yes
					name = "Dauphin Charles"
					dynasty = "de Valois"
					#fixed = yes
					ADM = 2
					DIP = 2
					MIL = 2
					age = 20
				}
				add_war_exhaustion = 5.5
				extend_regency = 10
				define_heir = {
					name = "Placeholder"
					dynasty = "de Valois"
					age = 0
				}

				#Start French Political turmoil
				hidden_effect = {
					country_event = { id = flavor_hyw.1000 days = 270 }
				}
			}
			
			ENG = {
				add_country_modifier = {
					name = "Italian_bank_loans_Default"
					duration = 2555
				}
			}

			#Charles the Bad was imprisoned by Jean II of France, so made his brother Philip the regent for now
			#Charles the bad will be released during French turmoil
			NAV = {
				define_heir = {
					name = "Placeholder"
					dynasty = "d'Évreux"
					age = 0
				}

				hidden_effect = {
					set_country_flag = ruler_prisonner_of_war
					exile_ruler_as = { name = ruler_nav_hyw_pow }
				}

				define_ruler = {
					regency = yes
					name = "Philip"
					age = 20
				}
				extend_regency = 10
			}
		}
		
		#Mepper: The code below does not seem to have the desired effect, instead of making sure the castilian_civil_war is active at start for Castille, it makes it so that Castille has the disaster twice in its disaster screen, both starting at zero percent. 
		# if = {
		# 	limit = {
		# 		exists = ENR
		# 	}
		# 	CAS = {
		# 		add_disaster_progress = {
		# 			disaster = castilian_civil_war
		# 			value = 100
		# 		}
		# 	}
		# }
		#
		#if = {
		#	limit = {
		#		is_year = 1356
		#		NOT = { is_year = 1370 }
		#	}
		#	POL = {
		#		every_neighbor_country = {
		#			add_opinion = {
		#				who = POL
		#				modifier = casimir_diplomacy
		#			}
		#		}
		#	}
		#}
		if = {
			limit = {
				has_dlc = "Cradle of Civilization"
				
			}
			MAM = {
				export_to_variable = {
					variable_name = mamluk_dynasty_culture
					value = ruler_culture
				}
			}
		}
		
		every_country = { # Loan sizing
			loan_size = 4
		}
		
		#every_country = { # Remove title flags
		#	clr_country_flag = title_1
		#	clr_country_flag = title_2
		#	clr_country_flag = title_3
		#	clr_country_flag = title_4
		#	clr_country_flag = title_5
		#	clr_country_flag = title_6
		#}
		
		# every_province = {
		# limit = {
		# OR = {
		# west_africa_region_trigger = yes
		# region = south_africa_region
		# region = australia_region
		# }
		# NOT = { is_empty = yes }
		# NOT = { base_tax = 1 }
		# }
		# add_base_tax = 1
		# add_base_production = 1
		# add_base_manpower = 1
		# }
		# every_province = {
		# limit = {
		# OR = {
		# west_africa_region_trigger = yes
		# region = south_africa_region
		# region = australia_region
		# }
		# NOT = { is_empty = yes }
		# NOT = { base_tax = 1 }
		# }
		# }
		
		#VEN = {
		#	if = {
		#		limit = {
		#			is_year = 1356
		#			NOT = { is_year = 1440 }
		#		}
		#		galley = 112
		#		galley = 112
		#		galley = 112
		#		light_ship = 112
		#		light_ship = 112
		#		light_ship = 112
		#		transport = 112
		#	}
		#}
		#GEN = {
		#	if = {
		#		limit = {
		#			is_year = 1356
		#			NOT = { is_year = 1440 }
		#		}
		#		galley = 101
		#		galley = 101
		#		galley = 101
		#		light_ship = 101
		#		light_ship = 101
		#		light_ship = 101
		#	}
		#}
		#ARA = {
		#	if = {
		#		limit = {
		#			is_year = 1356
		#			NOT = { is_year = 1440 }
		#		}
		#		galley = 213
		#		galley = 213
		#		galley = 213
		#		light_ship = 213
		#		light_ship = 213
		#		transport = 213
		#	}
		#}
		#ENG = {
		#	if = {
		#		limit = {
		#			is_year = 1356
		#			NOT = { is_year = 1440 }
		#		}
		#		transport = 236
		#		transport = 236
		#	}
		#}
		#MFT = {
		#	if = {
		#		limit = {
		#			is_year = 1356
		#			NOT = { is_year = 1440 }
		#		}
		#		infantry = 1377
		#		infantry = 1377
		#		cavalry = 1377
		#	}
		#}
		
		if = {
			limit = {
				is_year = 1356
				NOT = { is_year = 1603 }
			}
			246 = {
				add_permanent_province_modifier = {
					name = marches_of_scotland
					duration = -1
				}
			}
			409 = {
				add_permanent_province_modifier = {
					name = marches_of_scotland
					duration = -1
				}
			}
			3337 = {
				add_permanent_province_modifier = {
					name = marches_of_the_south
					duration = -1
				}
			}
			1416 = {
				add_permanent_province_modifier = {
					name = marches_of_the_south
					duration = -1
				}
			}
		}
		if = {
			limit = {
				is_year = 1356
				NOT = { is_year = 1472 }
			}
			241 = {
				add_permanent_province_modifier = {
					name = marches_of_wales
					duration = -1
				}
			}
			242 = {
				add_permanent_province_modifier = {
					name = marches_of_wales
					duration = -1
				}
			}
			1412 = {
				add_permanent_province_modifier = {
					name = marches_of_wales
					duration = -1
				}
			}
			3323 = {
				add_permanent_province_modifier = {
					name = marches_of_wales
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				is_year = 1472
				NOT = { is_year = 1542 }
			}
			241 = {
				add_permanent_province_modifier = {
					name = council_of_wales
					duration = -1
				}
			}
			242 = {
				add_permanent_province_modifier = {
					name = council_of_wales
					duration = -1
				}
			}
			1412 = {
				add_permanent_province_modifier = {
					name = council_of_wales
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				is_year = 1542
				NOT = { is_year = 1689 }
			}
			241 = {
				add_permanent_province_modifier = {
					name = laws_in_wales
					duration = -1
				}
			}
			242 = {
				add_permanent_province_modifier = {
					name = laws_in_wales
					duration = -1
				}
			}
			1412 = {
				add_permanent_province_modifier = {
					name = laws_in_wales
					duration = -1
				}
			}
		}
		if = {
			limit = {
				is_year = 1356
				NOT = { is_year = 1399 }
			}
			244 = {
				add_permanent_province_modifier = {
					name = county_palatine
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				is_year = 1399
			}
			244 = {
				add_permanent_province_modifier = {
					name = county_palatine_reformed
					duration = -1
				}
			}
		}
		if = {
			limit = {
				is_year = 1356
				NOT = { is_year = 1550 }
			}
			238 = {
				add_permanent_province_modifier = {
					name = county_palatine
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				is_year = 1550
			}
			238 = {
				add_permanent_province_modifier = {
					name = county_palatine_reformed
					duration = -1
				}
			}
		}
		if = {
			limit = {
				is_year = 1356
				NOT = { is_year = 1836 }
			}
			427 = {
				add_permanent_province_modifier = {
					name = county_palatine
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				is_year = 1836
			}
			427 = {
				add_permanent_province_modifier = {
					name = county_palatine_reformed
					duration = -1
				}
			}
		}
		if = {
			limit = {
				is_year = 1356
				NOT = { is_year = 1472 }
			}
			238 = {
				add_permanent_province_modifier = {
					name = north_of_england
					duration = -1
				}
			}
			244 = {
				add_permanent_province_modifier = {
					name = north_of_england
					duration = -1
				}
			}
			245 = {
				add_permanent_province_modifier = {
					name = north_of_england
					duration = -1
				}
			}
			246 = {
				add_permanent_province_modifier = {
					name = north_of_england
					duration = -1
				}
			}
			409 = {
				add_permanent_province_modifier = {
					name = north_of_england
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				is_year = 1472
				NOT = { is_year = 1641 }
			}
			238 = {
				add_permanent_province_modifier = {
					name = council_of_north
					duration = -1
				}
			}
			244 = {
				add_permanent_province_modifier = {
					name = council_of_north
					duration = -1
				}
			}
			245 = {
				add_permanent_province_modifier = {
					name = council_of_north
					duration = -1
				}
			}
			246 = {
				add_permanent_province_modifier = {
					name = council_of_north
					duration = -1
				}
			}
			409 = {
				add_permanent_province_modifier = {
					name = council_of_north
					duration = -1
				}
			}
		}
		# Japan
		if = {
			limit = {
				is_year = 1336
				NOT = { is_year = 1392 }
			}
			set_global_flag = nanbokucho
		}
		
		##############################################
		# Holy Roman Empire Setup
		##############################################
		# Make Piasts in Silesia infertile
		every_country = {
			limit = {
				primary_culture = silesian
			}
			add_country_modifier = {
				name = HRE_infertile_dynasty
				duration = -1
			}
		}
		#*** General every_country setup loop
		#every_country = {
		#	# limit = {
		#	# exists = yes			#just in case (probably redundant)
		#	# }
		#	set_country_flag = in_play_at_start
		#	every_subject_country = {
		#		limit = {
		#			NOT = { check_key = { lhs = Years_as_Vassal value = 1 } }
		#			NOT = { is_colonial_nation = yes }
		#			# NOT = { is_protectorate = yes }
		#		}
		#		set_key = { lhs = Years_as_Vassal value = 1 }
		#	}
		#}
		
		#######################################################
		# Catholic schism
		#######################################################
		#if = {
		#	limit = {
		#		exists = AVI
		#	}
		#	#AVI = {
		#	#	change_government = yes
		#	#}
		#	every_country = {
		#		limit = {
		#			NOT = { is_year = 1398 }
		#			OR = {
		#				tag = FRA
		#				tag = BOU
		#				tag = CHP
		#				tag = GUY
		#				tag = NRM
		#				tag = ORL
		#				tag = PRO
		#				tag = TOU
		#			}
		#		}
		#		set_country_flag = support_antipope
		#	}
		#	every_country = {
		#		limit = {
		#			is_year = 1398
		#			OR = {
		#				tag = AVI
		#				tag = CAS
		#				tag = ARA
		#				tag = CYP
		#				tag = BUR
		#				tag = SAV
		#				tag = NAP
		#				tag = SCO
		#				tag = SWI
		#				tag = LUX
		#				tag = KLE
		#				tag = FRI
		#				tag = HOL
		#				tag = BRB
		#				tag = HAI
		#			}
		#		}
		#		set_country_flag = support_antipope
		#	}
		#	every_country = {
		#		limit = {
		#			OR = {
		#				tag = PAP
		#				tag = ENG
		#				tag = DAN
		#				tag = DEN
		#				tag = HUN
		#				tag = NOR
		#				tag = POL
		#				tag = MAZ
		#				tag = SWE
		#				tag = BOH #The Empire (with exceptions)
		#				tag = ANH
		#				tag = ANS
		#				tag = BAD
		#				tag = BAV
		#				tag = BRA
		#				tag = BRE
		#				tag = BRU
		#				tag = MAI
		#				tag = HES
		#				tag = LUN
		#				tag = HAN
		#				tag = MAG
		#				tag = SHL
		#				tag = SLZ
		#				tag = MUN
		#				tag = MKL
		#				tag = SAX
		#				tag = TEU
		#				tag = MEI
		#				tag = POM
		#				tag = WBG
		#				tag = TRI
		#				tag = THU
		#				tag = WUR
		#				tag = VEN #Northern Italy
		#				tag = GEN
		#				tag = MAN
		#				tag = MLO
		#				tag = MOD
		#				tag = PAR
		#				tag = PIS
		#				tag = SIE
		#				tag = TUS
		#				tag = CNN #Ireland
		#				tag = LEI
		#				tag = MNS
		#				tag = TYR
		#			}
		#		}
		#		set_country_flag = Roman_Catholic
		#	}
		#}
		#######################################################
		# Automatically discover all lands holy to your religion
		#######################################################
		every_country = {
			limit = {
				religion_group = muslim
			}
			discover_province = 384 # Al Madina
			discover_province = 385 # Makka
			discover_province = 379 # Al Quds
		}
		every_country = {
			limit = {
				religion = shiite
			}
			discover_province = 1330 # Najaf
		}
		every_country = {
			limit = {
				religion = hinduism
			}
			discover_province = 556 # Bundelkhand
		}
		every_country = {
			limit = {
				religion = catholic
			}
			discover_province = 2530 # Roma
		}
		every_country = {
			limit = {
				religion = orthodox
			}
			discover_province = 1402 # Konstantinoupolis
			discover_province = 358 # Al Iskandariyya
			discover_province = 379 # Al Quds
			discover_province = 382 # Dimashq
		}
		every_country = {
			limit = {
				religion = oriental
			}
			discover_province = 358 # Al Iskandariyya
			discover_province = 382 # Dimashq
			discover_province = 410 # Baghdad
		}
		every_country = {
			limit = {
				religion = shinto
			}
			discover_province = 3957 # Shima
		}
	
		#######################################################
		# Vassal-Overlord Relationship
		#######################################################
		#if = {
		#	limit = {
		#		NOT = { is_year = 1453 }
		#		BYZ = { ai = yes }
		#	}
		#	if = {
		#		limit = {
		#			exists = OTT
		#			BYZ = { has_country_flag = turkish_guarantee }
		#		}
		#		OTT = { create_guarantee = BYZ }
		#		BYZ = { set_country_flag = turkish_guarantee }
		#	}
		#	else_if = {
		#		limit = {
		#			exists = TUR
		#		}
		#		TUR = { create_guarantee = BYZ }
		#		BYZ = { set_country_flag = turkish_guarantee }
		#	}
		#}
		
		############################################
		# Configure Horde Forcelimits
		############################################
		#every_country = {
		#	limit = {
	#			government = tribal
		#	}
		#	country_event = { id = horde_mechanic_events.2 }
		#}

######################################################################
# Culture Conversion Setup
######################################################################

		###########################################
		# Configure Ostsiedlung starting situation
		###########################################
		ostsiedlung_group_pre1250 = {
			if = {
				limit = { 
					NOT = { OR = { culture_group = low_germanic culture_group = high_germanic } } # safety limit
				}
				if = {
					limit = { culture = silesian }
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 3
						preset_progress = 20
						preset_CV = german_silesian
						preset_effect_mod = ostsiedlung_province_effect
					}
				}
				else_if = {
					limit = { culture = sorbs }
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 2
						preset_progress = 20
						preset_CV = high_saxon
						preset_effect_mod = ostsiedlung_province_effect
					}
				}
				else_if = {
					limit = { culture = polabian }
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 2
						preset_progress = 20
						preset_CV = low_saxon
						preset_effect_mod = ostsiedlung_province_effect
					}
				}
				else = {
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 5
						preset_progress = 40
						preset_effect_mod = ostsiedlung_province_effect
					}				
				}
			}
		}
		ostsiedlung_group_aft1250 = {
			if = {
				limit = { 
					NOT = { OR = { culture_group = low_germanic culture_group = high_germanic } } # safety limit
				}
				if = {
					limit = { culture = silesian }
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 3
						preset_progress = 10
						preset_CV = german_silesian
						preset_effect_mod = ostsiedlung_province_effect
					}
				}
				else_if = {
					limit = { culture = sorbs }
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 2
						preset_progress = 5
						preset_CV = high_saxon
						preset_effect_mod = ostsiedlung_province_effect
					}
				}
				else_if = {
					limit = { culture = polabian }
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 4
						preset_progress = 15
						preset_CV = low_saxon
						preset_effect_mod = ostsiedlung_province_effect
					}
				}
				else_if = {
					limit = { culture = kashubian }
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 4
						preset_progress = 15
						preset_CV = pommeranian
						preset_effect_mod = ostsiedlung_province_effect
					}
				}
				else = {
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 4
						preset_progress = 30
						preset_effect_mod = ostsiedlung_province_effect
					}				
				}
			}	
		}
		ostsiedlung_group_aft1275 = {
			if = {
				limit = { 
					NOT = { OR = { culture_group = low_germanic culture_group = high_germanic } } # safety limit
				}
				if = {
					limit = { culture = silesian }
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 2
						preset_progress = 5
						preset_CV = german_silesian
						preset_effect_mod = ostsiedlung_province_effect
					}
				}
				else_if = {
					limit = { culture = sorbs }
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 2
						preset_progress = 5
						preset_CV = low_saxon
						preset_effect_mod = ostsiedlung_province_effect
					}
				}
				else_if = {
					limit = { culture = polabian }
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 2
						preset_progress = 15
						preset_CV = high_saxon
						preset_effect_mod = ostsiedlung_province_effect
					}
				}
				else_if = {
					limit = { culture = kashubian }
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 2
						preset_progress = 15
						preset_CV = pommeranian
						preset_effect_mod = ostsiedlung_province_effect
					}
				}
				else = {
					setup_CV_special_case = {
						case = german_ostsiedlung
						multiplier = 4
						preset_progress = 20
						preset_effect_mod = ostsiedlung_province_effect
					}				
				}
			}	
		}
	}
}

country_event = { # scenario description event
	id = setup_event.2
	title = "EVT_AI"
	desc = "EVT_AI"
	picture = MEIOU_AND_TAXES_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		ai = no
	}
	
	immediate = {
		if = {
			limit = {
				tag = FRA is_revolution_target = no
			}
			custom_tooltip = royal_french_motto_tooltip
		}
		else_if = {
			limit = {
				tag = FRA is_revolution_target = yes
			}
			custom_tooltip = revolutionary_french_motto_tooltip
		}
		else_if = {
			limit = {
				OR = { tag = ENG tag = GBR }
			}
			custom_tooltip = england_motto_tooltip
		}
		else_if = {
			limit = {
				tag = POR
			}
			custom_tooltip = portuguese_motto_tooltip
		}
		else_if = {
			limit = {
				tag = PRU
			}
			custom_tooltip = prussia_motto_tooltip
		}
		else_if = {
			limit = {
				tag = GRA
			}
			custom_tooltip = granada_motto_tooltip
		}
		else_if = {
			limit = {
				tag = SPA
			}
			custom_tooltip = spain_motto_tooltip
		}
		else_if = {
			limit = {
				tag = EBU
			}
			custom_tooltip = belgian_motto_tooltip
		}
		else_if = {
			limit = {
				tag = NED
			}
			custom_tooltip = dutch_motto_tooltip
		}
		else_if = {
			limit = {
				tag = SWI
			}
			custom_tooltip = swiss_motto_tooltip
		}
		else_if = {
			limit = {
				tag = USA
			}
			custom_tooltip = american_motto_tooltip
		}
		else_if = {
			limit = {
				tag = HAB
			}
			custom_tooltip = austrian_motto_tooltip
		}
		else_if = {
			limit = {
				tag = HAN
			}
			custom_tooltip = hanover_motto_tooltip
		}
		else_if = {
			limit = {
				tag = HOH
			}
			custom_tooltip = hohenzollern_motto_tooltip
		}
		else_if = {
			limit = {
				tag = SCO
			}
			custom_tooltip = scotland_motto_tooltip
		}
		else_if = {
			limit = {
				OR = { tag = POL tag = PLC }
			}
			custom_tooltip = polish_motto_tooltip
		}
		else_if = {
			limit = {
				OR = { tag = DAN tag = DEN }
			}
			custom_tooltip = denmark_motto_tooltip
		}
		else_if = {
			limit = {
				tag = SWE
			}
			custom_tooltip = sweden_motto_tooltip
		}
		else_if = {
			limit = {
				tag = BOH
			}
			custom_tooltip = bohemia_motto_tooltip
		}
		else_if = {
			limit = {
				tag = ROU
			}
			custom_tooltip = roumania_motto_tooltip
		}
		else_if = {
			limit = {
				tag = BUL
			}
			custom_tooltip = bulgaria_motto_tooltip
		}
		#hidden_effect = {
#			if = {
#				limit = {
#					tag = VEN
#					ai = no
#				}
#				country_event = { id = venetian_republic.0 days = 3 }
#			}
#			if = {
#				limit = {
#					tag = SWE
#					exists = RSW
#					ai = no
#				}
#				country_event = { id = flavor_swe.4309 days = 3 }
#			}
#			if = {
#				limit = {
#					tag = RSW
#					exists = SWE
#					ai = no
#				}
#				country_event = { id = flavor_swe.4310 days = 3 }
#			}
			# if = {
			# 	limit = {
			# 		tag = CAS
			# 		ai = no
			# 		exists = ENR
			# 		NOT = { is_year = 1370 }
			# 		NOT = { has_country_flag = you_were_warned }
			# 	}
			# 	country_event = { id = flavor_spa.6001 days = 3 }			#Mepper: Commented out because flavor_spa.6001 doesn't exist. 
			# }
			# else_if = {
			# 	limit = {
			# 		religion = midewiwin
			# 		ai = no
			# 	}
			# 	country_event = { id = setup_event.21 days = 3 }			#Mepper: Commented out because setup_event.21 doesn't exist.
			# }
		#}
	}
	
	option = {
		name = "EVT_AI"
		country_event = { id = setup_event.101 days = 0 }
		country_event = { id = AI_Invest.5 days = 30 } #informing player about auto-invest option
	}
}

#country_event = { # delegate global
#	id = setup_event.3
#	title = "EVT_AI"
#	desc = "EVT_AI"
#	picture = MEIOU_AND_TAXES_eventPicture
#
#	fire_only_once = yes
#	is_triggered_only = yes
#	
#	hidden = yes
#	
#	trigger = {
#		tag = AAA
#		NOT = { has_global_flag = meiou_and_taxes_mod_start } # set by setup_event.1
#	}
#	
#	immediate = {
#		set_global_flag = meiou_and_taxes_mod_start
#	}
#	
#	option = {
#		name = "EVT_AI"
#		country_event = { id = setup_event.1 }
#		#country_event = { id = dg_conversion.001 }
#	}
#}

# Assign random heirs to nations with unknown historical data on heirs
# written by Jandy
country_event = {
	id = setup_event.4
	title = "EVT_AI"
	desc = "EVT_AI"
	picture = MEIOU_AND_TAXES_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	trigger = {
		government = monarchy
		has_heir = no
		has_regency = no
		is_lesser_in_union = no
		NOT = {
			OR = {
				has_global_flag = 1530_start_date
				has_global_flag = meiou_and_taxes_mod_start
				is_playing_custom_nation = yes
				#has_country_modifier = obstacle_succession
				has_country_flag = no_heir
				AND = {
					tag = MOE
					NOT = { ruler_age = 31 } #Morea in 1356
				}
			}
		}
	}
	
	immediate = {
		set_global_flag = meiou_and_taxes_mod_start
	}
	
	option = {
		name = "EVT_AI"
		if = {
			limit = {
				legitimacy = 80
			}
			random_list = {
				15 = {	}
				15 = {
					define_heir = {
						claim = 90
						dynasty = THIS
					}
				}
				10 = {
					define_heir = {
						claim = 90
						dynasty = THIS
						age = 2
					}
				}
				10 = {
					define_heir = {
						claim = 90
						dynasty = THIS
						age = 4
					}
				}
				10 = {
					define_heir = {
						claim = 90
						dynasty = THIS
						age = 6
					}
				}
				10 = {
					define_heir = {
						claim = 90
						dynasty = THIS
						age = 8
					}
				}
				10 = {
					define_heir = {
						claim = 90
						dynasty = THIS
						age = 10
					}
				}
				10 = {
					define_heir = {
						claim = 90
						dynasty = THIS
						age = 12
					}
				}
				10 = {
					define_heir = {
						claim = 90
						dynasty = THIS
						age = 14
					}
				}
			}
		}
		else_if = {
			limit = {
				legitimacy = 60
			}
			random_list = {
				15 = { }
				15 = {
					define_heir = {
						claim = 70
						dynasty = THIS
					}
				}
				10 = {
					define_heir = {
						claim = 70
						dynasty = THIS
						age = 2
					}
				}
				10 = {
					define_heir = {
						claim = 70
						dynasty = THIS
						age = 4
					}
				}
				10 = {
					define_heir = {
						claim = 70
						dynasty = THIS
						age = 6
					}
				}
				10 = {
					define_heir = {
						claim = 70
						dynasty = THIS
						age = 8
					}
				}
				10 = {
					define_heir = {
						claim = 70
						dynasty = THIS
						age = 10
					}
				}
				10 = {
					define_heir = {
						claim = 70
						dynasty = THIS
						age = 12
					}
				}
				10 = {
					define_heir = {
						claim = 70
						dynasty = THIS
						age = 14
					}
				}
			}
		}
		else_if = {
			limit = {
				legitimacy = 40
			}
			random_list = {
				15 = {	}
				15 = {
					define_heir = {
						claim = 50
						dynasty = THIS
					}
				}
				10 = {
					define_heir = {
						claim = 50
						dynasty = THIS
						age = 2
					}
				}
				10 = {
					define_heir = {
						claim = 50
						dynasty = THIS
						age = 4
					}
				}
				10 = {
					define_heir = {
						claim = 50
						dynasty = THIS
						age = 6
					}
				}
				10 = {
					define_heir = {
						claim = 50
						dynasty = THIS
						age = 8
					}
				}
				10 = {
					define_heir = {
						claim = 50
						dynasty = THIS
						age = 10
					}
				}
				10 = {
					define_heir = {
						claim = 50
						dynasty = THIS
						age = 12
					}
				}
				10 = {
					define_heir = {
						claim = 50
						dynasty = THIS
						age = 14
					}
				}
			}
		}
		else = {
			random_list = {
				15 = {}
				15 = {
					define_heir = {
						claim = 30
						dynasty = THIS
					}
				}
				10 = {
					define_heir = {
						claim = 30
						dynasty = THIS
						age = 2
					}
				}
				10 = {
					define_heir = {
						claim = 30
						dynasty = THIS
						age = 4
					}
				}
				10 = {
					define_heir = {
						claim = 30
						dynasty = THIS
						age = 6
					}
				}
				10 = {
					define_heir = {
						claim = 30
						dynasty = THIS
						age = 8
					}
				}
				10 = {
					define_heir = {
						claim = 30
						dynasty = THIS
						age = 10
					}
				}
				10 = {
					define_heir = {
						claim = 30
						dynasty = THIS
						age = 12
					}
				}
				10 = {
					define_heir = {
						claim = 30
						dynasty = THIS
						age = 14
					}
				}
			}
		}
	}
}

#country_event = {
#	id = setup_event.5
#	title = "EVT_AI"
#	desc = "EVT_AI"
#	picture = MEIOU_AND_TAXES_eventPicture
#	
#	is_triggered_only = yes
#	hidden = yes
#	#fire_only_once = yes
#	
#	trigger = {
#		has_global_flag = 1530_start_date
#	}
#	
#	option = {
#		name = "EVT_AI"
#		add_years_of_income = 0.1
#		add_war_exhaustion = -10
#	}
#}

#country_event = {
#	id = setup_event.6
#	title = "EVT_AI"
#	desc = "EVT_AI"
#	picture = MEIOU_AND_TAXES_eventPicture
#	
#	is_triggered_only = yes
#	hidden = yes
#	fire_only_once = yes
#	
#	trigger = {
#		has_country_flag = otto_nerf_1530
#	}
#	
#	option = {
#		name = "EVT_AI"
#		clr_country_flag = otto_nerf_1530
#		add_manpower = -70
#		every_country = {
#			every_owned_province = {
#				remove_province_modifier = coalition_member
#			}
#		}
#		every_owned_province = {
#			remove_claim = OTT
#			remove_claim = BYZ
#		}
#		every_country = {
#			every_owned_province = {
#				remove_claim = OTT
#				remove_claim = BYZ
#			}
#		}
#	}
#}

#country_event = {
#	id = setup_event.7
#	title = "EVT_AI"
#	desc = "EVT_AI"
#	picture = MEIOU_AND_TAXES_eventPicture
#
#	is_triggered_only = yes
#	hidden = yes
#	fire_only_once = yes
#	
#	trigger = {
#		has_global_flag = 1530_start_date
#		NOT = { tag = TUR }
#		NOT = { tag = MAM }
#		NOT = { tag = SYR }
#		is_colonial_nation = no
#	}
#	
#	option = {
#		name = "EVT_AI"
#		every_owned_province = {
#			# add_base_manpower = 1
#			# add_base_production = 1
#			# add_base_tax = 1
#		}
#	}
#}

#country_event = {
#	id = setup_event.8
#	title = "SPAIN_1530_startupt"
#	desc = "SPAIN_1530_startupd"
#	picture = EXPLORERS_eventPicture
#
#	is_triggered_only = yes
#	fire_only_once = yes
#	hidden = yes
#	
#	trigger = {
#		has_global_flag = 1530_start_date
#		tag = SPA
#	}
#	
#	option = {
#		name = "SPAIN_1530_startupa"
#		set_country_flag = spanish_start
#	}
#}

#country_event = {
#	id = setup_event.9
#	title = "TUR_1530_startupt"
#	desc = "TUR_1530_startupd"
#	picture = MILITARY_CAMP_eventPicture
#
#	is_triggered_only = yes
#	fire_only_once = yes
#	hidden = yes
#	
#	trigger = {
#		has_global_flag = 1530_start_date
#		tag = TUR
#	}
#	
#	option = {
#		name = "SPAIN_1530_startupa"
#		set_country_flag = turkish_start
#		clr_country_flag = otto_nerf_1530
#		every_country = {
#			every_owned_province = {
#			remove_province_modifier = coalition_member
#			 }
#		 }
#		every_owned_province = {
#			remove_claim = OTT
#			remove_claim = BYZ
#		}
#		every_country = {
#			every_owned_province = {
#				remove_claim = OTT
#				remove_claim = BYZ
#			}
#		}
#	}
#}

#country_event = {
#	id = setup_event.10
#	title = "EVT_AI"
#	desc = "EVT_AI"
#	picture = MILITARY_CAMP_eventPicture
#	
#	is_triggered_only = yes
#	fire_only_once = yes
#	hidden = yes
#	
#	trigger = {
#		NOT = { has_country_flag = vietnamese_civil_war }
#		has_global_flag = 1530_start_date
#		primary_culture = vietnamese
#		NOT = { tag = DAI }
#	}
#	
#	option = {
#		name = "SPAIN_1530_startupa"
#		set_country_flag = vietnamese_civil_war
#		VUU = {
#			capital_scope = {
#				build_to_forcelimit = {
#					infantry = 0.6
#					cavalry = 0.3
#					artillery = 0.1
#				}
#			}
#			add_treasury = 50
#		}
#		ANN = {
#			capital_scope = {
#				build_to_forcelimit = {
#					infantry = 0.3
#					cavalry = 0.15
#					artillery = 0.05
#				}
#			}
#			607 = {
#				build_to_forcelimit = {
#					infantry = 0.6
#					cavalry = 0.3
#					artillery = 0.1
#				}
#			}
#			add_treasury = 100
#		}
#	}
#}

country_event = {
	id = setup_event.11
	title = no_localization
	desc = no_localization
	picture = MEIOU_AND_TAXES_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		clr_global_flag = multiplayer
		
		if = {
			limit = {
				calc_true_if = {
					all_country = {
						ai = no
					}
					
					amount = 2
				}
			}
			
			set_global_flag = multiplayer
		}
	}
	
	option = {
		name = no_localization
	}
}

#country_event = {
#	id = setup_event.13
#	title = "EVT_AI"
#	desc = "EVT_AI"
#	picture = MEIOU_AND_TAXES_eventPicture
#	
#	is_triggered_only = yes
#	hidden = yes
#	
#	immediate = {
#	}
#	
#	option = {
#		name = "EVT_AI"
#		ai_chance = { factor = 100 }
#	}
#}
#
#country_event = { # for testing for every country
#	id = setup_event.14
#	title = "EVT_AI"
#	desc = "EVT_AI"
#	picture = MEIOU_AND_TAXES_eventPicture
#	
#	is_triggered_only = yes
#	hidden = yes
#	
#	immediate = {
#	}
#	
#	option = {
#		name = "EVT_AI"
#		ai_chance = { factor = 100 }
#	}
#}

#country_event = { # for testing for 1 country
#	id = setup_event.15
#	title = "EVT_AI"
#	desc = "EVT_AI"
#	picture = MEIOU_AND_TAXES_eventPicture
#	
#	is_triggered_only = yes
#	hidden = yes
#	
#	immediate = {
#	}
#	
#	option = {
#		name = "EVT_AI"
#		ai_chance = { factor = 100 }
#	}
#}

#country_event = {
#	id = setup_event.300
#	title = startup_warning_t
#	desc = startup_warning_d
#	picture = MEIOU_AND_TAXES_eventPicture
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = "startup_warning_o"
#	}
#}

country_event = {
	id = setup_event.101
	title = "EVT_AI"
	desc = "EVT_AI"
	picture = MEIOU_AND_TAXES_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = "EVT_AI"
		add_country_modifier = { name = normal_difficulty duration = -1 hidden = yes }
		country_event = { id = setup_event.102 }
	}
}

country_event = {
	id = setup_event.102
	title = "setup_event.102.name"
	desc = "setup_event.102.desc"
	picture = MEIOU_AND_TAXES_eventPicture
	
	is_triggered_only = yes

	option = {
		name = "setup_event.102.opta"
		highlight = yes
		trigger = {
			OR = {
				has_country_modifier = very_easy_difficulty
				has_country_modifier = easy_difficulty
				has_country_modifier = normal_difficulty
				has_country_modifier = hard_difficulty
				has_country_modifier = expert_difficulty
			}
		}
		country_event = { id = setup_event.107 days = 1 }
		country_event = { id = setup_event.201 days = 3 }
	}
	option = {
		name = "setup_event.102.optb"
		hidden_effect = {
			country_event = { id = setup_event.103 }
		}
	}
	option = {
		name = "setup_event.102.optc"
		trigger = {
			NOT = { has_country_flag = unlocked_settings }
		}
		hidden_effect = {
			set_country_flag = unlocked_settings
			country_event = { id = setup_event.104 }
		}
	}
	option = {
		name = "setup_event.102.optd"
		trigger = {
			has_country_flag = unlocked_settings
		}
		hidden_effect = {
			clr_country_flag = unlocked_settings
			country_event = { id = setup_event.104 }
		}
	}
#	option = {
#		name = "setup_event.102.opte"
#		highlight = yes
#		trigger = {
#			NOT = {
#				has_country_modifier = easy_difficulty
#				has_country_modifier = normal_difficulty
#				has_country_modifier = hard_difficulty
#				has_country_modifier = expert_difficulty
#			}
#		}
#		hidden_effect = {
#			set_country_flag = normal_difficulty
#			country_event = { id = setup_event.104 }
#		}
#	}
	option = {
		name = "setup_event.102.optf"
		trigger = {
			has_country_modifier = normal_difficulty
		}
		custom_tooltip = setup_event.102.diffd
		hidden_effect = {
			remove_country_modifier = normal_difficulty
			add_country_modifier = { name = hard_difficulty duration = -1 hidden = yes }
			country_event = { id = setup_event.104 }
		}
	}
	option = {
		name = "setup_event.102.optg"
		trigger = {
			has_country_modifier = hard_difficulty
		}
		custom_tooltip = setup_event.102.optgd
		hidden_effect = {
			remove_country_modifier = hard_difficulty
			add_country_modifier = { name = expert_difficulty duration = -1 hidden = yes }
			country_event = { id = setup_event.104 }
		}
	}
	option = {
		name = "setup_event.102.opth"
		trigger = {
			has_country_modifier = expert_difficulty
		}
		custom_tooltip = setup_event.102.opthd
		hidden_effect = {
			remove_country_modifier = expert_difficulty
			add_country_modifier = { name = very_easy_difficulty duration = -1 hidden = yes }
			country_event = { id = setup_event.104 }
		}
	}
	option = {
		name = "setup_event.102.opti"
		trigger = {
			has_country_modifier = easy_difficulty
		}
		custom_tooltip = setup_event.102.optid
		hidden_effect = {
			remove_country_modifier = easy_difficulty
			add_country_modifier = { name = normal_difficulty duration = -1 hidden = yes }
			country_event = { id = setup_event.104 }
		}
	}
	option = {
		name = "setup_event.102.optm"
		trigger = {
			has_country_modifier = very_easy_difficulty
		}
		custom_tooltip = setup_event.102.optmd
		hidden_effect = {
			remove_country_modifier = very_easy_difficulty
			add_country_modifier = { name = easy_difficulty duration = -1 hidden = yes }
			country_event = { id = setup_event.104 }
		}
	}
	option = {
		name = "setup_event.102.optj"
		trigger = {
			NOT = { has_global_flag = additional_tags_enabled }
		}
		hidden_effect = {
			set_global_flag = additional_tags_enabled
			country_event = { id = setup_event.104 }
		}
	}
	option = {
		name = "setup_event.102.optk"
		trigger = {
			has_global_flag = additional_tags_enabled
			NOT = { has_global_flag = extra_tags_enabled }
		}
		custom_tooltip = "additional_tags_enabled_tt"
		hidden_effect = {
			set_global_flag = extra_tags_enabled
			country_event = { id = setup_event.104 }
		}
	}
	option = {
		name = "setup_event.102.optl"
		trigger = {
			has_global_flag = extra_tags_enabled
		}
		custom_tooltip = "extra_tags_enabled_tt"
		hidden_effect = {
			clr_global_flag = additional_tags_enabled
			clr_global_flag = extra_tags_enabled
			country_event = { id = setup_event.104 }
		}
	}
	option = {
		name = "setup_event.102.optn"
		trigger = {
			NOT = { has_global_flag = historical_conversion }
		}
		# custom_tooltip = setup_event.102.optnd
		hidden_effect = {
			set_global_flag = historical_conversion
			country_event = { id = setup_event.104 }
		}
	}
	option = {
		name = "setup_event.102.opto"
		trigger = {
			has_global_flag = historical_conversion
		}
		custom_tooltip = setup_event.102.optod
		hidden_effect = {
			clr_global_flag = historical_conversion
			country_event = { id = setup_event.104 }
		}
	}
	option = {
		name = "setup_event.102.optp"
		trigger = {
			NOT = { has_global_flag = historical_religion }
		}
		custom_tooltip = setup_event.102.optpd
		hidden_effect = {
			set_global_flag = historical_religion
			country_event = { id = setup_event.104 }
		}
	}
	option = {
		name = "setup_event.102.optq"
		trigger = {
			has_global_flag = historical_religion
		}
		custom_tooltip = setup_event.102.optqd
		hidden_effect = {
			clr_global_flag = historical_religion
			country_event = { id = setup_event.104 }
		}
	}
#	option = {
#		name = "setup_event.102.optp"
#		trigger = {
#			NOT = { has_global_flag = central_african_removed }
#		}
#		hidden_effect = {
#			set_global_flag = central_african_removed
#			country_event = { id = setup_event.104 }
#		}
#	}
#	option = {
#		name = "setup_event.102.optq"
#		trigger = {
#			has_global_flag = central_african_removed
#		}
#		hidden_effect = {
#			set_global_flag = central_african_removed
#			country_event = { id = setup_event.104 }
#		}
#	}
}

country_event = {
	id = setup_event.103
	title = "setup_event.103.name"
	desc = "setup_event.103.desc"
	picture = MEIOU_AND_TAXES_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		ai = no
	}
	
	option = {
		name = "PTM_BACK"
		highlight = yes
		country_event = { id = setup_event.102 days = 0 }
	}
}

country_event = {
	id = setup_event.104
	title = "EVT_AI"
	desc = "EVT_AI"
	picture = MEIOU_AND_TAXES_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		ai = no
	}
	
	option = {
		name = "EVT_AI"
		country_event = { id = setup_event.102 days = 0 }
	}
}

country_event = {
	id = setup_event.105
	title = "setup_event.102.name"
	desc = "setup_event.105.desc"
	picture = MEIOU_AND_TAXES_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "setup_event.102.opta"
		highlight = yes
		hidden_effect = { country_event = { id = setup_event.201 days = 3 } }
		country_event = { id = setup_event.107 days = 1 }
	}
	option = {
		name = "setup_event.102.optc"
		trigger = {
			NOT = { has_country_flag = unlocked_settings }
		}
		hidden_effect = {
			set_country_flag = unlocked_settings
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.optd"
		trigger = {
			has_country_flag = unlocked_settings
		}
		hidden_effect = {
			clr_country_flag = unlocked_settings
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.optf"
		trigger = {
			has_country_modifier = normal_difficulty
		}
		custom_tooltip = setup_event.102.diff
		hidden_effect = {
			remove_country_modifier = normal_difficulty
			add_country_modifier = { name = hard_difficulty duration = -1 hidden = yes }
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.optg"
		trigger = {
			has_country_modifier = hard_difficulty
		}
		custom_tooltip = setup_event.102.optgd
		custom_tooltip = setup_event.102.diff
		hidden_effect = {
			remove_country_modifier = hard_difficulty
			add_country_modifier = { name = expert_difficulty duration = -1 hidden = yes }
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.opth"
		trigger = {
			has_country_modifier = expert_difficulty
		}
		custom_tooltip = setup_event.102.opthd
		custom_tooltip = setup_event.102.diff
		hidden_effect = {
			remove_country_modifier = expert_difficulty
			add_country_modifier = { name = very_easy_difficulty duration = -1 hidden = yes }
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.opti"
		trigger = {
			has_country_modifier = easy_difficulty
		}
		custom_tooltip = setup_event.102.optid
		custom_tooltip = setup_event.102.diff
		hidden_effect = {
			remove_country_modifier = easy_difficulty
			add_country_modifier = { name = normal_difficulty duration = -1 hidden = yes }
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.optm"
		trigger = {
			has_country_modifier = very_easy_difficulty
		}
		custom_tooltip = setup_event.102.optmd
		custom_tooltip = setup_event.102.diff
		hidden_effect = {
			remove_country_modifier = very_easy_difficulty
			add_country_modifier = { name = easy_difficulty duration = -1 hidden = yes }
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.optj"
		trigger = {
			NOT = { has_global_flag = additional_tags_enabled }
		}
		hidden_effect = {
			set_global_flag = additional_tags_enabled
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.optk"
		trigger = {
			has_global_flag = additional_tags_enabled
			NOT = { has_global_flag = extra_tags_enabled }
		}
		custom_tooltip = "additional_tags_enabled_tt"
		hidden_effect = {
			set_global_flag = extra_tags_enabled
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.optl"
		trigger = {
			has_global_flag = extra_tags_enabled
		}
		custom_tooltip = "extra_tags_enabled_tt"
		hidden_effect = {
			clr_global_flag = additional_tags_enabled
			clr_global_flag = extra_tags_enabled
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.optn"
		trigger = {
			NOT = { has_global_flag = historical_conversion }
		}
		custom_tooltip = setup_event.102.optnd
		hidden_effect = {
			set_global_flag = historical_conversion
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.opto"
		trigger = {
			has_global_flag = historical_conversion
		}
		custom_tooltip = setup_event.102.optod
		hidden_effect = {
			clr_global_flag = historical_conversion
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.optp"
		trigger = {
			NOT = { has_global_flag = historical_religion }
		}
		custom_tooltip = setup_event.102.optpd
		hidden_effect = {
			set_global_flag = historical_religion
			country_event = { id = setup_event.106 }
		}
	}
	option = {
		name = "setup_event.102.optq"
		trigger = {
			has_global_flag = historical_religion
		}
		custom_tooltip = setup_event.102.optqd
		hidden_effect = {
			clr_global_flag = historical_religion
			country_event = { id = setup_event.106 }
		}
	}
#	option = {
#		name = "setup_event.102.optm"
#		trigger = {
#			NOT = { has_global_flag = central_african_removed }
#		}
#		hidden_effect = {
#			set_global_flag = central_african_removed
#			country_event = { id = setup_event.106 }
#		}
#	}
#	option = {
#		name = "setup_event.102.optn"
#		trigger = {
#			has_global_flag = central_african_removed
#		}
#		hidden_effect = {
#			set_global_flag = central_african_removed
#			country_event = { id = setup_event.106 }
#		}
#	}
}

country_event = {
	id = setup_event.106
	title = "EVT_AI"
	desc = "EVT_AI"
	picture = MEIOU_AND_TAXES_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		ai = no
	}
	
	option = {
		name = "EVT_AI"
		country_event = { id = setup_event.105 days = 0 }
	}
}

country_event = {
	id = setup_event.107
	title = "EVT_AI"
	desc = "EVT_AI"
	picture = MEIOU_AND_TAXES_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = "EVT_AI"
		if = {
			limit = { has_global_flag = historical_religion }
			every_country = {
				add_country_modifier = { name = historical_religion_em duration = -1 hidden = yes }
			}
		}
		else = {
			every_country = {
				remove_country_modifier = historical_religion_em
			}
		}
	}
}

country_event = {
	id = setup_event.201
	title = "setup_event.201.name"
	desc = "setup_event.201.desc"
	picture = MEIOU_AND_TAXES_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "setup_event.102.opta"
		highlight = yes
	}
	option = {
		name = "setup_event.102.optb"
		trigger = {
			religion = catholic
			NOT = { has_country_flag = cardinal_imp }
			NOT = { has_country_flag = cardinal_all }
		}
		hidden_effect = {
			set_country_flag = cardinal_imp
			country_event = { id = setup_event.202 }
		}
	}
	option = {
		name = "setup_event.102.optc"
		trigger = {
			religion = catholic
			has_country_flag = cardinal_imp
		}
		hidden_effect = {
			clr_country_flag = cardinal_imp
			set_country_flag = cardinal_all
			country_event = { id = setup_event.202 }
		}
	}
	option = {
		name = "setup_event.102.optd"
		trigger = {
			religion = catholic
			has_country_flag = cardinal_all
		}
		hidden_effect = {
			clr_country_flag = cardinal_all
			country_event = { id = setup_event.202 }
		}
	}
}

country_event = {
	id = setup_event.202
	title = "EVT_AI"
	desc = "EVT_AI"
	picture = MEIOU_AND_TAXES_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		ai = no
	}
	
	option = {
		name = "EVT_AI"
		country_event = { id = setup_event.201 days = 0 }
	}
}

country_event = {
	id = setup_event.301
	title = startup_warning_t
	desc = startup_warning_d
	picture = MEIOU_AND_TAXES_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = "EVT_AI"
		#set_primitive = no # effect seems to be removed by pdx
	}
}
