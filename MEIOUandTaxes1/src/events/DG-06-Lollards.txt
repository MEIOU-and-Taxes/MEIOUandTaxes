namespace = DG_Lollards

# 001     - Starting the heresy
# 002-100 - 
# 101-200 - Spreading heresy
# 201-300 - Inquisition results
# 301-400 - Unrest events
# 901     - Lollards become Protestant

province_event = {
	id = DG_Lollards.001
	title = "DG_Lollards.001.title"
	desc = "DG_Lollards.001.desc"
	picture = all_church_state

	major = yes
	fire_only_once = yes
	
	trigger = {
		NOT = { is_religion_enabled = lollard }
		OR = {
			province_id = 237
			province_id = 1283
		}
		NOT = { is_religion_enabled = protestant }
	}
	
	mean_time_to_happen = {
		years = 50
	}

	immediate = {
		enable_religion = lollard
		hidden_effect = { set_global_flag = DG_Wycliffite_Spawn }
		log = "DG:[GetYear]:[This.aab.GetValue]:Wycliffite:Birth:[This.GetName]:[This.Owner.GetName]"
		owner = {
			add_reform_desire = 0.00025
		}
		
		hidden_effect = {
			set_province_flag = lol_craddle
			save_global_event_target_as = lol_origins
			MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.10 typeIncr = value }
			MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = 3 }
			MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
		}
	}
	
	option = {
		name = "DG_Lollards.001.opta" #Support him
		ai_chance = {
			factor = 20
		}
		hidden_effect = {
			owner = { 
				set_country_flag = support_06
				add_ruler_modifier = {
					name = "heretic_tolerance"
				}
				MN_conv_resist_c = { strength = -10 }
				#add_reform_desire = 0.010
				reverse_add_opinion = { who = PAP modifier = opinion_pope_religious_tolerance }
			}
			MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.15 typeIncr = value }
			MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
			every_neighbor_province = {
				MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.10 typeIncr = value }
				MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
			}
		}
	}
	option = {
		name = "DG_Lollards.001.optb" #Let him speak
		ai_chance = {
			factor = 20
		}
		hidden_effect = {
			owner = {
				set_country_flag = accept_06
				add_ruler_modifier = {
					name = "tolerant_society"
				}
				MN_conv_resist_c = { strength = -5 }
				#add_reform_desire = 0.0005
			}
			MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.10 typeIncr = value }
			MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
			every_neighbor_province = {
				MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.05 typeIncr = value }
				MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
			}
		}
	}
	option = {
		name = "DG_Lollards.001.optc" #Silence him
		ai_chance = {
			factor = 60
		}
		hidden_effect = {
			owner = {
				set_country_flag = silence_06
				add_ruler_modifier = {
					name = "religious_intolerance"
				}
				MN_conv_resist_c = { strength = 10 }
				#add_reform_desire = -0.010
			}
		}
	}
	
	after = {
		owner = {
			country_event = { id = DG_Lollards.002 }
		}
		hidden_effect = {
			random_province = {
				limit = { OR = { religion = catholic religion = avignonist } }
				province_event = { id = DG_Lollards.003 days = 1825 }
			}
		}
	}
}

country_event = {
	id = DG_Lollards.002
	title = "DG_Lollards.002.title"
	desc = "DG_Lollards.002.desc"
	picture = all_church_state

	is_triggered_only = yes

	option = {
		name = "DG_Lollards.002.opta"
		trigger = { ai = no }
		hidden_effect = {
			set_country_flag = lol_spread_info
			set_country_flag = lol_inquis_info
			set_country_flag = lol_convert_info
			set_country_flag = lol_unrest_info
			set_country_flag = lol_end_info
		}
	}

	option = {
		name = "DG_Lollards.002.optb"
		trigger = { ai = no }
		hidden_effect = {
			clr_country_flag = lol_spread_info
			clr_country_flag = lol_inquis_info
			clr_country_flag = lol_convert_info
			clr_country_flag = lol_unrest_info
			clr_country_flag = lol_end_info
		}
	}

	option = {
		name = "DG_Lollards.002.optc"
		trigger = { ai = no }
		country_event = { id = DG_Notification.061 }
	}

	option = {
		name = "EVT_AI"
		trigger = { ai = yes }
	}
	
	after = {
		if = {
			limit = { NOT = { has_country_flag = lollard_presence } }
			hidden_effect = {
				set_country_flag = lollard_presence
			}
		}
	}
}

province_event = {
	id = DG_Lollards.003
	title = "DG_Lollards.003.title"
	desc = "DG_Lollards.003.desc"
	picture = all_church_state

	hidden = yes
	is_triggered_only = yes

	option = {
		name = "DG_Lollards.003.opta"
		save_global_event_target_as = lol_synod_site
		PAP = {
			export_to_variable = { which = lol_synode_year value = trigger_value:is_year }
			country_event = { id = DG_Synod.601 }
		}
	}
}

country_event = {
	id = DG_Lollards.004
	title = "DG_Lollards.004.title"
	desc = "DG_Lollards.004.desc"
	picture = all_church_state

	is_triggered_only = yes
	hidden = yes

	option = {
		name = "DG_Lollards.004.opta"
		set_country_flag = PAP_condemn_06
		every_known_country = {
			limit = { has_country_flag = lollard_presence }
			country_event = { id = DG_Lollards.006 }
		}
	}
}

country_event = {
	id = DG_Lollards.005
	title = "DG_Lollards.005.title"
	desc = {
		trigger = {
			has_country_flag = silence_06
		}
		desc = "DG_Lollards.005.des1"
	}
	desc = {
		trigger = {
			NOT = { has_country_flag = silence_06 }
		}
		desc = "DG_Lollards.005.des2"
	}
	picture = all_church_state

	is_triggered_only = yes
	
	immediate = {
		Stab_Subtract10Percent = yes
	}

	option = {
		name = "DG_Lollards.005.opta" #Support him
		trigger = {
			NOT = { has_ruler_modifier = tolerant_society }
			NOT = { has_ruler_modifier = religious_intolerance }
		}
		hidden_effect = {
			set_country_flag = support_06
			clr_country_flag = accept_06
			clr_country_flag = silence_06
			add_ruler_modifier = { name = "heretic_tolerance" }
			MN_conv_resist_c = { strength = -10 }
			#add_reform_desire = 0.00010
			remove_country_modifier = "tolerant_society"
			remove_country_modifier = "religious_intolerance"
			add_opinion = { who = PAP modifier = papacy_bad }
		}
	}
	
	option = {
		name = "DG_Lollards.005.optb" #Let him speak
		trigger = {
			NOT = { has_ruler_modifier = heretic_tolerance }
			NOT = { has_ruler_modifier = religious_intolerance }
		}
		hidden_effect = {
			clr_country_flag = support_06
			set_country_flag = accept_06
			clr_country_flag = silence_06
			remove_country_modifier = "heretic_tolerance"
			add_ruler_modifier = { name = "tolerant_society" }
			MN_conv_resist_c = { strength = -5 }
			#add_reform_desire = 0.00005
			remove_country_modifier = "religious_intolerance"
		}
	}
	
	option = {
		name = "DG_Lollards.005.optc" #Silence him
		trigger = {
			NOT = { has_ruler_modifier = heretic_tolerance }
			NOT = { has_ruler_modifier = tolerant_society }
		}
		hidden_effect = {
			clr_country_flag = support_06
			clr_country_flag = accept_06
			set_country_flag = silence_06
			remove_country_modifier = "heretic_tolerance"
			remove_country_modifier = "tolerant_society"
			add_ruler_modifier = { name = "religious_intolerance" }
			MN_conv_resist_c = { strength = 10 }
			#add_reform_desire = -0.00015
			add_opinion = { who = PAP modifier = papacy_good }
		}
	}
}

#Condemnation and Martyrdom of JohnWycliffe
country_event = {
	id = DG_Lollards.006
	title = "DG_Lollards.004.title"
	desc = "DG_Lollards.006.desc"
	picture = all_church_state

	is_triggered_only = yes
	
	option = {
		name = "DG_Lollards.006.opta" #Support him
		ai_chance = {
			factor = 20
			modifier = {
				dominant_religion = lollard
				factor = 3
			}
			modifier = {
				capital_scope = { religion = lollard }
				factor = 3
			}
		}
		hidden_effect = {
			if = {
				limit = { is_force_converted = no }
				change_religion = lollard
				force_converted = yes
			}
			set_country_flag = support_06
			clr_country_flag = accept_06
			clr_country_flag = silence_06
			every_owned_province = {
				MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.25 typeIncr = value }
				MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = 3 }
				MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
			}
			add_opinion = { who = PAP modifier = papacy_bad }
			MN_conv_resist_c = { strength = -10 }
			#add_reform_desire = 0.00010
			country_event = { id = DG_Lollards.007 days = 1825 }
		}
		log = "DG:[GetYear]:[This.GetName]:Wycliffite:Spearhead"
	}
	
	option = {
		name = "DG_Lollards.006.optb" #Let him speak
		ai_chance = {
			factor = 20
		}
		trigger = { ai = no }
		hidden_effect = {
			country_event = { id = DG_Lollards.008 days = 1095 }
			clr_country_flag = support_06
			set_country_flag = accept_06
			clr_country_flag = silence_06
			every_owned_province = {
				MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.10 typeIncr = value }
				MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = 3 }
				MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
			}
			Stab_Subtract10Percent = yes
			MN_conv_resist_c = { strength = -5 }
			#add_reform_desire = 0.00005
		}
		log = "DG - Sthg went wrong"
	}
	
	option = {
		name = "DG_Lollards.006.optc" #Silence him
		ai_chance = {
			factor = 60
			modifier = {
				dominant_religion = lollard
				factor = 0.1
			}
			modifier = {
				capital_scope = { religion = lollard }
				factor = 0.1
			}
		}
		hidden_effect = {
			country_event = { id = DG_Lollards.008 days = 1095 }
			clr_country_flag = support_06
			clr_country_flag = accept_06
			set_country_flag = silence_06
			add_opinion = { who = PAP modifier = papacy_good }
			MN_conv_resist_c = { strength = 10 }
			#add_reform_desire = -0.00010
			every_owned_province = {
				MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.05 typeIncr = value }
				MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = 3 }
				MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
				add_or_extend_province_modifier_hidden_effect = { NAME = MN_imp_U.06 DURATION = 3650 }
			}
		}
		log = "DG - Sthg went wrong"
	}
}

#Papal Legate Arrives
country_event = {
	id = DG_Lollards.007
	title = "DG_Lollards.007.title"
	desc = "DG_Lollards.007.desc"
	picture = all_church_state

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			every_owned_province = {
				BastionAssessment = { heresy = 6 }
			}
		}
	}
	
	option = {
		name = "DG_Lollards.007.opta"
		trigger = { OR = { ai = no has_country_flag = silence_06 } }
		hidden_effect = {
			set_country_flag = hus_lean_01
			if = {
				limit = { is_force_converted = no }
				change_religion = catholic
				force_converted = yes
			}
			every_owned_province = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = Preach prop = 10 }
					}
					MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = -10 }
				}
				else_if = {
					limit = {
						MN_CheckProp = { religion = 6 type = Preach prop = 5 }
					}
					MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = -5 }
				}
				else_if = {
					limit = {
						MN_CheckProp = { religion = 6 type = Preach prop = 2 }
					}
					MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = -2 }
				}
			}
			if = {
				limit = { dominant_religion = lollard }
				Stab_Subtract1 = yes
			}
			Stab_Subtract1 = yes
			every_owned_province = {
				MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = -0.10 typeIncr = value }
				MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = -3 }
				MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
			}
			add_opinion = { who = PAP modifier = papacy_good }
		}
	}
	
	option = {
		name = "DG_Lollards.007.optb"
		trigger = { OR =  { ai = no has_country_flag = accept_06 } }
		hidden_effect = {
			set_country_flag = hus_hesi_16
			every_owned_province = {
				MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.05 typeIncr = value }
				MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = 1 }
				MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
			}
			Stab_Subtract10Percent = yes
		}
	}
	
	option = {
		name = "DG_Lollards.007.optc"
		trigger = { OR =  { ai = no has_country_flag = support_06 } }
		hidden_effect = {
			set_country_flag = hus_lean_16
			if = {
				limit = { is_force_converted = no }
				change_religion = lollard
				force_converted = yes
			}
			every_owned_province = {
				MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.10 typeIncr = value }
				MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = 3 }
				MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
			}
			if = {
				limit = { dominant_religion = catholic }
				Stab_Subtract1 = yes
			}
			Stab_Subtract1 = yes
			add_opinion = { who = PAP modifier = papacy_bad }
		}
	}
}

#Lollard League
country_event = {
	id = DG_Lollards.008
	title = "DG_Lollards.008.title"
	desc = "DG_Lollards.008.desc"
	picture = all_church_state

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			every_owned_province = {
				BastionAssessment = { heresy = 6 }
			}
		}
	}

	option = {
		name = "DG_Lollards.008.opta"
		ai_chance = {
			factor = 20
		}
		hidden_effect = {
			clr_country_flag = support_06
			set_country_flag = accept_06
			clr_country_flag = silence_06
			add_country_modifier = { name = religious_tolerance duration = 1000 }
			every_owned_province = {
				MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.40 typeIncr = value }
				MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = -3 }
				MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
				add_or_extend_province_modifier_hidden_effect = { NAME = MN_max_U.16 DURATION = 3650 }
			}
			Stab_Subtract10Percent = yes
			country_event = { id = DG_Lollards.007 days = 1825 }
		}
	}
	
	option = {
		name = "DG_Lollards.008.optb"
		ai_chance = {
			factor = 60
		}
		hidden_effect = {
			if = {
				limit = { is_force_converted = no }
				change_religion = catholic
				force_converted = yes
			}
			clr_country_flag = support_06
			clr_country_flag = accept_06
			set_country_flag = silence_06
			add_opinion = { who = PAP modifier = papacy_good }
			if = {
				limit = { piety = 0.60 }
				add_legitimacy = -4
				add_prestige = -8
			}
			else_if = {
				limit = { piety = 0.20 }
				add_legitimacy = -3
				add_prestige = -6
			}
			else_if = {
				limit = { piety = -0.20 }
				add_legitimacy = -2
				add_prestige = -4
			}
			else_if = {
				limit = { piety = -0.60 }
				add_legitimacy = -1
				add_prestige = -2
			}
			every_owned_province = {
				MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = -0.05 typeIncr = value }
				MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = -3 }
				MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
				add_or_extend_province_modifier_hidden_effect = { NAME = MN_imp_U.06 DURATION = 3650 }
			}
		}
	}
	
	option = {
		name = "DG_Lollards.008.optc"
		ai_chance = {
			factor = 20
		}
		if = {
			limit = { is_force_converted = no }
			change_religion = lollard
			force_converted = yes
		}
		hidden_effect = {
			set_country_flag = support_06
			clr_country_flag = accept_06
			clr_country_flag = silence_06
			if = {
				limit = { piety = 0.60 }
				add_legitimacy = -4
				add_prestige = -8
			}
			else_if = {
				limit = { piety = 0.20 }
				add_legitimacy = -3
				add_prestige = -6
			}
			else_if = {
				limit = { piety = -0.20 }
				add_legitimacy = -2
				add_prestige = -4
			}
			else_if = {
				limit = { piety = -0.60 }
				add_legitimacy = -1
				add_prestige = -2
			}
			every_owned_province = {
				MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.10 typeIncr = value }
				MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = 3 }
				MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
				add_or_extend_province_modifier_hidden_effect = { NAME = MN_imp_U.06 DURATION = 3650 }
			}
			add_opinion = { who = PAP modifier = papacy_bad }
			country_event = { id = DG_Lollards.007 days = 1825 }
		}
	}
}

country_event = {
	id = DG_Lollards.011
	title = "DG_Lollards.011.title"
	desc = {
		trigger = {
			has_country_flag = support_06
		}
		desc = "DG_Lollards.011.des1"
	}
	desc = {
		trigger = {
			has_country_flag = accept_06
		}
		desc = "DG_Lollards.011.des2"
	}
	desc = {
		trigger = {
			has_country_flag = silence_06
		}
		desc = "DG_Lollards.011.des3"
	}
	picture = all_church_state
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { religion = lollard }
		OR = {
			has_country_flag = support_06
			has_country_flag = accept_06
			has_country_flag = silence_06
		}
		NOT = { has_ruler_modifier = tolerant_society }
		NOT = { has_ruler_modifier = religious_intolerance }
		NOT = { has_ruler_modifier = heretic_tolerance }
	}
	
	option = {
		name = "DG_Lollards.001.opta" #Support him
		trigger = {
			NOT = { has_ruler_modifier = tolerant_society }
			NOT = { has_ruler_modifier = religious_intolerance }
		}
		hidden_effect = {
			set_country_flag = support_06
			clr_country_flag = accept_06
			clr_country_flag = silence_06
			add_ruler_modifier = { name = "heretic_tolerance" }
			MN_conv_resist_c = { strength = -10 }
			#add_reform_desire = 0.00010
			reverse_add_opinion = { who = PAP modifier = opinion_pope_religious_tolerance }
		}
	}
	
	option = {
		name = "DG_Lollards.001.optb" #Let him speak
		trigger = {
			NOT = { has_ruler_modifier = heretic_tolerance }
			NOT = { has_ruler_modifier = religious_intolerance }
		}
		hidden_effect = {
			clr_country_flag = support_06
			set_country_flag = accept_06
			clr_country_flag = silence_06
			add_ruler_modifier = { name = "tolerant_society" }
			MN_conv_resist_c = { strength = -5 }
			#add_reform_desire = 0.00005
		}
	}
	
	option = {
		name = "DG_Lollards.001.optc" #Silence him
		trigger = {
			NOT = { has_ruler_modifier = heretic_tolerance }
			NOT = { has_ruler_modifier = tolerant_society }
		}
		hidden_effect = {
			clr_country_flag = support_06
			clr_country_flag = accept_06
			set_country_flag = silence_06
			add_ruler_modifier = { name = "religious_intolerance" }
			MN_conv_resist_c = { strength = 10 }
			#add_reform_desire = -0.00015
		}
	}
}

country_event = {
	id = DG_Lollards.021
	title = "DG_Lollards.021.title"
	desc = "DG_Lollards.021.desc"
	picture = all_church_state
	
	is_triggered_only = yes
	
	option = {
		name = "OPT.HELLNO"
		trigger = { always = no }
		change_religion = catholic #holyleague
	}
	
	option = {
		name = "OPT.VERYWELL"
		custom_tooltip = SetLollardCompromiseAspects_tt
		hidden_effect = { SetLollardCompromiseAspects = yes }
	}
}

country_event = {
	id = DG_Lollards.031
	title = "DG_Lollards.031.title"
	desc = "DG_Lollards.031.desc"
	picture = all_church_state
	
	is_triggered_only = yes
	
	option = {
		name = "DG_Lollards.031.opta"
	}
	
	option = {
		name = "OPT.VERYWELL"
		change_religion = catholic
	}
}

country_event = {
	id = DG_Lollards.041
	title = "DG_Lollards.041.title"
	desc = "DG_Lollards.041.desc"
	picture = all_church_state
	
	is_triggered_only = yes
	
	option = {
		name = "OPT.HELLNO"
		trigger = { always = no }
		change_religion = catholic #holyleague
	}
	
	option = {
		name = "OPT.VERYWELL"
		custom_tooltip = SetLollardAspects_tt
		hidden_effect = { SetLollardAspects = yes }
	}
}

country_event = {
	id = DG_Lollards.051
	title = "DG_Lollards.051.title"
	desc = "DG_Lollards.051.desc"
	picture = all_church_state
	
	is_triggered_only = yes
	
	option = {
		name = "OPT.GOOD2"
		change_religion = catholic
	}
}

#Spread of the Heresy
country_event = {
	id = DG_Lollards.100
	title = "DG_Lollards.100.title"
	desc = "DG_Lollards.100.desc"
	picture = all_church_state

	hidden = yes
	is_triggered_only = yes #triggered by four_year_pulse_4
	
	option = {
		if = {
			limit = { NOT = { has_country_flag = lollard_presence } }
			country_event = { id = DG_Lollards.101 }
			set_country_flag = lollard_presence
		}
		else_if = {
			limit = { had_country_flag = { flag = lollard_presence days = 36500 } }
			random_list = {
				1 = { country_event = { id = DG_Lollards.101 } }
				99 = {}
			}
		}
		else_if = {
			limit = { had_country_flag = { flag = lollard_presence days = 27375 } }
			random_list = {
				5 = { country_event = { id = DG_Lollards.101 } }
				95 = {}
			}
		}
		else_if = {
			limit = { had_country_flag = { flag = lollard_presence days = 21900 } }
			random_list = {
				10 = { country_event = { id = DG_Lollards.101 } }
				90 = {}
			}
		}
		else_if = {
			limit = { had_country_flag = { flag = lollard_presence days = 18250 } }
			random_list = {
				20 = { country_event = { id = DG_Lollards.101 } }
				80 = {}
			}
		}
		else_if = {
			limit = { had_country_flag = { flag = lollard_presence days = 14600 } }
			random_list = {
				30 = { country_event = { id = DG_Lollards.101 } }
				70 = {}
			}
		}
		else = {
			random_list = {
				40 = { country_event = { id = DG_Lollards.101 } }
				60 = {}
			}
		}
	}
}

country_event = {
	id = DG_Lollards.101
	title = "DG_Lollards.101.title"
	desc = "DG_Lollards.101.desc"
	picture = all_church_state

	hidden = yes
	is_triggered_only = yes #triggered by four_year_pulse_4

	option = {
		name = "EVT_AI"
		random_list = {
			75 = {
				random_province = {
					limit = {
						NOT = { is_religion_enabled = protestant }
						culture_group = british
						owner = {
							OR = {
								any_owned_province = { has_province_flag = lol_craddle }
								overlord = { any_owned_province = { has_province_flag = lol_craddle } }
							}
						}
						OR = {
							MN_CheckRelSlot = { Type = value Religion = 6 }
							any_neighbor_province = { MN_CheckRelSlot = { Type = value Religion = 6 } }
							any_neighbor_province = { any_neighbor_province = { MN_CheckRelSlot = { Type = value Religion = 6 } } }
						}
						religion = catholic
					}
					province_event = { id = DG_Lollards.102 }
				}
			}
			5 = {
				random_province = {
					limit = {
						NOT = { is_religion_enabled = protestant }
						culture_group = british
						owner = {
							NOT = { any_owned_province = { has_province_flag = lol_craddle } }
							NOT = { overlord = { any_owned_province = { has_province_flag = lol_craddle } } }
						}
						OR = {
							MN_CheckRelSlot = { Type = value Religion = 6 }
							any_neighbor_province = { MN_CheckRelSlot = { Type = value Religion = 6 } }
							any_neighbor_province = { any_neighbor_province = { MN_CheckRelSlot = { Type = value Religion = 6 } } }
						}
						religion = catholic
					}
					province_event = { id = DG_Lollards.102 }
				}
			}
			1 = {
				random_province = {
					limit = {
						NOT = { is_religion_enabled = protestant }
						NOT = { culture_group = british }
						OR = {
							MN_CheckRelSlot = { Type = value Religion = 6 }
							any_neighbor_province = { MN_CheckRelSlot = { Type = value Religion = 6 } }
							any_neighbor_province = { any_neighbor_province = { MN_CheckRelSlot = { Type = value Religion = 6 } } }
						}
						religion = catholic
					}
					province_event = { id = DG_Lollards.102 }
				}
			}
			19 = {
			}
		}
	}
}

province_event = {
	id = DG_Lollards.102
	title = "DG_Lollards.101.title"
	desc = "DG_Lollards.101.desc"
	picture = all_church_state

	hidden = yes
	is_triggered_only = yes #triggered by DG_Lollards.
	
	immediate = {
		#log = "DG:[GetYear]:[This.aab.GetValue]:Wycliffite:Spread:[This.GetName]:[This.Owner.GetName]"
	}

	option = {
		name = "EVT_AI"
		hidden_effect = {
			random_list = {
				10 = {
					MN_HeresyGrowth = { from = 1 to = 6 RuralShift = 100 UrbanShift = 250 NotableShift = 100 }
					if = {
						limit = {
							owner = {
								OR = {
									NOT = { has_country_flag = lollard_presence }
									AND = {
										has_country_flag = lollard_presence
										has_country_flag = lol_spread_info
									}
								}
							}
						}
						province_event = { id = DG_Lollards.103 }
					}
				}
				 5 = {
					MN_HeresyGrowth = { from = 1 to = 6 RuralShift = 250 UrbanShift = 500 NotableShift = 250 }
					if = {
						limit = {
							owner = {
								OR = {
									NOT = { has_country_flag = lollard_presence }
									AND = {
										has_country_flag = lollard_presence
										has_country_flag = lol_spread_info
									}
								}
							}
						}
						province_event = { id = DG_Lollards.104 }
					}
				}
				 1 = {
					trigger = { owner = { check_key = { lhs = DG_conv_resist value = 10 } } }
					MN_HeresyGrowth = { from = 1 to = 6 RuralShift = 500 UrbanShift = 1000 NotableShift = 500 }
					if = {
						limit = {
							owner = {
								OR = {
									NOT = { has_country_flag = lollard_presence }
									AND = {
										has_country_flag = lollard_presence
										has_country_flag = lol_spread_info
									}
								}
							}
						}
						province_event = { id = DG_Lollards.105 }
					}
				}
				10 = {
					trigger = { owner = { check_key = { lhs = DG_conv_resist value = 25 } } }
					MN_HeresyGrowth = { from = 1 to = 6 RuralShift = 100 UrbanShift = 250 NotableShift = 100 }
					MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = 3 }
					if = {
						limit = {
							owner = {
								OR = {
									NOT = { has_country_flag = lollard_presence }
									AND = {
										has_country_flag = lollard_presence
										has_country_flag = lol_spread_info
									}
								}
							}
						}
						province_event = { id = DG_Lollards.106 }
					}
				}
				 5 = {
					trigger = { owner = { check_key = { lhs = DG_conv_resist value = 10 } } }
					MN_HeresyGrowth = { from = 1 to = 6 RuralShift = 250 UrbanShift = 500 NotableShift = 250 }
					MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = 3 }
					if = {
						limit = {
							owner = {
								OR = {
									NOT = { has_country_flag = lollard_presence }
									AND = {
										has_country_flag = lollard_presence
										has_country_flag = lol_spread_info
									}
								}
							}
						}
						province_event = { id = DG_Lollards.107 }
					}
				}
				 1 = {
					trigger = { owner = { check_key = { lhs = DG_conv_resist value = 10 } } }
					MN_HeresyGrowth = { from = 1 to = 6 RuralShift = 500 UrbanShift = 1000 NotableShift = 500 }
					MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = 3 }
					if = {
						limit = {
							owner = {
								OR = {
									NOT = { has_country_flag = lollard_presence }
									AND = {
										has_country_flag = lollard_presence
										has_country_flag = lol_spread_info
									}
								}
							}
						}
						province_event = { id = DG_Lollards.108 }
					}
				}
				50 = { }
			}
		}
	}
}

province_event = {
	id = DG_Lollards.103
	title = "DG_Lollards.101.title"
	desc = {
		trigger = {
			NOT = { owner = { has_country_flag = lollard_presence } }
			NOT = { PAP = { has_country_flag = PAP_condemn_06 } }
		}
		desc = "DG_Lollards.103.des1"
	}
	desc = {
		trigger = {
			NOT = { owner = { has_country_flag = lollard_presence } }
			PAP = { has_country_flag = PAP_condemn_06 }
		}
		desc = "DG_Lollards.103.des2"
	}
	desc = {
		trigger = {
			owner = { has_country_flag = lollard_presence }
		}
		desc = "DG_Lollards.103.des3"
	}
	picture = all_church_state

	is_triggered_only = yes #triggered by DG_Lollards.101
	
	immediate = {
	}
	
	option = {
		name = "DG_Lollards.001.opta" #Support him
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = support_06
				if = {
					limit = { PAP = { has_country_flag = PAP_condemn_06 } }
					add_opinion = { who = PAP modifier = papacy_bad }
				}
				MN_conv_resist_c = { strength = -10 }
				#add_reform_desire = 0.00010
			}
		}
	}
	
	option = {
		name = "DG_Lollards.001.optb" #Let him speak
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = accept_06
				MN_conv_resist_c = { strength = -5 }
				#add_reform_desire = 0.00005
			}
		}
	}
	
	option = {
		name = "DG_Lollards.001.optc" #Silence him
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = silence_06
				if = {
					limit = { PAP = { has_country_flag = PAP_condemn_06 } }
					add_opinion = { who = PAP modifier = papacy_good }
				}
				MN_conv_resist_c = { strength = 10 }
				#add_reform_desire = -0.00015
			}
		}
	}
	
	option = {
		name = "OPT.ISEE"
		trigger = {
			owner = { has_country_flag = lollard_presence }
		}
	}
	
	after = {
		owner = {
			if = {
				limit = { NOT = { has_country_flag = lollard_presence } }
				hidden_effect = {
					country_event = { id = DG_Lollards.002 }
				}
			}
		}
	}
}

province_event = {
	id = DG_Lollards.104
	title = "DG_Lollards.101.title"
	desc = {
		trigger = {
			NOT = { owner = { has_country_flag = lollard_presence } }
			NOT = { owner = { has_country_flag = PAP_condemn_06 } }
		}
		desc = "DG_Lollards.104.des1"
	}
	desc = {
		trigger = {
			NOT = { owner = { has_country_flag = lollard_presence } }
			owner = { has_country_flag = PAP_condemn_06 }
		}
		desc = "DG_Lollards.104.des2"
	}
	desc = {
		trigger = {
			owner = { has_country_flag = lollard_presence }
		}
		desc = "DG_Lollards.104.des3"
	}
	picture = all_church_state

	is_triggered_only = yes #triggered by DG_Lollards.101
	
	immediate = {
	}
	
	option = {
		name = "DG_Lollards.001.opta" #Support him
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = support_06
				add_opinion = { who = PAP modifier = papacy_bad }
				MN_conv_resist_c = { strength = -10 }
				#add_reform_desire = 0.00010
			}
		}
	}
	
	option = {
		name = "DG_Lollards.001.optb" #Let him speak
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = accept_06
				MN_conv_resist_c = { strength = -5 }
				#add_reform_desire = 0.00005
			}
		}
	}
	
	option = {
		name = "DG_Lollards.001.optc" #Silence him
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = silence_06
				add_opinion = { who = PAP modifier = papacy_good }
				MN_conv_resist_c = { strength = 10 }
				#add_reform_desire = -0.00015
			}
		}
	}
	
	option = {
		name = "OPT.ISEE"
		trigger = {
			owner = { has_country_flag = lollard_presence } 
		}
	}
	
	after = {
		owner = {
			if = {
				limit = { NOT = { has_country_flag = lollard_presence } }
				hidden_effect = {
					country_event = { id = DG_Lollards.002 }
				}
			}
		}
	}
}

province_event = {
	id = DG_Lollards.105
	title = "DG_Lollards.101.title"
	desc = {
		trigger = {
			NOT = { owner = { has_country_flag = lollard_presence } }
			NOT = { owner = { has_country_flag = PAP_condemn_06 } }
		}
		desc = "DG_Lollards.105.des1"
	}
	desc = {
		trigger = {
			NOT = { owner = { has_country_flag = lollard_presence } }
			owner = { has_country_flag = PAP_condemn_06 }
		}
		desc = "DG_Lollards.105.des2"
	}
	desc = {
		trigger = {
			owner = { has_country_flag = lollard_presence }
		}
		desc = "DG_Lollards.105.des3"
	}
	picture = all_church_state

	is_triggered_only = yes #triggered by DG_Lollards.101
	
	immediate = {
	}
	
	option = {
		name = "DG_Lollards.001.opta" #Support him
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = support_06
				add_opinion = { who = PAP modifier = papacy_bad }
				MN_conv_resist_c = { strength = -10 }
				#add_reform_desire = 0.00010
			}
		}
	}
	
	option = {
		name = "DG_Lollards.001.optb" #Let him speak
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = accept_06
				MN_conv_resist_c = { strength = -5 }
				#add_reform_desire = 0.00005
			}
		}
	}
	
	option = {
		name = "DG_Lollards.001.optc" #Silence him
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = silence_06
				add_opinion = { who = PAP modifier = papacy_good }
				MN_conv_resist_c = { strength = 10 }
				#add_reform_desire = -0.00015
			}
		}
	}
	
	option = {
		name = "OPT.ISEE"
		trigger = {
			owner = { has_country_flag = lollard_presence }
		}
	}
	
	after = {
		owner = {
			if = {
				limit = { NOT = { has_country_flag = lollard_presence } }
				hidden_effect = {
					country_event = { id = DG_Lollards.002 }
				}
			}
		}
	}
}

province_event = {
	id = DG_Lollards.106
	title = "DG_Lollards.101.title"
	desc = {
		trigger = {
			NOT = { owner = { has_country_flag = lollard_presence } }
			NOT = { owner = { has_country_flag = PAP_condemn_06 } }
		}
		desc = "DG_Lollards.106.des1"
	}
	desc = {
		trigger = {
			NOT = { owner = { has_country_flag = lollard_presence } }
			owner = { has_country_flag = PAP_condemn_06 }
		}
		desc = "DG_Lollards.106.des2"
	}
	desc = {
		trigger = {
			owner = { has_country_flag = lollard_presence }
		}
		desc = "DG_Lollards.106.des3"
	}
	picture = all_church_state

	is_triggered_only = yes #triggered by DG_Lollards.101
	
	immediate = {
	}
	
	option = {
		name = "DG_Lollards.001.opta" #Support him
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = support_06
				add_opinion = { who = PAP modifier = papacy_bad }
				MN_conv_resist_c = { strength = -10 }
				#add_reform_desire = 0.00010
			}
		}
	}
	
	option = {
		name = "DG_Lollards.001.optb" #Let him speak
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = accept_06
				MN_conv_resist_c = { strength = -5 }
				#add_reform_desire = 0.00005
			}
		}
	}
	
	option = {
		name = "DG_Lollards.001.optc" #Silence him
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = silence_06
				add_opinion = { who = PAP modifier = papacy_good }
				MN_conv_resist_c = { strength = 10 }
				#add_reform_desire = -0.00015
			}
		}
	}
	
	option = {
		name = "OPT.ISEE"
		trigger = {
			owner = { has_country_flag = lollard_presence } 
		}
	}
	
	after = {
		owner = {
			if = {
				limit = { NOT = { has_country_flag = lollard_presence } }
				hidden_effect = {
					country_event = { id = DG_Lollards.002 }
				}
			}
		}
	}
}

province_event = {
	id = DG_Lollards.107
	title = "DG_Lollards.101.title"
	desc = {
		trigger = {
			NOT = { owner = { has_country_flag = lollard_presence } }
			NOT = { owner = { has_country_flag = PAP_condemn_06 } }
		}
		desc = "DG_Lollards.107.des1"
	}
	desc = {
		trigger = {
			NOT = { owner = { has_country_flag = lollard_presence } }
			owner = { has_country_flag = PAP_condemn_06 }
		}
		desc = "DG_Lollards.107.des2"
	}
	desc = {
		trigger = {
			owner = { has_country_flag = lollard_presence }
		}
		desc = "DG_Lollards.107.des3"
	}
	picture = all_church_state

	is_triggered_only = yes #triggered by DG_Lollards.101
	
	immediate = {
	}
	
	option = {
		name = "DG_Lollards.001.opta" #Support him
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = support_06
				add_opinion = { who = PAP modifier = papacy_bad }
				MN_conv_resist_c = { strength = -10 }
				#add_reform_desire = 0.00010
			}
		}
	}
	
	option = {
		name = "DG_Lollards.001.optb" #Let him speak
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = accept_06
				MN_conv_resist_c = { strength = -5 }
				#add_reform_desire = 0.00005
			}
		}
	}
	
	option = {
		name = "DG_Lollards.001.optc" #Silence him
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = silence_06
				add_opinion = { who = PAP modifier = papacy_good }
				MN_conv_resist_c = { strength = 10 }
				#add_reform_desire = -0.00015
			}
		}
	}
	
	option = {
		name = "OPT.ISEE"
		trigger = {
			owner = { has_country_flag = lollard_presence } 
		}
	}
	
	after = {
		owner = {
			if = {
				limit = { NOT = { has_country_flag = lollard_presence } }
				hidden_effect = {
					country_event = { id = DG_Lollards.002 }
				}
			}
		}
	}
}

province_event = {
	id = DG_Lollards.108
	title = "DG_Lollards.101.title"
	desc = {
		trigger = {
			NOT = { owner = { has_country_flag = lollard_presence } }
			NOT = { owner = { has_country_flag = PAP_condemn_06 } }
		}
		desc = "DG_Lollards.108.des1"
	}
	desc = {
		trigger = {
			NOT = { owner = { has_country_flag = lollard_presence } }
			owner = { has_country_flag = PAP_condemn_06 }
		}
		desc = "DG_Lollards.108.des2"
	}
	desc = {
		trigger = {
			owner = { has_country_flag = lollard_presence }
		}
		desc = "DG_Lollards.108.des3"
	}
	picture = all_church_state

	is_triggered_only = yes #triggered by DG_Lollards.101
	
	immediate = {
	}
	
	option = {
		name = "DG_Lollards.001.opta" #Support him
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = support_06
				add_opinion = { who = PAP modifier = papacy_bad }
				MN_conv_resist_c = { strength = -10 }
				#add_reform_desire = 0.00010
			}
		}
	}
	
	option = {
		name = "DG_Lollards.001.optb" #Let him speak
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = accept_06
				MN_conv_resist_c = { strength = -5 }
				#add_reform_desire = 0.00005
			}
		}
	}
	
	option = {
		name = "DG_Lollards.001.optc" #Silence him
		trigger = {
			NOT = {
				owner = { has_country_flag = lollard_presence }
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = silence_06
				add_opinion = { who = PAP modifier = papacy_good }
				MN_conv_resist_c = { strength = 10 }
				#add_reform_desire = -0.00015
			}
		}
	}
	
	option = {
		name = "OPT.ISEE"
		trigger = {
			owner = { has_country_flag = lollard_presence } 
		}
	}
	
	after = {
		owner = {
			if = {
				limit = { NOT = { has_country_flag = lollard_presence } }
				hidden_effect = {
					country_event = { id = DG_Lollards.002 }
				}	
			}
		}
	}
}

province_event = {
	id = DG_Lollards.111
	title = "DG_Lollards.111.title"
	desc = "DG_Lollards.111.desc"
	picture = all_church_state

	hidden = yes
	
	trigger = {
		always = no
		is_religion_enabled = lollard
		owner = { NOT = { religion = lollard } }
		MN_CheckRelSlot = { Type = value Religion = 6 }
	}
	
	mean_time_to_happen = {
		years = 5
		
		modifier = {
			factor = 0.9
			area = northumbria_area
		}		
		modifier = {
			factor = 0.7
			OR = {
				area = east_midlands_area
				area = west_midlands_area
				area = east_anglia_area
				area = home_counties_area
			}
		}
		modifier = {
			factor = 10
			OR = { is_religion_enabled = protestant owner = { has_country_flag = hussite_presence } }
		}
	}
	
	immediate = {
		#log = "DG:[GetYear]:[This.aab.GetValue]:Wycliffite:Spread:[This.GetName]:[This.Owner.GetName]"
	}

	option = {
		name = "EVT_AI"
		hidden_effect = {
			random_list = {
				10 = {
					MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.025 typeIncr = value }
					if = {
						limit = {
							owner = { has_country_flag = lol_spread_info }
						}
						province_event = { id = DG_Lollards.112 }
					}
				}
				10 = {
					MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.05 typeIncr = value }
					if = {
						limit = {
							owner = { has_country_flag = lol_spread_info }
						}
						province_event = { id = DG_Lollards.113 }
					}
				}
				10 = {
					MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.075 typeIncr = value }
					if = {
						limit = {
							owner = { has_country_flag = lol_spread_info }
						}
						province_event = { id = DG_Lollards.114 }
					}
				}
				10 = {
					MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.10 typeIncr = value }
					if = {
						limit = {
							owner = { has_country_flag = lol_spread_info }
						}
						province_event = { id = DG_Lollards.115 }
					}
				}
				10 = {
					MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.125 typeIncr = value }
					if = {
						limit = {
							owner = { has_country_flag = lol_spread_info }
						}
						province_event = { id = DG_Lollards.116 }
					}
				}
				10 = {
					MN_HeresySpread = { typefrom = which from = MN_S0 to = 6 incr = 0.15 typeIncr = value }
					if = {
						limit = {
							owner = { has_country_flag = lol_spread_info }
						}
						province_event = { id = DG_Lollards.117 }
					}
				}
				#30 = { }
			}
			MN_Attribute_Reset = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 100 }
		}
	}
}

province_event = {
	id = DG_Lollards.112
	title = "DG_Lollards.111.title"
	desc = "DG_Lollards.112.desc"
	picture = all_church_state

	is_triggered_only = yes #triggered by DG_Lollards.101
	
	immediate = {
	}

	option = {
		name = "OPT.HERETICSCUM"
	}
}

province_event = {
	id = DG_Lollards.113
	title = "DG_Lollards.111.title"
	desc = "DG_Lollards.113.desc"
	picture = all_church_state

	is_triggered_only = yes #triggered by DG_Lollards.101
	
	immediate = {
	}

	option = {
		name = "OPT.HERETICSCUM"
	}
}

province_event = {
	id = DG_Lollards.114
	title = "DG_Lollards.111.title"
	desc = "DG_Lollards.114.desc"
	picture = all_church_state

	is_triggered_only = yes #triggered by DG_Lollards.101
	
	immediate = {
	}

	option = {
		name = "OPT.HERETICSCUM"
	}
}

province_event = {
	id = DG_Lollards.115
	title = "DG_Lollards.111.title"
	desc = "DG_Lollards.115.desc"
	picture = all_church_state

	is_triggered_only = yes #triggered by DG_Lollards.101
	
	immediate = {
	}

	option = {
		name = "OPT.HERETICSCUM"
	}
}

province_event = {
	id = DG_Lollards.116
	title = "DG_Lollards.111.title"
	desc = "DG_Lollards.116.desc"
	picture = all_church_state

	is_triggered_only = yes #triggered by DG_Lollards.101
	
	immediate = {
	}

	option = {
		name = "OPT.HERETICSCUM"
	}
}

province_event = {
	id = DG_Lollards.117
	title = "DG_Lollards.111.title"
	desc = "DG_Lollards.117.desc"
	picture = all_church_state

	is_triggered_only = yes #triggered by DG_Lollards.101
	
	immediate = {
	}

	option = {
		name = "OPT.HERETICSCUM"
	}
}

#Spawn a center of reformation
province_event = {
	id = DG_Lollards.118
	title = "DG_Lollards.118.title"
	desc = "DG_Lollards.118.desc"
	picture = ANGLICAN_SERMON_eventPicture
	
	#major = yes
	
	trigger = {
		#always = no
		#has_province_flag = lol_craddle
		has_province_flag = printing_press_p
		NOT = { religion_years = { lollard = 50 } } #to be replaced by our Peace of Westphalia
		can_have_center_of_reformation_trigger = {
			CenterReligion = lollard
		}
		owner = { religion = lollard }
	}
	mean_time_to_happen = {
		years = 5
		modifier = {
			factor = 0.8
			owner = { tag = ENG }
		}
		modifier = {
			factor = 0.5
			has_province_flag = lol_craddle
		}
		modifier = {
			factor = 0.5
			province_id = 237 #Oxford
		}
		modifier = {
			factor = 0.5
			province_id = 1283 #Cambridge
		}
		modifier = {
			factor = 5.0
			owner = { has_country_flag = accept_06 }
		}
		modifier = {
			factor = 10.0
			owner = { has_country_flag = silence_06 }
		}
	}
	
	option = {
		name = "OPT.GOOD"
		trigger = { owner = { religion = lollard } }
		add_reform_center = lollard
		add_or_extend_province_modifier_hidden_effect = { NAME = religious_enthusiasm DURATION = 3650 }
	}
	
	option = {
		name = "OPT.DAMN"
		trigger = { owner = { NOT = { religion = lollard } } }
		add_reform_center = lollard
		add_or_extend_province_modifier_hidden_effect = { NAME = heretic_centre DURATION = 3650 }
	}
}

#Removes center of reformation
province_event = {
	id = DG_Lollards.119
	title = "DG_Lollards.119.title"
	desc = "DG_Lollards.119.desc"
	picture = ANGLICAN_SERMON_eventPicture
	
	mean_time_to_happen = {
		months = 1
	}

	trigger = {
		religion = lollard
		is_reformation_center = yes
		Academia = 100
	}
	
	option = {
		name = "OPT.NOTED"
		remove_reform_center = lollard
	}
}

province_event = {
	id = DG_Lollards.201
	title = "DG_Lollards.201.title"
	desc = "DG_Lollards.201.desc"
	picture = all_church_state
	
	hidden = yes
	
	trigger = {
		is_religion_enabled = lollard
		owner = { NOT = { religion = lollard } }
		MN_CheckProp = { religion = 6 type = Preach prop = 1 }
	}
	
	mean_time_to_happen = {
		years = 20
		
		modifier = {
			factor = 0.20
			MN_CheckProp = { religion = 6 type = Inquis prop = 0.1 }
		}
	}
		
	option = {
		name = "OPT.EXCELLENT"
		custom_tooltip = lollard_inquisition_tt
		MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = Preach typeStrength = value strength = -1 }
		if = {
			limit = {
				owner = { has_country_flag = lol_inquis_info }
			}
			province_event = { id = DG_Lollards.202 }
		}
	}
}

province_event = {
	id = DG_Lollards.202
	title = "DG_Lollards.201.title"
	desc = "DG_Lollards.201.desc"
	picture = all_church_state
	
	is_triggered_only = yes
		
	option = {
		name = "OPT.EXCELLENT"
	}
}

province_event = {
	id = DG_Lollards.203
	title = "DG_Lollards.203.title"
	desc = "DG_Lollards.203.desc"
	picture = all_church_state

	hidden = yes
	
	trigger = {
		is_religion_enabled = lollard
		owner = { NOT = { religion = lollard } }
		MN_CheckProp = { religion = 6 type = ENT prop = 0.1 }
	}
	
	mean_time_to_happen = {
		years = 50
		
		modifier = {
			factor = 0.20
			MN_CheckProp = { religion = 6 type = Inquis prop = 0.1 }
		}
	}
		
	option = {
		name = "OPT.EXCELLENT"
		MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = ENT typeStrength = value strength = 5 }
		if = {
			limit = {
				owner = { has_country_flag = lol_inquis_info }
			}
			province_event = { id = DG_Lollards.204 }
		}
	}
}

province_event = {
	id = DG_Lollards.204
	title = "DG_Lollards.203.title"
	desc = "DG_Lollards.203.desc"
	picture = all_church_state

	is_triggered_only = yes
		
	option = {
		name = "OPT.EXCELLENT"
	}
}

province_event = {
	id = DG_Lollards.205
	title = "DG_Lollards.205.title"
	desc = "DG_Lollards.205.desc"
	picture = all_church_state

	hidden = yes
	
	trigger = {
		is_religion_enabled = lollard
		owner = { NOT = { religion = lollard } }
		MN_CheckProp = { religion = 6 type = INF prop = 2 }
	}
	
	mean_time_to_happen = {
		years = 5
		
		modifier = {
			factor = 0.20
			MN_CheckProp = { religion = 6 type = Inquis prop = 0.1 }
		}
	}
		
	option = {
		name = "DG_Lollards.205.opta"
		MN_Attribute_Effect = { reltype = value religion = 6 typeEffect = INF typeStrength = value strength = -2 }
		if = {
			limit = {
				owner = { has_country_flag = lol_inquis_info }
			}
			province_event = { id = DG_Lollards.206 }
		}
	}
}

province_event = {
	id = DG_Lollards.206
	title = "DG_Lollards.205.title"
	desc = "DG_Lollards.205.desc"
	picture = all_church_state

	is_triggered_only = yes
		
	option = {
		name = "OPT.EXCELLENT"
	}
}

#Unrest Events
province_event = {
	id = DG_Lollards.301
	title = "DG_Lollards.301.title"
	desc = "DG_Lollards.301.desc"
	picture = all_church_state
	
	hidden = yes
	
	trigger = {
		is_religion_enabled = lollard
		owner = { NOT = { religion = lollard } }
		MN_CheckProp = { religion = 6 type = TotP prop = 10 }
	}
	
	mean_time_to_happen = {
		months = 300
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 20 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 30 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 40 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 50 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 60 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 70 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 80 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 90 }
		}
		modifier = {
			factor = 2.00
			owner = { has_country_flag = support_06 }
		}
		modifier = {
			factor = 0.80
			owner = { has_country_flag = silence_06 }
		}
	}
	
	immediate = {
		#log = "DG:[GetYear]:[This.aab.GetValue]:Wycliffite:Uprising:[This.GetName]:[This.Owner.GetName]"
	}
	
	option = {
		random_list = {
			10 = {
				MinorityTrauma = { religion = 5 strength = 0.10 }
				if = {
					limit = {
						owner = { has_country_flag = lol_unrest_info }
					}
					set_province_flag = mn_trauma_10 
				}
			}
			10 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 15 }
					}
					MinorityTrauma = { religion = 5 strength = 0.20 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_trauma_20 
					}
				}
			}
			10 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 30 }
					}
					MinorityTrauma = { religion = 5 strength = 0.30 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_trauma_30 
					}
				}
			}
			10 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 40 }
					}
					MinorityTrauma = { religion = 5 strength = 0.40 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_trauma_40 
					}
				}
			}
			20 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 50 }
					}
					MinorityTrauma = { religion = 5 strength = 0.50 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_trauma_50 
					}
				}
			}
			10 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 60 }
					}
					MinorityTrauma = { religion = 5 strength = 0.60 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_trauma_60 
					}
				}
			}
			10 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 70 }
					}
					MinorityTrauma = { religion = 5 strength = 0.70 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_trauma_70 
					}
				}
			}
			10 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 80 }
					}
					MinorityTrauma = { religion = 5 strength = 0.80 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_trauma_80 
					}
				}
			}
			10 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 90 }
					}
					MinorityTrauma = { religion = 5 strength = 0.90 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_trauma_90 
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_country_flag = lol_unrest_info }
			}
			province_event = { id = DG_Lollards.302 }
		}
	}
}

province_event = {
	id = DG_Lollards.302
	title = "DG_Lollards.301.title"
	desc = "DG_Lollards.301.desc"
	picture = all_church_state
	
	is_triggered_only = yes
	
	option = {
		name = "OPT.OHNO"
		trigger_switch = {
			on_trigger = has_province_flag

			mn_trauma_10 =	{ custom_tooltip = mn_trauma_10_tt }
			mn_trauma_20 =	{ custom_tooltip = mn_trauma_20_tt }
			mn_trauma_30 =	{ custom_tooltip = mn_trauma_30_tt }
			mn_trauma_40 =	{ custom_tooltip = mn_trauma_40_tt }
			mn_trauma_50 =	{ custom_tooltip = mn_trauma_50_tt }
			mn_trauma_60 =	{ custom_tooltip = mn_trauma_60_tt } 
			mn_trauma_70 =	{ custom_tooltip = mn_trauma_70_tt }
			mn_trauma_80 =	{ custom_tooltip = mn_trauma_80_tt }
			mn_trauma_90 =	{ custom_tooltip = mn_trauma_90_tt }
		}
	}
	after = {
		hidden_effect = {
			TraumaNotificationCleanup = yes
		}
	}
}

province_event = {
	id = DG_Lollards.311
	title = "DG_Lollards.311.title"
	desc = "DG_Lollards.311.desc"
	picture = all_church_state
	
	hidden = yes
	
	trigger = {
		is_religion_enabled = lollard
		owner = { NOT = { religion = lollard } }
		MN_CheckProp = { religion = 6 type = TotP prop = 10 }
	}
	
	mean_time_to_happen = {
		months = 300
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 20 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 30 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 40 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 50 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 60 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 70 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 80 }
		}
		modifier = {
			factor = 0.95
			MN_CheckProp = { religion = 6 type = TotP prop = 90 }
		}
		modifier = {
			factor = 2.00
			owner = { has_country_flag = support_06 }
		}
		modifier = {
			factor = 0.80
			owner = { has_country_flag = silence_06 }
		}
	}
	
	immediate = {
		#log = "DG:[GetYear]:[This.aab.GetValue]:Wycliffite:Unrest:[This.GetName]:[This.Owner.GetName]"
	}
	
	option = {
		random_list = {
			5 = {
				add_or_extend_province_modifier_hidden_effect = { NAME = MN_min_U.16 DURATION = 365 }
				if = {
					limit = {
						owner = { has_country_flag = lol_unrest_info }
					}
					set_province_flag = mn_unrest_min_1
				}
			}
			10 = {
				add_or_extend_province_modifier_hidden_effect = { NAME = MN_min_U.16 DURATION = 1825 }
				if = {
					limit = {
						owner = { has_country_flag = lol_unrest_info }
					}
					set_province_flag = mn_unrest_min_5
				}
			}
			5 = {
				add_or_extend_province_modifier_hidden_effect = { NAME = MN_min_U.16 DURATION = 3650 }
				if = {
					limit = {
						owner = { has_country_flag = lol_unrest_info }
					}
					set_province_flag = mn_unrest_min_10
				}
			}
			10 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 20 }
					}
					add_or_extend_province_modifier_hidden_effect = { NAME = MN_low_U.16 DURATION = 365 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_unrest_low_1
					}
				}
			}
			15 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 20 }
					}
					add_or_extend_province_modifier_hidden_effect = { NAME = MN_low_U.16 DURATION = 1825 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_unrest_low_5
					}
				}
			}
			10 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 20 }
					}
					add_or_extend_province_modifier_hidden_effect = { NAME = MN_low_U.16 DURATION = 3650 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_unrest_low_10
					}
				}
			}
			15 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 40 }
					}
					add_or_extend_province_modifier_hidden_effect = { NAME = MN_mid_U.16 DURATION = 365 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_unrest_mid_1
					}
				}
			}
			20 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 40 }
					}
					add_or_extend_province_modifier_hidden_effect = { NAME = MN_mid_U.16 DURATION = 1825 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_unrest_mid_5
					}
				}
			}
			15 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 40 }
					}
					add_or_extend_province_modifier_hidden_effect = { NAME = MN_mid_U.16 DURATION = 3650 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_unrest_mid_10
					}
				}
			}
			10 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 60 }
					}
					add_or_extend_province_modifier_hidden_effect = { NAME = MN_imp_U.06 DURATION = 365 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_unrest_imp_1
					}
				}
			}
			15 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 60 }
					}
					add_or_extend_province_modifier_hidden_effect = { NAME = MN_imp_U.06 DURATION = 1825 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_unrest_imp_5
					}
				}
			}
			10 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 60 }
					}
					add_or_extend_province_modifier_hidden_effect = { NAME = MN_imp_U.06 DURATION = 3650 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_unrest_imp_10
					}
				}
			}
			5 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 80 }
					}
					add_or_extend_province_modifier_hidden_effect = { NAME = MN_max_U.16 DURATION = 365 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_unrest_max_1
					}
				}
			}
			10 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 80 }
					}
					add_or_extend_province_modifier_hidden_effect = { NAME = MN_max_U.16 DURATION = 1825 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_unrest_max_5
					}
				}
			}
			5 = {
				if = {
					limit = {
						MN_CheckProp = { religion = 6 type = TotP prop = 80 }
					}
					add_or_extend_province_modifier_hidden_effect = { NAME = MN_max_U.16 DURATION = 3650 }
					if = {
						limit = {
							owner = { has_country_flag = lol_unrest_info }
						}
						set_province_flag = mn_unrest_max_10
					}
				}
			}
		}
		if = {
			limit = {
				owner = { has_country_flag = lol_unrest_info }
			}
			province_event = { id = DG_Lollards.312 }
		}
	}
}

province_event = {
	id = DG_Lollards.312
	title = "DG_Lollards.311.title"
	desc = "DG_Lollards.311.desc"
	picture = all_church_state
	
	is_triggered_only = yes
	
	option = {
		name = "OPT.OHNO"
		trigger_switch = {
			on_trigger = has_province_flag

			mn_unrest_min_1 =	{ custom_tooltip = mn_unrest_min_1_tt }
			mn_unrest_min_5 =	{ custom_tooltip = mn_unrest_min_2_tt }
			mn_unrest_min_10 =	{ custom_tooltip = mn_unrest_min_3_tt }
			mn_unrest_low_1 =	{ custom_tooltip = mn_unrest_low_1_tt }
			mn_unrest_low_5 =	{ custom_tooltip = mn_unrest_low_2_tt }
			mn_unrest_low_10 =	{ custom_tooltip = mn_unrest_low_3_tt } 
			mn_unrest_mid_1 =	{ custom_tooltip = mn_unrest_mid_1_tt }
			mn_unrest_mid_5 =	{ custom_tooltip = mn_unrest_mid_2_tt }
			mn_unrest_mid_10 =	{ custom_tooltip = mn_unrest_mid_3_tt }
			mn_unrest_imp_1 =	{ custom_tooltip = mn_unrest_imp_1_tt }
			mn_unrest_imp_5 =	{ custom_tooltip = mn_unrest_imp_2_tt }
			mn_unrest_imp_10 =	{ custom_tooltip = mn_unrest_imp_3_tt } 
			mn_unrest_max_1 =	{ custom_tooltip = mn_unrest_max_1_tt }
			mn_unrest_max_5 =	{ custom_tooltip = mn_unrest_max_2_tt }
			mn_unrest_max_10 =	{ custom_tooltip = mn_unrest_max_3_tt } 
		}
	}
	after = {
		hidden_effect = {
			UnrestNofificationCleanup = yes
		}
	}
}

province_event = {
	id = DG_Lollards.901
	title = "DG_Lollards.901.title"
	desc = "DG_Lollards.901.desc"
	picture = all_church_state
	
	hidden = yes
	
	trigger = {
		is_religion_enabled = protestant
		MN_CheckRelSlot = { Type = value Religion = 6 }
		NOT = { owner = { religion = lollard } }
		OR = {
			owner = { religion = protestant }
			owner = { has_country_flag = support_02 }
			owner = { has_country_flag = accept_02 }
		}
	}
	
	mean_time_to_happen = {
		months = 300
		modifier = {
			factor = 1.25
			owner = {
				religion = lollard
				stability = 3
			}
		}
		modifier = {
			factor = 0.75
			owner = {
				religion = lollard
				NOT = { stability = -1 }
			}
		}
		modifier = {
			factor = 0.75
			owner = {
				religion = protestant
				stability = 3
			}
		}
		modifier = {
			factor = 1.25
			owner = {
				religion = protestant
				NOT = { stability = -1 }
			}
		}
	}
	
	option = {
		name = "OPT.ISEE"
		MN_Preacher = { from = 6 to = 2 ruralChange = 2.5 urbanChange = 2.5 notablesChange = 2.5 typeFrom = value typeTo = value typeChange = value typeStrength = value strength = 0 }
		if = {
			limit = {
				owner = { has_country_flag = lol_end_info }
			}
			province_event = { id = DG_Lollards.902 }
		}
	}
}

province_event = {
	id = DG_Lollards.902
	title = "DG_Lollards.901.title"
	desc = "DG_Lollards.901.desc"
	picture = all_church_state
	
	is_triggered_only = yes
	
	option = {
		name = "OPT.ISEE"
	}
}

province_event = {
	id = DG_Lollards.903
	title = "DG_Lollards.903.title"
	desc = "DG_Lollards.903.desc"
	picture = all_church_state
	
	hidden = yes
	
	trigger = {
		has_global_flag = DG_Counter_Reformation
		MN_CheckRelSlot = { Type = value Religion = 6 }
		NOT = { owner = { religion = lollard } }
		OR = {
			owner = { religion = catholic }
			owner = { has_country_flag = accept_02 }
			owner = { has_country_flag = silence_02 }
		}
	}
	
	mean_time_to_happen = {
		months = 600
		modifier = {
			factor = 1.25
			owner = {
				religion = lollard
				stability = 3
			}
		}
		modifier = {
			factor = 0.75
			owner = {
				religion = lollard
				NOT = { stability = -1 }
			}
		}
		modifier = {
			factor = 0.75
			owner = {
				religion = catholic
				stability = 3
			}
		}
		modifier = {
			factor = 1.25
			owner = {
				religion = catholic
				NOT = { stability = -1 }
			}
		}
	}
	
	option = {
		name = "OPT.ISEE"
		MN_Preacher = { from = 6 to = 1 ruralChange = 2.5 urbanChange = 2.5 notablesChange = 2.5 typeFrom = value typeTo = value typeChange = value typeStrength = value strength = 0 }
		if = {
			limit = {
				owner = { has_country_flag = lol_end_info }
			}
			province_event = { id = DG_Lollards.904 }
		}
	}
}

province_event = {
	id = DG_Lollards.904
	title = "DG_Lollards.903.title"
	desc = "DG_Lollards.903.desc"
	picture = all_church_state
	
	is_triggered_only = yes
	
	option = {
		name = "OPT.ISEE"
	}
}
