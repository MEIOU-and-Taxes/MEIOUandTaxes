namespace = cb_types

country_event = {
	id = cb_types.1
	title = no_localization
	desc = no_localization
	picture = MEIOU_AND_TAXES_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		tag = AAA
	}
	
	immediate = {
		# cb_roman_east
		# cb_russian_expansion_east
		# cb_de_jure_vietnam
		# cb_russian_unification
		# cb_rum_sultanate
		# cb_excommunication
		# cb_rival_caliph
		# cb_claim_caliph
		# cb_flower_war
		# cb_schism
		# cb_de_jure_hindustan
		# cb_core (including old cb_de_jure_hungary, cb_de_jure_bohemia, cb_de_jure_poland, cb_de_jure_lithuania, cb_de_jure_france)
		if = {
			limit = {
				exists = MAM
			}
			MAM = {
				every_subject_country = {
					limit = {
						is_free_or_tributary_trigger = no
					}
					every_neighbor_country = {
						limit = {
                            religion = sunni
							total_development = 400
							NOT = {
								has_casus_belli = {
									type = cb_free_the_caliph
									target = MAM
								}
							}
							NOT = { overlord_of = MAM }
						}
						reverse_add_casus_belli = {
							target = MAM
							type = cb_free_the_caliph
						}
						reverse_add_casus_belli = {
							target = PREV
							type = cb_free_the_caliph
						}
					}
				}
				every_neighbor_country = {
					limit = {
                        religion = sunni
						total_development = 400
						NOT = {
							has_casus_belli = {
								type = cb_free_the_caliph
								target = PREV
							}
						}
						NOT = { overlord_of = PREV }
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_free_the_caliph
					}
				}
			}
		}
		every_country = {
			limit = {
				isValidCountry = yes
			}
			clr_country_flag = Core_FRA
			clr_country_flag = Core_BOH
			clr_country_flag = Core_POL
			clr_country_flag = Core_LIT
			clr_country_flag = Core_HUN
		}
		every_country = {
			limit = {
				isValidCountry = yes
			}
			if = {
				limit = {
                    NOT = { has_country_flag = Horde_Ruler_Murdered }
					NOT = { has_country_flag = Horde_Collapse_Ongoing }
					OR = {
						is_nomad = yes
						is_tribal = yes
						has_reform = Horde_MonarchyS
						#is_key_equal = { lhs = Pol_Privileges value = 8 } 
					}
					OR = {
						is_free_or_tributary_trigger = yes
						overlord = { is_tribal = yes }
						overlord = { 
							has_reform = Horde_MonarchyS
							#is_key_equal = { lhs = Pol_Privileges value = 8 } 			
						}
						is_subject_of_type = commission
						is_subject_of_type = daimyo_vassal
						is_subject_of_type = muscovite_tributary_state
					}
					OR = {
						is_nomad = no
						NOT = {
							OR = {
								AND = {
									steppe_trigger = yes
									legitimacy_equivalent = 25
									check_key = { lhs = Ruler_SkillMIL value = 2 }
								}
								AND = {
									NOT = { steppe_trigger = yes }
									legitimacy_equivalent = 50
									check_key = { lhs = Ruler_SkillMIL value = 2 }
									OR = {
										check_key = { lhs = Ruler_SkillMIL value = 4 }
										legitimacy_equivalent = 75
									}
								}
							}
						}
					}
				}
				every_neighbor_country = {
					limit = {
                        NOT = { is_subject_of = PREV }
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_tribal_raid
									target = PREV
								}
							}
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_tribal_raid
					}
				}
			}
			if = {
				limit = {
					nomad_trigger = yes
					OR = {
						is_subject = no
						overlord = { nomad_trigger = yes }
						is_subject_of_type = commission
						is_subject_of_type = daimyo_vassal
						is_subject_of_type = muscovite_tributary_state
					}
				}
				if = {
					limit = {
						NOT = { has_country_flag = Timur_West }
                        legitimacy_equivalent = 70
						OR = {
							steppe_trigger = yes
							Timur_Has = yes
						}
						check_key = { lhs = Ruler_SkillMIL value = 5 }
						OR = {
							ai = no
							NOT = { has_country_flag = Tokhtamysh_Has }
							NOT = { religion_group = christian }
						}
					}
					save_event_target_as = nomadic_submission
					every_subject_country = {
						limit = {
							OR = {
								is_subject_of_type = personal_union
								is_subject_of_type = personal_union_limited
							}
						}
						every_neighbor_country = {
							limit = {
								is_nomad = yes
								NOT = { is_subject_of = PREV }
								event_target:nomadic_submission = {
									NOT = {
										has_casus_belli = {
											type = cb_nomadic_submission
											target = PREV
										}
									}
								}
							}
							event_target:nomadic_submission = {
								reverse_add_casus_belli = {
									target = PREV
									type = cb_nomadic_submission
								}
							}
						}
					}
					every_neighbor_country = {
						limit = {
							is_nomad = yes
							NOT = { is_subject_of = PREV }
							PREV = {
								NOT = {
									has_casus_belli = {
										type = cb_nomadic_submission
										target = PREV
									}
								}
							}
						}
						reverse_add_casus_belli = {
							target = PREV
							type = cb_nomadic_submission
						}
					}
					if = {
						limit = {
							OR = {
                                tag = GOL
								tag = GGK
								Timur_Has = yes
							}
						}
						YUA = {
							if = {
								limit = {
									isValidCountry = yes
									NOT = { is_subject_of = PREV }
									PREV = {
										NOT = {
											has_casus_belli = {
												type = cb_nomadic_submission
												target = PREV
											}
										}
									}
								}
								reverse_add_casus_belli = {
									target = PREV
									type = cb_nomadic_submission
								}
							}
						}
						WHI = {
							if = {
								limit = {
									isValidCountry = yes
									NOT = { is_subject_of = PREV }
									PREV = {
										NOT = {
											has_casus_belli = {
												type = cb_nomadic_submission
												target = PREV
											}
										}
									}
								}
								reverse_add_casus_belli = {
									target = PREV
									type = cb_nomadic_submission
								}
							}
						}
						BLU = {
							if = {
								limit = {
									isValidCountry = yes
									NOT = { is_subject_of = PREV }
									PREV = {
										NOT = {
											has_casus_belli = {
												type = cb_nomadic_submission
												target = PREV
											}
										}
									}
								}
								reverse_add_casus_belli = {
									target = PREV
									type = cb_nomadic_submission
								}
							}
						}
						MGH = {
							if = {
								limit = {
									isValidCountry = yes
									NOT = { is_subject_of = PREV }
									PREV = {
										NOT = {
											has_casus_belli = {
												type = cb_nomadic_submission
												target = PREV
											}
										}
									}
								}
								reverse_add_casus_belli = {
									target = PREV
									type = cb_nomadic_submission
								}
							}
						}
						CHG = {
							if = {
								limit = {
									isValidCountry = yes
									NOT = { is_subject_of = PREV }
									PREV = {
										NOT = {
											has_casus_belli = {
												type = cb_nomadic_submission
												target = PREV
											}
										}
									}
								}
								reverse_add_casus_belli = {
									target = PREV
									type = cb_nomadic_submission
								}
							}
						}
					}
				}
				if = {
					limit = {
                        NOT = { has_country_flag = Horde_Ruler_Murdered }
						NOT = { has_country_flag = Horde_Collapse_Ongoing }
						NOT = { is_subject_of_type = commission }
						OR = {
							ai = no
							NOT = { has_country_flag = Tokhtamysh_Has }
							NOT = { religion_group = christian }
						}
						OR = {
							AND = {
								steppe_trigger = yes
								NOT = {
									OR = {
										AND = {
											legitimacy_equivalent = 75
											check_key = { lhs = Ruler_SkillMIL value = 5 }
										}
										AND = {
											legitimacy_equivalent = 50
											check_key = { lhs = Ruler_SkillMIL value = 6 }
										}
									}
								}
								OR = {
									legitimacy_equivalent = 50
									check_key = { lhs = Ruler_SkillMIL value = 3 }
								}
							}
							AND = {
								NOT = { steppe_trigger = yes }
								OR = {
									AND = {
										legitimacy_equivalent = 75
										check_key = { lhs = Ruler_SkillMIL value = 4 }
									}
									AND = {
										legitimacy_equivalent = 50
										check_key = { lhs = Ruler_SkillMIL value = 6 }
									}
								}
							}
						}
					}
					every_neighbor_country = {
						limit = {
                            NOT = { is_subject_of = PREV }
							PREV = {
								OR = {
									NOT = { tag = MXI }
									PREV = { NOT = { tag = KOR } }
									is_year = 1410
									ai = no
								}
							}
							PREV = {
								NOT = { core_claim = PREV }
							}
							PREV = {
								NOT = {
									has_casus_belli = {
										type = cb_nomadic_conquest
										target = PREV
									}
								}
							}
							PREV = {
								OR = {
									AND = {
										NOT = { tag = GOL }
										NOT = { tag = WHI }
										NOT = { tag = BLU }
									}
									ai = no
									PREV = { is_tribal = yes }
									PREV = { is_nomad = yes }
								}
							}
						}
						reverse_add_casus_belli = {
							target = PREV
							type = cb_nomadic_conquest
						}
					}
				}
				else_if = {
					limit = {
                        NOT = { has_country_flag = Horde_Ruler_Murdered }
						NOT = { has_country_flag = Horde_Collapse_Ongoing }
						NOT = { is_subject_of_type = commission }
						steppe_trigger = yes
						OR = {
							AND = {
								legitimacy_equivalent = 75
								check_key = { lhs = Ruler_SkillMIL value = 5 }
							}
							AND = {
								legitimacy_equivalent = 50
								check_key = { lhs = Ruler_SkillMIL value = 6 }
							}
						}
						OR = {
							ai = no
							NOT = { has_country_flag = Tokhtamysh_Has }
							NOT = { religion_group = christian }
						}
					}
					every_neighbor_country = {
						limit = {
                            NOT = { is_subject_of = PREV }
							PREV = {
								OR = {
									NOT = { tag = MXI }
									PREV = { NOT = { tag = KOR } }
									is_year = 1410
									ai = no
								}
							}
							PREV = {
								NOT = { core_claim = PREV }
							}
							PREV = {
								NOT = {
									has_casus_belli = {
										type = cb_nomadic_conquest_mil
										target = PREV
									}
								}
							}
							PREV = {
								OR = {
									AND = {
										NOT = { tag = GOL }
										NOT = { tag = WHI }
										NOT = { tag = BLU }
									}
									ai = no
									PREV = { is_tribal = yes }
									PREV = { is_nomad = yes }
								}
							}
						}
						reverse_add_casus_belli = {
							target = PREV
							type = cb_nomadic_conquest_mil
						}
					}
				}
				if = {
					limit = {
						OR = {
							AND = {
								steppe_trigger = yes
								legitimacy_equivalent = 25
								check_key = { lhs = Ruler_SkillMIL value = 2 }
							}
							AND = {
								NOT = { steppe_trigger = yes }
								legitimacy_equivalent = 50
								check_key = { lhs = Ruler_SkillMIL value = 2 }
								OR = {
									check_key = { lhs = Ruler_SkillMIL value = 4 }
									legitimacy_equivalent = 75
								}
							}
						}
					}
					every_neighbor_country = {
						limit = {
                            NOT = { is_subject_of = PREV }
                            PREV = {
								OR = {
									ai = no
									NOT = { has_country_flag = Horde_Timur }
									has_country_flag = Timur_Dead
									AND = {
										has_country_flag = Timur_West
										PREV = {
											Timur_WestConquer = no
										}
									}
									AND = {
										has_country_flag = Timur_East
										PREV = {
											Timur_EastConquer = no
										}
									}
								}
							}
							PREV = {
								NOT = {
									has_casus_belli = {
										type = cb_nomadic_tribute
										target = PREV
									}
								}
							}
						}
						reverse_add_casus_belli = {
							target = PREV
							type = cb_nomadic_tribute
						}
					}
				}
				if = {
					limit = {
						NOT = { is_subject_of_type = commission }
						OR = {
							legitimacy_equivalent = 50
							check_key = { lhs = Ruler_SkillMIL value = 3 }
						}
						OR = {
							ai = no
							NOT = { has_country_flag = Tokhtamysh_Has }
							NOT = { religion_group = christian }
						}
					}
					every_neighbor_country = {
						limit = {
                            NOT = { is_subject_of = PREV }
							PREV = {
								core_claim = PREV
							}
							PREV = {
								NOT = {
									has_casus_belli = {
										type = cb_nomadic_reconquest
										target = PREV
									}
								}
							}
							PREV = {
								OR = {
									AND = {
										NOT = { tag = GOL }
										NOT = { tag = WHI }
										NOT = { tag = BLU }
									}
									ai = no
									PREV = { is_tribal = yes }
									PREV = { is_nomad = yes }
								}
							}
						}
						reverse_add_casus_belli = {
							target = PREV
							type = cb_nomadic_reconquest
						}
					}
				}
			}
			
			# cb_excommunication
			if = {
				limit = {
					religion = catholic
					is_excommunicated = no
					NOT = { has_country_flag = excommunicated }
					piety = -0.20
					is_revolutionary = no
				}
				
				every_known_country = {
					limit = {
                        OR = {
							is_excommunicated = yes
							has_country_flag = excommunicated
						}
						religion = catholic
						PREV = {
							OR = {
								is_neighbor_of = PREV
								claim = PREV
								core_claim = PREV
							}
						}
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_excommunication
									target = PREV
								}
							}
						}
						OR = {
							hre_religion_treaty = no
							capital_scope = { is_part_of_hre = no }
							PREV = { capital_scope = { is_part_of_hre = no } }
						}
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_excommunication
					}
				}
			}
			
			# # cb_flower_wars
			# if = {
			# 	limit = {
			# 		has_dlc = "El Dorado"
			# 		religion = nahuatl
			# 		culture_group = nahua_group
			# 		is_free_or_tributary_trigger = yes
			# 	}
				
			# 	every_neighbor_country = {
			# 		limit = {
            #             NOT = { is_subject_of = PREV }
				#			OR = {
				# 				religion_group = mesoamerican_pagan
				# 				religion_group = andean_pagan
				# 				religion_group = totemism
				# 				religion_group = pantheism
				# 			}
			# 			PREV = {
			# 				NOT = {
			# 					has_casus_belli = {
			# 						type = cb_flower_wars
			# 						target = PREV
			# 					}
			# 				}
			# 			}
			# 		}
					
			# 		reverse_add_casus_belli = {
			# 			target = PREV
			# 			type = cb_flower_wars
			# 		}
			# 	}
			# }
			# # cb_maya_expansion
			# if = {
			# 	limit = {
			# 		has_dlc = "El Dorado"
			# 		religion = mayan
			# 		is_free_or_tributary_trigger = yes
			# 	}
				
			# 	every_neighbor_country = {
			# 		limit = {
			# 			PREV = {
			# 				NOT = {
			# 					has_casus_belli = {
			# 						type = cb_maya_expansion
			# 						target = PREV
			# 					}
			# 				}
			# 			}
			# 			NOT = { is_subject_of = PREV }
			# 			OR = {
			# 				religion_group = mesoamerican_pagan
			# 				religion_group = andean_pagan
			# 				religion_group = totemism
			# 				religion_group = pantheism
			# 			}
			# 		}
					
			# 		reverse_add_casus_belli = {
			# 			target = PREV
			# 			type = cb_maya_expansion
			# 		}
			# 	}
			# }
			
			# cb_chinese_unification
			if = {
				limit = {
					# is_subject = no
					OR = {
						AND = {
							culture_group = chinese_group
							NOT = { primary_culture = chinese_colonial }
						}
						has_country_flag = China_ClaimForeign
					}
				}
				
				every_neighbor_country = {
					limit = {
                        NOT = { is_subject_of = PREV }
						has_country_flag = InMiddleKingdom
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_chinese_unification
									target = PREV
								}
							}
						}
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_chinese_unification
					}
				}
			}
			# old cb_de_jure_france, now special case of cb_core
			if = {
				limit = {
					isValidCountry = yes
					france_superregion = {
						owned_by = PREV
						has_province_flag = Core_FRA
					}
					is_neighbor_of = FRA
					NOT = { is_subject_of = FRA }
					NOT = {	overlord_of = FRA }
				}
				set_country_flag = Core_FRA
				FRA = {
					add_casus_belli = {
						target = PREV
						type = cb_core
					}
				}
			}
			# old cb_de_jure_poland, now special case of cb_core
			if = {
				limit = {
					isValidCountry = yes
					OR = {
						commonwealth_superregion = {
							owned_by = PREV
							has_province_modifier = polish_estates
						}
						greater_russia_superregion = {
							owned_by = PREV
							has_province_modifier = polish_estates
						}
					}
				}
				set_country_flag = Core_POL
				POL = {
					add_casus_belli = {
						target = PREV
						type = cb_core
					}
				}
				PLC = {
					add_casus_belli = {
						target = PREV
						type = cb_core
					}
				}
			}
			# old cb_de_jure_bohemia, now special case of cb_core
			if = {
				limit = {
					isValidCountry = yes
					greater_austrian_circle_superregion = {
						owned_by = PREV
						has_province_modifier = bohemian_estates
					}
				}
				set_country_flag = Core_BOH
				BOH = {
					add_casus_belli = {
						target = PREV
						type = cb_core
					}
				}
			}
			# old 	cb_de_jure_lithuania, now special case of cb_core
			if = {
				limit = {
					isValidCountry = yes
					OR = {
						commonwealth_superregion = {
							owned_by = PREV
							has_province_modifier = lithuanian_estates
						}
						greater_russia_superregion = {
							owned_by = PREV
							has_province_modifier = lithuanian_estates
						}
					}
				}
				set_country_flag = Core_LIT
				LIT = {
					add_casus_belli = {
						target = PREV
						type = cb_core
					}
				}
				PLC = {
					add_casus_belli = {
						target = PREV
						type = cb_core
					}
				}
			}
			# old cb_de_jure_hungary, now special case of cb_core
			if = {
				limit = {
					isValidCountry = yes
					balkan_superregion = {
						owned_by = PREV
						has_province_modifier = hungarian_estates
					}
				}
				set_country_flag = Core_HUN
				HUN = {
					add_casus_belli = {
						target = PREV
						type = cb_core
					}
				}
			}
		}
	}
	option = {
		name = no_localization
	}
}


country_event = {
	id = cb_types.2
	title = no_localization
	desc = no_localization
	picture = MEIOU_AND_TAXES_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		tag = AAA
	}
	
	immediate = {
		every_country = {
			limit = {
				OR = {
					ai = no
					is_month = 5
				}
				isValidCountry = yes
			}
			if = {
				limit = {
					OR = {
						tag = BYZ
						#tag = TRE
						tag = EPI
						tag = MOE
					}
					exists = yes
					is_subject = no
					OR = {
						ai = yes
						NOT = { has_global_flag = multiplayer }
					}
					NOT = { has_country_flag = heir_to_rome }
				}
				
				every_neighbor_country = {
					limit = {
                        NOT = { is_subject_of = PREV }
						has_country_flag = RomeExpansion
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_roman_east
									target = PREV
								}
							}
						}
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_roman_east
					}
				}
			}
			#cb_korean_expansion
			if = {
				limit = {
					primary_culture = korean
					exists = yes
				}
				every_neighbor_country = {
					limit = {
                        NOT = { is_subject_of = PREV }
						korea_region = {
							owned_by = PREV
						}
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_korean_expansion
									target = PREV
								}
							}
						}
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_korean_expansion
					}
				}
			}
			# cb_empire
			if = {
				limit = {
					is_nomad = no
                    legitimacy_equivalent = 65
                    NOT = { has_country_flag = Twilight }
					is_colonial_nation = no
					check_key = { lhs = Ruler_SkillMIL value = 3 }
					NOT = { culture_group = japanese_g }
					OR = {
						NOT = { culture_group = chinese_group }
						primary_culture = chinese_colonial
					}
					
					OR = {
						has_country_modifier = title_6
						AND = {
							has_country_modifier = title_5
							OR = {
								check_key = { lhs = Ruler_SkillScaled value = 15 }
								AND = {
									check_key = { lhs = Ruler_SkillScaled value = 13 }
									prestige = 25 #reduced from 50 (lower resting point in 3.0)
								}
							}
						}
					}
				}
				save_event_target_as = cb_empire
				every_neighbor_country = {
					limit = {
                        OR = {
							PREV = { NOT = { has_ruler_flag = BeylikFriendly } }
							NOT = { culture_group = oghuz }
						}
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_empire
									target = PREV
								}
							}
						}
						OR = {
							is_free_or_tributary_trigger = yes
							AND = {
								NOT = { is_subject_of = PREV }
								overlord = { NOT = { overlord_of = event_target:cb_empire } }
							}
						}
						PREV = { culture_group_claim = PREV }
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_empire
					}
				}
			}
			# cb_kingdom
			else_if = {
				limit = {
					is_nomad = no
                    stability = 1
					NOT = { culture_group = japanese_g }
					OR = {
						NOT = { culture_group = chinese_group }
						primary_culture = chinese_colonial
					}
					is_colonial_nation = no
					NOT = { has_country_flag = Twilight }
					check_key = { lhs = Ruler_SkillMIL value = 3 }
					has_country_modifier = title_5
					legitimacy_equivalent = 80
				}
				save_event_target_as = cb_kingdom
				every_neighbor_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_kingdom
									target = PREV
								}
							}
						}
						OR = {
							is_free_or_tributary_trigger = yes
							AND = {
								NOT = { is_subject_of = PREV }
								overlord = { NOT = { overlord_of = event_target:cb_kingdom } }
							}
						}
						PREV = { culture_group_claim = PREV }
						any_owned_province = { culture = event_target:cb_kingdom }
						OR = {
							PREV = { NOT = { has_ruler_flag = BeylikFriendly } }
							NOT = { culture_group = oghuz }
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_kingdom
					}
				}
			}
			# cb_privateers
			if = {
				limit = {
					has_privateers = yes
				}
				save_event_target_as = cb_privateers_from
				
				every_known_country = {
					limit = {
						NOT = {
							has_casus_belli = {
								type = cb_privateers
								target = PREV
							}
						}
						
						OR = {
							home_trade_node = {
								trade_share = {
									country = PREV
									share = 10
								}
								privateer_power = {
									country = event_target:cb_privateers_from
									share = 1
								}
							}
							any_active_trade_node = {
								trade_share = {
									country = PREV
									share = 10
								}
								privateer_power = {
									country = event_target:cb_privateers_from
									share = 1
								}
							}
						}
						
						is_revolutionary = no
					}
					add_casus_belli = {
						target = PREV
						type = cb_privateers
					}
				}
			}
			
			# cb_new_world
			if = {
				limit = {
					OR = {
						AND = {
							has_idea = exploration_ideas_6
				
							NOT = {
								has_country_flag = NewWorldTag
							}
							is_revolutionary = no
						}
						AND = {
							is_colonial_nation = yes
							overlord = {
								NOT = {
									has_country_flag = NewWorldTag
								}
							}
							is_revolutionary = no
						}
					}
				}
				every_known_country = {
					limit = {
                        has_country_flag = NewWorldTag
						
						is_colonial_nation = no
						
						NOT = {
							has_institution = Banking
						}
                        
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_new_world
									target = PREV
								}
							}
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_new_world
					}
				}
			}
			
			# cb_trade_league_conflict
			if = {
				limit = {
					is_trade_league_leader = yes
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_trade_league_conflict
									target = PREV
								}
							}
						}
						
						PREV = {
							can_justify_trade_conflict = PREV
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_trade_league_conflict
					}
				}
			}
			
			# cb_conquest
			if = {
				limit = {
					is_revolutionary = no
                    NOT = { has_country_flag = Twilight }
					NOT = { has_country_flag = Horde_Collapse_Ongoing }
					NOT = { has_country_flag = Horde_Ruler_Murdered }
					NOT = { is_subject_of_type = commission }
					OR = {
						nomad_trigger = no
						NOT = {
							OR = {
								AND = {
									steppe_trigger = yes
									OR = {
										legitimacy_equivalent = 50
										check_key = { lhs = Ruler_SkillMIL value = 3 }
									}
								}
								AND = {
									NOT = { steppe_trigger = yes }
									OR = {
										AND = {
											legitimacy_equivalent = 75
											check_key = { lhs = Ruler_SkillMIL value = 4 }
										}
										AND = {
											legitimacy_equivalent = 50
											check_key = { lhs = Ruler_SkillMIL value = 5 }
										}
									}
								}
							}
						}
					}
					OR = {
						NOT = { tag = KOR }
						ai = no
						korea_region = {
							type = all
							PREV = { owns_or_non_sovereign_subject_of = PREV }
						}
					}
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_conquest
									target = PREV
								}
							}
							
							claim = PREV
						}
						OR = {
							PREV = { NOT = { has_country_flag = BeylikNotable } }
							PREV = { 
								AND = {
									NOT = { primary_culture = turkish }
									NOT = { primary_culture = osmanli }
								}
							}
							AND = {
								NOT = { primary_culture = turkish }
								NOT = { primary_culture = osmanli }
							}
						}
						OR = {
							PREV = { NOT = { has_ruler_flag = BeylikFriendly } }
							NOT = { culture_group = oghuz }
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_conquest
					}
				}
			}
			#cb_conquest_turkish
			if = {
				limit = {
					has_country_flag = BeylikNotable
					is_revolutionary = no
					OR = {
						primary_culture = turkish
						primary_culture = osmanli
					}
					NOT = { has_ruler_flag = BeylikFriendly }
				}
				every_neighbor_country = {
					limit = {
						OR = {
							primary_culture = turkish
							primary_culture = osmanli
						}
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_conquest_turkish
									target = PREV
								}
							}
							claim = PREV
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_conquest_turkish
					}
				}
			}
			
			# cb_core
			if = {
				limit = {
					is_revolutionary = no
					nomad_trigger = no
					NOT = { has_country_flag = Horde_Collapse_Ongoing }
					NOT = { has_country_flag = Horde_Ruler_Murdered }
					NOT = { is_subject_of_type = commission }
					OR = {
						NOT = { tag = KOR }
						ai = no
						korea_region = {
							type = all
							PREV = { owns_or_non_sovereign_subject_of = PREV }
						}
					}
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_core
									target = PREV
								}
							}
						}
						
						PREV = {
							core_claim = PREV
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_core
					}
				}
			}
			
			# cb_nationalist
			if = {
				limit = {
					dip_tech = 45
					is_free_or_tributary_trigger = yes
					is_revolutionary = no
				}
				
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_nationalist
									target = PREV
								}
							}
						}
						PREV = {
							culture_group_claim = PREV
						}
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_nationalist
					}
				}
			}
			
			# cb_imperial
			if = {
				limit = {
					OR = {
						dip_tech = 45
						invasion_nation = yes
					}
					is_free_or_tributary_trigger = yes
					is_revolutionary = no
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_imperial
									target = PREV
								}
							}
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_imperial
					}
				}
			}
		}
	}
	
	option = {
		name = no_localization
	}
}

country_event = {
	id = cb_types.3
	title = no_localization
	desc = no_localization
	picture = MEIOU_AND_TAXES_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		tag = AAA
	}
	
	immediate = {
		every_country = {
			limit = {
				OR = {
					ai = no
					is_month = 5
				}
				isValidCountry = yes
			}
			
			# cb_super_badboy
			if = {
				limit = {
					num_of_coalition_members = 3
					is_revolutionary = no
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_super_badboy
									target = PREV
								}
							}
						}
						
						PREV = {
							coalition_target = PREV
							NOT = { PREV = { is_in_coalition_war = yes } }
							has_opinion_modifier = {
								modifier = aggressive_expansion
								who = PREV
							}
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_super_badboy
					}
				}
			}
			
			# cb_claim_throne
			if = {
				limit = {
					is_revolutionary = no
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_claim_throne
									target = PREV
								}
							}
						}
						
						PREV = {
							succession_claim = PREV
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_claim_throne
					}
				}
			}
			
			# cb_revoke_electorate
			if = {
				limit = {
					NOT = { has_dlc = "Common Sense" } # replaced by revoke elector diploaction
					NOT = { has_dlc = "Art of War" } # breaks league system
					is_emperor = yes
					is_revolutionary = no
				}
				every_known_country = {
					limit = {
                        is_elector = yes
						
						NOT = { religion = PREV }
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_revoke_electorate
									target = PREV
								}
							}
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_revoke_electorate
					}
				}
			}
			
			# cb_support_rebels
			if = {
				limit = {
					has_dlc = "Art of War"
					is_revolutionary = no
					NOT = { has_country_flag = Twilight }
					NOT = { has_country_flag = Horde_Collapse_Ongoing }
					NOT = { has_country_flag = Horde_Ruler_Murdered }
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_support_rebels
									target = PREV
								}
							}
						}
						
						PREV = {
							has_spawned_supported_rebels = PREV
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_support_rebels
					}
				}
			}
			
			# cb_crush_the_revolution
			if = {
				limit = {
					revolution_target_exists = yes
					is_revolutionary = no
					is_free_or_tributary_trigger = yes
					government = monarchy
					NOT = {
						revolution_target = {
							war_with = PREV
						}
						revolution_target = {
							truce_with = PREV
						}
						revolution_target = {
							alliance_with = PREV
						}
					}
				}
				revolution_target = {
					if = {
						limit = {
							PREV = {
								NOT = {
									has_casus_belli = {
										type = cb_crush_the_revolution
										target = PREV
									}
								}
							}
							
							is_neighbor_of = PREV
						}
						reverse_add_casus_belli = {
							target = PREV
							type = cb_crush_the_revolution
						}
					}
				}
			}
			
			# cb_spread_the_revolution
			if = {
				limit = {
					is_revolutionary = yes
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_spread_the_revolution
									target = PREV
								}
							}
						}
						
						NOT = { is_subject_of = PREV }
						NOT = { is_revolutionary = yes }
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_spread_the_revolution
					}
				}
			}
			
			# cb_religious_league
			if = {
				limit = {
					has_dlc = "Art of War"
					is_in_league_war = no
					emperor = { is_in_league_war = no }
					is_league_leader = yes
					hre_heretic_religion = THIS
					is_revolutionary = no
				}
				emperor = {
					if = {
						limit = {
							PREV = {
								NOT = {
									has_casus_belli = {
										type = cb_religious_league
										target = PREV
									}
								}
							}
							
							is_league_enemy = THIS
						}
						reverse_add_casus_belli = {
							target = PREV
							type = cb_religious_league
						}
					}
					if = {
						limit = {
							NOT = {
								has_casus_belli = {
									type = cb_religious_league
									target = PREV
								}
							}
						}
						add_casus_belli = {
							type = cb_religious_league
							target = PREV
						}
					}
				}
			}
			
			# cb_humiliate_rotw
			if = {
				limit = {
					ai = no
					is_revolutionary = no
					NOT = { has_country_flag = Twilight }
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_humiliate_rotw
									target = PREV
								}
							}
						}
						
						PREV = {
							NOT = {
								truce_with = PREV
							}
							is_rival = PREV
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_humiliate_rotw
					}
				}
			}
			
			# cb_crusade
			if = {
				limit = {
					religion = catholic
				}
				
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_crusade
									target = PREV
								}
							}
						}
						NOT = { religion_group = PREV }
						NOT = {	has_matching_religion = PREV }
						is_crusade_target = yes
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_crusade
					}
				}
			}
			if = {
				limit = {
					OR = {
						religion = catholic
						cb_on_religious_enemies = yes
						culture_group = oghuz
						has_country_modifier = CL_ReligiousWar_S
						has_country_modifier = CL_ReligiousWar_M
						has_country_modifier = CL_ReligiousWar_L
					}
					is_revolutionary = no
				}
				every_neighbor_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_crusade
									target = PREV
								}
							}
						}
						OR = {
							AND = {
								crusade_target = { tag = PREV }
								PREV = { religion = catholic }
							}
							PREV = { cb_on_religious_enemies = yes }
							PREV = { culture_group = oghuz }
							PREV = { has_country_modifier = CL_ReligiousWar_S }
							PREV = { has_country_modifier = CL_ReligiousWar_M }
							PREV = { has_country_modifier = CL_ReligiousWar_L }
						}
						NOT = { religion_group = PREV }
						NOT = {	has_matching_religion = PREV }
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_crusade
					}
				}
			}
			# cb_humiliate
			if = {
				limit = {
					has_dlc = "Conquest of Paradise"
					NOT = {
						num_of_cities = 2
					}
					is_revolutionary = no
				}
				
				every_neighbor_country = {
					limit = {
                        NOT = {
							num_of_cities = 2
						}
						PREV = { truce_with = PREV }
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_humiliate
									target = PREV
								}
							}
						}
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_humiliate
					}
				}
			}
			# cb_expedition
			#if = {
				#limit = {
				#	religion = catholic
				#	NOT = { cb_on_religious_enemies = yes }
				#	NOT = { reform_desire = 1 }
				#	is_excommunicated = no 
				#	is_revolutionary = no 
				#}
				#
				#every_known_country = {
				#	limit = {
                #        NOT = { is_neighbor_of = PREV }
				#		PREV = {
				#			NOT = {
				#				has_casus_belli = {
				#					type = cb_expedition
				#					target = PREV
				#				}
				#				core_claim = PREV
				#				claim = PREV
				#			}
				#		}
				#		is_crusade_target = no
				#		PREV = { NOT = { religion_group = PREV } }
				#		PREV = { NOT = { has_matching_religion = PREV } }
				#		any_owned_province = {
				#			OR = {
				#				AND = {
				#					continent = europe
				#					NOT = {
				#						superregion = greater_russia_superregion
				#					}
				#				}
				#				region = syria_region
				#				area = gharbia_area
				#			}
				#		}
				#		
				#	}
				#	
				#	reverse_add_casus_belli = {
				#		target = PREV
				#		type = cb_expedition
				#	}
				#}
			#}
			# cb_defender_of_the_faith
			if = {
				limit = {
					is_defender_of_faith = yes
					cb_on_religious_enemies = yes
					is_revolutionary = no
					OR = {
						hre_religion_treaty = no
						capital_scope = { is_part_of_hre = no }
					}
				}
				
				every_neighbor_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_defender_of_the_faith
									target = PREV
								}
							}
						}
						NOT = {	has_matching_religion = PREV }
						OR = {
							hre_religion_treaty = no
							capital_scope = { is_part_of_hre = no }
						}
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_defender_of_the_faith
					}
				}
			}
			# cb_heretic
			if = {
				limit = {
                    NOT = { has_country_flag = Twilight }
					OR = {
						cb_on_religious_enemies = yes
						has_country_modifier = CL_ReligiousWar_L
					}
					is_revolutionary = no
					OR = {
						NOT = { has_dlc = "Art of War" }
						hre_religion_treaty = no
						capital_scope = { is_part_of_hre = no }
					}
				}
				
				every_neighbor_country = {
					limit = {
                        religion_group = PREV
						NOT = {	has_matching_religion = PREV }
						OR = {
							NOT = { has_dlc = "Art of War" }
							hre_religion_treaty = no
							capital_scope = { is_part_of_hre = no }
							PREV = { capital_scope = { is_part_of_hre = no } }
						}
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_heretic
									target = PREV
								}
							}
						}
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_heretic
					}
				}
			}
		}
	}
	
	option = {
		name = no_localization
	}
}

country_event = {
	id = cb_types.4
	title = no_localization
	desc = no_localization
	picture = MEIOU_AND_TAXES_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		tag = AAA
	}
	
	immediate = {
		every_country = {
			limit = {
				OR = {
					ai = no
					is_month = 5
				}
				isValidCountry = yes
			}
			
			# cb_trade_league_dispute
			if = {
				limit = {
					is_trade_league_leader = yes
					is_revolutionary = no
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_trade_league_dispute
									target = PREV
								}
							}
						}
						
						PREV = {
							NOT = { trade_embargo_by = PREV }
							trade_league_embargoed_by = PREV
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_trade_league_dispute
					}
				}
			}
			
			# cb_imperial_ban
			if = {
				limit = {
					is_emperor = yes
					is_imperial_ban_allowed = yes
					is_revolutionary = no
					num_of_foreign_hre_provinces = 1
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_imperial_ban
									target = PREV
								}
							}
						}
						
						capital_scope = { is_part_of_hre = no }
						any_owned_province = {
							is_part_of_hre = yes
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_imperial_ban
					}
				}
			}
			# cb_liberate_elector
			if = {
				limit = {
					is_emperor = yes
					is_revolutionary = no
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_liberate_elector
									target = PREV
								}
							}
						}
						
						any_subject_country = {
							is_elector = yes
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_liberate_elector
					}
				}
			}
			if = {
				limit = {
					has_dlc = "Mandate of Heaven"
					is_part_of_hre = yes
					NOT = { government = republic }
					is_emperor = no
				}
				every_neighbor_country = {
					limit = {
                        is_part_of_hre = yes
						government = republic
						NOT = { primary_culture = high_alemanisch }
						is_subject = no
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_hre_tributary
									target = PREV
								}
							}
						}
						NOT = {
							has_reform = Pol_Stylings2
							#is_key_equal = { lhs = Pol_Stylings value = 1 }
							has_reform = free_city
							#is_key_equal = { lhs = Pol_Privileges value = 11 }
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_hre_tributary
					}
				}
			}
			
			# cb_japanese_civil_war
			if = {
				limit = {
					AND = {
						culture_group = japanese_g
						NOT = { primary_culture = japanese_colonial }
					}
				}
				
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_japanese_civil_war
									target = PREV
								}
							}
						}
						is_subject_of = PREV
						PREV = {
							OR = {
								claim = PREV
								core_claim = PREV
							}
						}
						japan_superregion = {
							owned_by = PREV
						}
						NOT = { is_subject_of = PREV }
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_japanese_civil_war
					}
				}
			}
			
			# cb_recover_japan
			if = {
				limit = {
					AND = {
						culture_group = japanese_g
						NOT = { primary_culture = japanese_colonial }
					}
				}
				
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_recover_japan
									target = PREV
								}
							}
						}
						NOT = { culture_group = japanese_g }
						NOT = { is_subject_of = PREV }
						OR = {
							japan_superregion = {
								owned_by = PREV
							}
						}
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_recover_japan
					}
				}
			}
			
			# cb_japanese_sengoku
			if = {
				limit = {
					AND = {
						culture_group = japanese_g
						NOT = { primary_culture = japanese_colonial }
					}
				}
				
				every_neighbor_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_japanese_sengoku
									target = PREV
								}
							}
						}
						culture_group = japanese_g
						NOT = { overlord_of = PREV }
						OR = {
							is_subject = no
							AND = {
								NOT = { is_subject_of = PREV }
								PREV = {
									NOT = { num_of_subjects = 1 }
								}
							}
						}
						japan_superregion = {
							owned_by = PREV
						}
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_japanese_sengoku
					}
				}
			}
			# cb_russian_expansion_east
			if = {
				limit = {
					culture_group = east_slavic
					nomad_trigger = no
					OR = {
						is_subject = no
						overlord = { NOT = { culture_group = east_slavic } }
					}
				}
				save_event_target_as = russian_expansion_east
				every_subject_country = {
					limit = {
						is_subject_other_than_tributary_trigger = yes
						culture_group = east_slavic
						nomad_trigger = no
					}
					every_neighbor_country = {
						limit = {
                            OR = {
								culture_group = tartar_group
								culture_group = altaic
								culture_group = tungusic
								culture_group = uralic_group
								primary_culture = turkmeni
								culture_group = old_turkic
							}
							NOT = { is_subject_of = event_target:russian_expansion_east }
							has_country_flag = RussiaExpansion
							event_target:russian_expansion_east = {
								NOT = {
									has_casus_belli = {
										type = cb_russian_expansion_east
										target = PREV
									}
								}
							}
						}
						event_target:russian_expansion_east = {
							reverse_add_casus_belli = {
								target = PREV
								type = cb_russian_expansion_east
							}
						}
					}
				}
				every_neighbor_country = {
					limit = {
                        OR = {
							culture_group = tartar_group
							culture_group = altaic
							culture_group = tungusic
							culture_group = uralic_group
							primary_culture = turkmeni
							culture_group = old_turkic
						}
						NOT = { is_subject_of = PREV }
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_russian_expansion_east
									target = PREV
								}
							}
						}
						has_country_flag = RussiaExpansion
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_russian_expansion_east
					}
				}
			}
			
			# cb_colonial
			if = {
				limit = {
					is_revolutionary = no
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_colonial
									target = PREV
								}
							}
						}
						
						PREV = {
							colony_claim = PREV
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_colonial
					}
				}
			}
			
			# cb_trade_war
			if = {
				limit = {
					is_revolutionary = no
				}
				every_known_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_trade_war
									target = PREV
								}
							}
						}
						
						PREV = {
							OR = {
								AND = {
									trade_embargo_by = PREV
									NOT = { PREV = { trade_embargo_by = PREV } }
								}
								AND = {
									merchant_trigger = yes
									PREV = {
										merchant_trigger = yes
									}
								}
							}
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_trade_war
					}
				}
			}
			
			# cb_revolutionary
			if = {
				limit = {
					cb_on_government_enemies = yes
					
					NOT = {
						government = native
					}
					
					is_revolutionary = no
				}
				every_neighbor_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_revolutionary
									target = PREV
								}
							}
						}
						
						NOT = {
							government = native
						}
						
						PREV = {
							OR = {
								AND = {
									government = monarchy
									PREV = { government = republic }
								}
								AND = {
									government = republic
									NOT = { PREV = { government = republic } }
								}
							}
						}
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_revolutionary
					}
				}
			}
			# cb_force_tributary
			if = {
				limit = {
					has_dlc = "Mandate of Heaven"
					is_emperor_of_china = yes
				}
				
				every_neighbor_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_force_tributary
									target = PREV
								}
							}
						}
						is_subject = no
					}
					
					reverse_add_casus_belli = {
						target = PREV
						type = cb_force_tributary
					}
				}
			}
			if = {
				limit = {
					religion_group = mesoamerican_pagan
					is_revolutionary = no
				}
				every_neighbor_country = {
					limit = {
						PREV = {
							NOT = {
								has_casus_belli = {
									type = cb_mesoamerican_vassalization
									target = PREV
								}
							}
						}
						is_subject = no
						religion_group = mesoamerican_pagan
					}
					reverse_add_casus_belli = {
						target = PREV
						type = cb_mesoamerican_vassalization
					}

				}
			}
		}
	}
	
	option = {
		name = no_localization
	}
}