namespace = MEC_Expeditions

############################################################################################################
###############################       DO NOT MANUALLY EDIT THIS FILE    ####################################
############################################################################################################

############################################################################################################
##################  THIS FILE GENERATED BY PYTHON SCRIPT MEC_Expeditions_Writer.py  ########################
############################################################################################################


# Gives rare colonization of neighboring provinces for countries without colonists
country_event = {
	id = MEC_Expeditions.002
	title = MEC_Expeditions.002.name
	desc = MEC_Expeditions.002.desc
	picture = TRADEGOODS_eventPicture
	
	trigger = {
		total_development = 30
		has_institution = Legalism
		NOT = { has_idea = exploration_ideas_2 } # Doesn't have colonist
		NOT = { has_idea = expansion_ideas_1 }
		OR = {
			AND = {
				is_colonial_nation = yes
				any_owned_province = {
					has_empty_adjacent_province = yes
				}
			}
			any_owned_province = {
				any_empty_neighbor_province = {
					NOT = {
						has_province_flag = ColonyBecomesOwner
						has_province_flag = NoRandomSpread
					}
				}
			}
		}
	}
	
	mean_time_to_happen = {
		years = 100 # 100 years
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_empty_adjacent_province = yes
					OR = {
						ROOT = { is_colonial_nation = yes }
						any_empty_neighbor_province = {
							NOT = {
								has_province_flag = ColonyBecomesOwner
								has_province_flag = NoRandomSpread
							}
						}
					}
				}
				random_empty_neighbor_province = {
					limit = {
						OR = {
							ROOT = { is_colonial_nation = yes }
							NOT = {
								has_province_flag = ColonyBecomesOwner
								has_province_flag = NoRandomSpread
							}
						}
					}
					save_event_target_as = neighbor_province
					discover_country = ROOT
					if = {
						limit = {
							ROOT = { is_colonial_nation = yes }
						}
						change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
						change_culture = ROOT
					}
					add_territorial_core = ROOT 
					cede_province = ROOT
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.002.opt
	}
}

############################################################################################################
#####################################      Select Expedition       #########################################
############################################################################################################

country_event = {
	id = MEC_Expeditions.003
	title = MEC_Expeditions.003.name
	desc = MEC_Expeditions.003.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	trigger = {
		OR = {
			has_idea = exploration_ideas_3
			has_country_modifier = can_colonize_country_modifier
		}
		max_sailors = 1500
		NOT = {
			has_country_flag = MEC_Expeditions_paused
		}
		num_of_ports = 1
		OR = { # Has an expedition available
			MEC_Expeditions_available_british_isles_trigger = yes
			MEC_Expeditions_available_northern_europe_trigger = yes
			MEC_Expeditions_available_france_trigger = yes
			MEC_Expeditions_available_iberia_trigger = yes
			MEC_Expeditions_available_iberian_islands_trigger = yes
			MEC_Expeditions_available_northwest_africa_trigger = yes
			MEC_Expeditions_available_west_africa_trigger = yes
			MEC_Expeditions_available_gulf_of_guinea_trigger = yes
			MEC_Expeditions_available_central_africa_trigger = yes
			MEC_Expeditions_available_south_africa_trigger = yes
			MEC_Expeditions_available_east_africa_trigger = yes
			MEC_Expeditions_available_indian_ocean_trigger = yes
			MEC_Expeditions_available_arabia_trigger = yes
			MEC_Expeditions_available_western_india_trigger = yes
			MEC_Expeditions_available_southern_india_trigger = yes
			MEC_Expeditions_available_eastern_india_trigger = yes
			MEC_Expeditions_available_malacca_trigger = yes
			MEC_Expeditions_available_southeast_asia_trigger = yes
			MEC_Expeditions_available_indonesia_trigger = yes
			MEC_Expeditions_available_philippines_trigger = yes
			MEC_Expeditions_available_papua_trigger = yes
			MEC_Expeditions_available_australia_trigger = yes
			MEC_Expeditions_available_pacific_islands_trigger = yes
			MEC_Expeditions_available_southern_china_trigger = yes
			MEC_Expeditions_available_northern_china_trigger = yes
			MEC_Expeditions_available_korea_trigger = yes
			MEC_Expeditions_available_japan_trigger = yes
			MEC_Expeditions_available_cuba_trigger = yes
			MEC_Expeditions_available_hispaniola_trigger = yes
			MEC_Expeditions_available_caribbean_trigger = yes
			MEC_Expeditions_available_atlantic_colombia_trigger = yes
			MEC_Expeditions_available_guyana_trigger = yes
			MEC_Expeditions_available_atlantic_mexico_trigger = yes
			MEC_Expeditions_available_north_brazil_trigger = yes
			MEC_Expeditions_available_south_brazil_trigger = yes
			MEC_Expeditions_available_gulf_of_mexico_trigger = yes
			MEC_Expeditions_available_southeastern_america_trigger = yes
			MEC_Expeditions_available_eastern_america_trigger = yes
			MEC_Expeditions_available_canada_trigger = yes
			MEC_Expeditions_available_north_atlantic_trigger = yes
			MEC_Expeditions_available_hudson_bay_trigger = yes
			MEC_Expeditions_available_la_plata_trigger = yes
			MEC_Expeditions_available_california_trigger = yes
			MEC_Expeditions_available_alaska_trigger = yes
			MEC_Expeditions_available_pacific_mexico_trigger = yes
			MEC_Expeditions_available_pacific_central_america_trigger = yes
			MEC_Expeditions_available_peru_trigger = yes
			MEC_Expeditions_available_chile_trigger = yes
		}
	}

	immediate = {
		hidden_effect = {
			ROOT = {
				subtract_key = { lhs = tech_mil value = 5 }
			}
		}
	}

	option = { # AI should take when no expedition available
		name = MEC_Expeditions.003.dont
		ai_chance = {
			factor = 0.1
		}
	}

	# Option for repeating sending Expedition to the British Isles
	option = {
		name = MEC_Expeditions.003.british_isles_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:british_isles:repeated"
		trigger = {
			MEC_Expeditions_available_british_isles_trigger = yes
			has_country_flag = MEC_Expeditions_sent_british_isles
		}
		ai_chance = {
			factor = 0
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.british_isles
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_81
                            province_group = tradenode_81
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_british_isles
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.british_isles = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_british_isles
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_british_isles
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.100
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.600
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.500
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.400
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.100
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.600
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.500
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.400
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.british_isles = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Northern Europe
	option = {
		name = MEC_Expeditions.003.northern_europe_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:northern_europe:repeated"
		trigger = {
			MEC_Expeditions_available_northern_europe_trigger = yes
			has_country_flag = MEC_Expeditions_sent_northern_europe
		}
		ai_chance = {
			factor = 0
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.northern_europe
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_85
                            province_group = tradenode_85
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_northern_europe
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.northern_europe = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_northern_europe
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_northern_europe
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.101
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.601
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.501
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.401
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.101
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.601
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.501
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.401
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.northern_europe = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to France
	option = {
		name = MEC_Expeditions.003.france_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:france:repeated"
		trigger = {
			MEC_Expeditions_available_france_trigger = yes
			has_country_flag = MEC_Expeditions_sent_france
		}
		ai_chance = {
			factor = 0
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.france
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_81
                            province_group = tradenode_81
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_france
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.france = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_france
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_france
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.102
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.602
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.502
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.402
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.102
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.602
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.502
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.402
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.france = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Iberia
	option = {
		name = MEC_Expeditions.003.iberia_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:iberia:repeated"
		trigger = {
			MEC_Expeditions_available_iberia_trigger = yes
			has_country_flag = MEC_Expeditions_sent_iberia
		}
		ai_chance = {
			factor = 0
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.iberia
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_70
                            province_group = tradenode_70
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_74
                            province_group = tradenode_74
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_iberia
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.iberia = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_iberia
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_iberia
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.103
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.603
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.503
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.403
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.103
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.603
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.503
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.403
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.iberia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to the Iberian Islands
	option = {
		name = MEC_Expeditions.003.iberian_islands_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:iberian_islands:repeated"
		trigger = {
			MEC_Expeditions_available_iberian_islands_trigger = yes
			has_country_flag = MEC_Expeditions_sent_iberian_islands
		}
		ai_chance = {
			factor = 200
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.iberian_islands
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_70
                            province_group = tradenode_70
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_74
                            province_group = tradenode_74
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_iberian_islands
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.iberian_islands = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_iberian_islands
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_iberian_islands
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.104
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.604
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.504
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.404
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.104
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.604
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.504
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.404
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.iberian_islands = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Northwest Africa
	option = {
		name = MEC_Expeditions.003.northwest_africa_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:northwest_africa:repeated"
		trigger = {
			MEC_Expeditions_available_northwest_africa_trigger = yes
			has_country_flag = MEC_Expeditions_sent_northwest_africa
		}
		ai_chance = {
			factor = 100
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.northwest_africa
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_70
                            province_group = tradenode_70
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_northwest_africa
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.northwest_africa = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_northwest_africa
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_northwest_africa
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.105
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.605
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.505
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.405
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.105
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.605
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.505
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.405
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.northwest_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to West Africa
	option = {
		name = MEC_Expeditions.003.west_africa_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:west_africa:repeated"
		trigger = {
			MEC_Expeditions_available_west_africa_trigger = yes
			has_country_flag = MEC_Expeditions_sent_west_africa
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.west_africa
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_51
                            province_group = tradenode_51
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_west_africa
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.west_africa = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_west_africa
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_west_africa
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.106
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.606
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.506
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.406
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.106
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.606
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.506
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.406
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.west_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to the Gulf of Guinea
	option = {
		name = MEC_Expeditions.003.gulf_of_guinea_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:gulf_of_guinea:repeated"
		trigger = {
			MEC_Expeditions_available_gulf_of_guinea_trigger = yes
			has_country_flag = MEC_Expeditions_sent_gulf_of_guinea
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.gulf_of_guinea
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_48
                            province_group = tradenode_48
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_gulf_of_guinea
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.gulf_of_guinea = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_gulf_of_guinea
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_gulf_of_guinea
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.107
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.607
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.507
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.407
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.107
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.607
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.507
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.407
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.gulf_of_guinea = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Central Africa
	option = {
		name = MEC_Expeditions.003.central_africa_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:central_africa:repeated"
		trigger = {
			MEC_Expeditions_available_central_africa_trigger = yes
			has_country_flag = MEC_Expeditions_sent_central_africa
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.central_africa
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_47
                            province_group = tradenode_47
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_central_africa
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.central_africa = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_central_africa
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_central_africa
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.108
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.608
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.508
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.408
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.108
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.608
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.508
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.408
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.central_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to South Africa
	option = {
		name = MEC_Expeditions.003.south_africa_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:south_africa:repeated"
		trigger = {
			MEC_Expeditions_available_south_africa_trigger = yes
			has_country_flag = MEC_Expeditions_sent_south_africa
		}
		ai_chance = {
			factor = 1200
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.south_africa
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_44
                            province_group = tradenode_44
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_south_africa
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.south_africa = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_south_africa
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_south_africa
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.109
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.609
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.509
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.409
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.109
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.609
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.509
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.409
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.south_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to East Africa
	option = {
		name = MEC_Expeditions.003.east_africa_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:east_africa:repeated"
		trigger = {
			MEC_Expeditions_available_east_africa_trigger = yes
			has_country_flag = MEC_Expeditions_sent_east_africa
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.east_africa
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_43
                            province_group = tradenode_43
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_east_africa
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.east_africa = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_east_africa
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_east_africa
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.110
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.610
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.510
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.410
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.110
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.610
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.510
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.410
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.east_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to the Indian Ocean
	option = {
		name = MEC_Expeditions.003.indian_ocean_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:indian_ocean:repeated"
		trigger = {
			MEC_Expeditions_available_indian_ocean_trigger = yes
			has_country_flag = MEC_Expeditions_sent_indian_ocean
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.indian_ocean
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_43
                            province_group = tradenode_43
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_indian_ocean
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.indian_ocean = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_indian_ocean
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_indian_ocean
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.111
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.611
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.511
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.411
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.111
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.611
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.511
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.411
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.indian_ocean = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Arabia
	option = {
		name = MEC_Expeditions.003.arabia_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:arabia:repeated"
		trigger = {
			MEC_Expeditions_available_arabia_trigger = yes
			has_country_flag = MEC_Expeditions_sent_arabia
		}
		ai_chance = {
			factor = 400
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.arabia
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_41
                            province_group = tradenode_41
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_40
                            province_group = tradenode_40
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_arabia
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.arabia = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_arabia
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_arabia
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.112
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.612
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.512
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.412
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.112
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.612
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.512
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.412
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.arabia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Western India
	option = {
		name = MEC_Expeditions.003.western_india_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:western_india:repeated"
		trigger = {
			MEC_Expeditions_available_western_india_trigger = yes
			has_country_flag = MEC_Expeditions_sent_western_india
		}
		ai_chance = {
			factor = 1200
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.western_india
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_36
                            province_group = tradenode_36
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_37
                            province_group = tradenode_37
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_western_india
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.western_india = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_western_india
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_western_india
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.113
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.613
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.513
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.413
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.113
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.613
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.513
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.413
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.western_india = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Southern India
	option = {
		name = MEC_Expeditions.003.southern_india_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:southern_india:repeated"
		trigger = {
			MEC_Expeditions_available_southern_india_trigger = yes
			has_country_flag = MEC_Expeditions_sent_southern_india
		}
		ai_chance = {
			factor = 1200
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.southern_india
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_35
                            province_group = tradenode_35
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_36
                            province_group = tradenode_36
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_southern_india
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.southern_india = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_southern_india
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_southern_india
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.114
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.614
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.514
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.414
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.114
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.614
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.514
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.414
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.southern_india = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Eastern India
	option = {
		name = MEC_Expeditions.003.eastern_india_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:eastern_india:repeated"
		trigger = {
			MEC_Expeditions_available_eastern_india_trigger = yes
			has_country_flag = MEC_Expeditions_sent_eastern_india
		}
		ai_chance = {
			factor = 1200
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.eastern_india
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_34
                            province_group = tradenode_34
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_35
                            province_group = tradenode_35
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_eastern_india
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.eastern_india = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_eastern_india
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_eastern_india
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.115
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.615
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.515
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.415
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.115
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.615
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.515
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.415
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.eastern_india = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Malacca
	option = {
		name = MEC_Expeditions.003.malacca_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:malacca:repeated"
		trigger = {
			MEC_Expeditions_available_malacca_trigger = yes
			has_country_flag = MEC_Expeditions_sent_malacca
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_24
                            province_group = tradenode_24
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_malacca
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.malacca = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_malacca
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_malacca
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.116
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.616
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.516
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.416
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.116
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.616
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.516
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.416
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.malacca = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Southeast Asia
	option = {
		name = MEC_Expeditions.003.southeast_asia_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:southeast_asia:repeated"
		trigger = {
			MEC_Expeditions_available_southeast_asia_trigger = yes
			has_country_flag = MEC_Expeditions_sent_southeast_asia
		}
		ai_chance = {
			factor = 600
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_25
                            province_group = tradenode_25
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_20
                            province_group = tradenode_20
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_19
                            province_group = tradenode_19
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_southeast_asia
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.southeast_asia = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_southeast_asia
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_southeast_asia
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.117
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.617
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.517
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.417
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.117
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.617
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.517
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.417
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.southeast_asia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Indonesia
	option = {
		name = MEC_Expeditions.003.indonesia_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:indonesia:repeated"
		trigger = {
			MEC_Expeditions_available_indonesia_trigger = yes
			has_country_flag = MEC_Expeditions_sent_indonesia
		}
		ai_chance = {
			factor = 1200
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_23
                            province_group = tradenode_23
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_indonesia
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.indonesia = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_indonesia
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_indonesia
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.118
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.618
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.518
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.418
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.118
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.618
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.518
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.418
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.indonesia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to the Philippines
	option = {
		name = MEC_Expeditions.003.philippines_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:philippines:repeated"
		trigger = {
			MEC_Expeditions_available_philippines_trigger = yes
			has_country_flag = MEC_Expeditions_sent_philippines
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_20
                            province_group = tradenode_20
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_philippines
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.philippines = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_philippines
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_philippines
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.119
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.619
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.519
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.419
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.119
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.619
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.519
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.419
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.philippines = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Papua New Guinea
	option = {
		name = MEC_Expeditions.003.papua_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:papua:repeated"
		trigger = {
			MEC_Expeditions_available_papua_trigger = yes
			has_country_flag = MEC_Expeditions_sent_papua
		}
		ai_chance = {
			factor = 100
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_2
                            province_group = tradenode_2
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_papua
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.papua = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_papua
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_papua
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.120
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.620
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.520
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.420
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.120
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.620
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.520
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.420
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.papua = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Australia
	option = {
		name = MEC_Expeditions.003.australia_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:australia:repeated"
		trigger = {
			MEC_Expeditions_available_australia_trigger = yes
			has_country_flag = MEC_Expeditions_sent_australia
		}
		ai_chance = {
			factor = 100
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.australia
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_2
                            province_group = tradenode_2
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_australia
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.australia = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_australia
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_australia
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.121
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.621
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.521
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.421
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.121
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.621
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.521
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.421
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.australia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to the Pacific Islands
	option = {
		name = MEC_Expeditions.003.pacific_islands_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:pacific_islands:repeated"
		trigger = {
			MEC_Expeditions_available_pacific_islands_trigger = yes
			has_country_flag = MEC_Expeditions_sent_pacific_islands
		}
		ai_chance = {
			factor = 400
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.pacific_islands
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_1
                            province_group = tradenode_1
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_pacific_islands
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.pacific_islands = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_pacific_islands
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_pacific_islands
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.122
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.622
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.522
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.422
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.122
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.622
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.522
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.422
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.pacific_islands = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Southern China
	option = {
		name = MEC_Expeditions.003.southern_china_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:southern_china:repeated"
		trigger = {
			MEC_Expeditions_available_southern_china_trigger = yes
			has_country_flag = MEC_Expeditions_sent_southern_china
		}
		ai_chance = {
			factor = 800
			modifier = { # Stop AI from sending expeditions to mainlaind China if all of the coast is held by the Emperor. Meant to stop dragging relations to -200. harming trade and causing wars
				factor = 0
				expedition_provs.southern_china = {
					type = all 
					is_empty = no
					OR = {
						owner = { is_emperor_of_china_meiou = yes }
						owner = { overlord = { is_emperor_of_china_meiou = yes } }
						owner = { overlord = { overlord = { is_emperor_of_china_meiou = yes } } }
					}
				}
			}
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.southern_china
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_3
                            province_group = tradenode_3
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_18
                            province_group = tradenode_18
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_southern_china
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.southern_china = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_southern_china
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_southern_china
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.123
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.623
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.523
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.423
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.123
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.623
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.523
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.423
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.southern_china = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Northern China
	option = {
		name = MEC_Expeditions.003.northern_china_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:northern_china:repeated"
		trigger = {
			MEC_Expeditions_available_northern_china_trigger = yes
			has_country_flag = MEC_Expeditions_sent_northern_china
		}
		ai_chance = {
			factor = 800
			modifier = { # Stop AI from sending expeditions to mainlaind China if all of the coast is held by the Emperor. Meant to stop dragging relations to -200. harming trade and causing wars
				factor = 0
				expedition_provs.northern_china = {
					type = all 
					is_empty = no
					OR = {
						owner = { is_emperor_of_china_meiou = yes }
						owner = { overlord = { is_emperor_of_china_meiou = yes } }
						owner = { overlord = { overlord = { is_emperor_of_china_meiou = yes } } }
					}
				}
			}
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.northern_china
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_3
                            province_group = tradenode_3
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_6
                            province_group = tradenode_6
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_4
                            province_group = tradenode_4
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_12
                            province_group = tradenode_12
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_northern_china
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.northern_china = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_northern_china
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_northern_china
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.124
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.624
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.524
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.424
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.124
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.624
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.524
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.424
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.northern_china = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Korea
	option = {
		name = MEC_Expeditions.003.korea_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:korea:repeated"
		trigger = {
			MEC_Expeditions_available_korea_trigger = yes
			has_country_flag = MEC_Expeditions_sent_korea
		}
		ai_chance = {
			factor = 400
			modifier = { # Stop AI from sending expeditions to mainlaind China if all of the coast is held by the Emperor. Meant to stop dragging relations to -200. harming trade and causing wars
				factor = 0
				expedition_provs.korea = {
					type = all 
					is_empty = no
					OR = {
						owner = { is_emperor_of_china_meiou = yes }
						owner = { overlord = { is_emperor_of_china_meiou = yes } }
						owner = { overlord = { overlord = { is_emperor_of_china_meiou = yes } } }
					}
				}
			}
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.korea
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_4
                            province_group = tradenode_4
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_korea
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.korea = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_korea
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_korea
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.125
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.625
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.525
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.425
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.125
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.625
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.525
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.425
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.korea = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Japan
	option = {
		name = MEC_Expeditions.003.japan_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:japan:repeated"
		trigger = {
			MEC_Expeditions_available_japan_trigger = yes
			has_country_flag = MEC_Expeditions_sent_japan
		}
		ai_chance = {
			factor = 400
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.japan
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_7
                            province_group = tradenode_7
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_japan
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.japan = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_japan
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_japan
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.126
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.626
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.526
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.426
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.126
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.626
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.526
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.426
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.japan = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Cuba
	option = {
		name = MEC_Expeditions.003.cuba_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:cuba:repeated"
		trigger = {
			MEC_Expeditions_available_cuba_trigger = yes
			has_country_flag = MEC_Expeditions_sent_cuba
		}
		ai_chance = {
			factor = 800
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.cuba
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_68
                            province_group = tradenode_68
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_cuba
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.cuba = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_cuba
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_cuba
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.127
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.627
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.527
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.427
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.127
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.627
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.527
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.427
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.cuba = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Hispaniola
	option = {
		name = MEC_Expeditions.003.hispaniola_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:hispaniola:repeated"
		trigger = {
			MEC_Expeditions_available_hispaniola_trigger = yes
			has_country_flag = MEC_Expeditions_sent_hispaniola
		}
		ai_chance = {
			factor = 800
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.hispaniola
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_68
                            province_group = tradenode_68
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_hispaniola
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.hispaniola = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_hispaniola
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_hispaniola
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.128
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.628
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.528
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.428
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.128
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.628
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.528
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.428
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.hispaniola = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Caribbean
	option = {
		name = MEC_Expeditions.003.caribbean_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:caribbean:repeated"
		trigger = {
			MEC_Expeditions_available_caribbean_trigger = yes
			has_country_flag = MEC_Expeditions_sent_caribbean
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.caribbean
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_68
                            province_group = tradenode_68
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_caribbean
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.caribbean = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_caribbean
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_caribbean
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.129
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.629
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.529
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.429
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.129
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.629
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.529
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.429
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.caribbean = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Atlantic Colombia
	option = {
		name = MEC_Expeditions.003.atlantic_colombia_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:atlantic_colombia:repeated"
		trigger = {
			MEC_Expeditions_available_atlantic_colombia_trigger = yes
			has_country_flag = MEC_Expeditions_sent_atlantic_colombia
		}
		ai_chance = {
			factor = 300
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.atlantic_colombia
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_46
                            province_group = tradenode_46
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_atlantic_colombia
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.atlantic_colombia = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_atlantic_colombia
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_atlantic_colombia
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.130
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.630
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.530
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.430
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.130
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.630
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.530
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.430
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.atlantic_colombia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Guyana
	option = {
		name = MEC_Expeditions.003.guyana_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:guyana:repeated"
		trigger = {
			MEC_Expeditions_available_guyana_trigger = yes
			has_country_flag = MEC_Expeditions_sent_guyana
		}
		ai_chance = {
			factor = 200
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.guyana
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_46
                            province_group = tradenode_46
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_guyana
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.guyana = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_guyana
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_guyana
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.131
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.631
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.531
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.431
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.131
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.631
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.531
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.431
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.guyana = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Atlantic Mexico
	option = {
		name = MEC_Expeditions.003.atlantic_mexico_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:atlantic_mexico:repeated"
		trigger = {
			MEC_Expeditions_available_atlantic_mexico_trigger = yes
			has_country_flag = MEC_Expeditions_sent_atlantic_mexico
		}
		ai_chance = {
			factor = 1600
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.atlantic_mexico
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_45
                            province_group = tradenode_45
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_9
                            province_group = tradenode_9
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_atlantic_mexico
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.atlantic_mexico = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_atlantic_mexico
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_atlantic_mexico
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.132
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.632
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.532
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.432
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.132
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.632
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.532
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.432
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.atlantic_mexico = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Northern Brazil
	option = {
		name = MEC_Expeditions.003.north_brazil_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:north_brazil:repeated"
		trigger = {
			MEC_Expeditions_available_north_brazil_trigger = yes
			has_country_flag = MEC_Expeditions_sent_north_brazil
		}
		ai_chance = {
			factor = 600
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.north_brazil
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_46
                            province_group = tradenode_46
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_north_brazil
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.north_brazil = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_north_brazil
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_north_brazil
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.133
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.633
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.533
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.433
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.133
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.633
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.533
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.433
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.north_brazil = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Southern Brazil
	option = {
		name = MEC_Expeditions.003.south_brazil_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:south_brazil:repeated"
		trigger = {
			MEC_Expeditions_available_south_brazil_trigger = yes
			has_country_flag = MEC_Expeditions_sent_south_brazil
		}
		ai_chance = {
			factor = 600
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.south_brazil
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_17
                            province_group = tradenode_17
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_south_brazil
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.south_brazil = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_south_brazil
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_south_brazil
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.134
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.634
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.534
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.434
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.134
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.634
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.534
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.434
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.south_brazil = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to the Gulf of Mexico
	option = {
		name = MEC_Expeditions.003.gulf_of_mexico_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:gulf_of_mexico:repeated"
		trigger = {
			MEC_Expeditions_available_gulf_of_mexico_trigger = yes
			has_country_flag = MEC_Expeditions_sent_gulf_of_mexico
		}
		ai_chance = {
			factor = 200
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.gulf_of_mexico
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_65
                            province_group = tradenode_65
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_66
                            province_group = tradenode_66
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_gulf_of_mexico
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.gulf_of_mexico = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_gulf_of_mexico
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_gulf_of_mexico
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.135
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.635
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.535
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.435
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.135
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.635
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.535
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.435
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.gulf_of_mexico = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Southeastern America
	option = {
		name = MEC_Expeditions.003.southeastern_america_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:southeastern_america:repeated"
		trigger = {
			MEC_Expeditions_available_southeastern_america_trigger = yes
			has_country_flag = MEC_Expeditions_sent_southeastern_america
		}
		ai_chance = {
			factor = 400
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.southeastern_america
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_69
                            province_group = tradenode_69
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_66
                            province_group = tradenode_66
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_southeastern_america
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.southeastern_america = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_southeastern_america
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_southeastern_america
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.136
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.636
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.536
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.436
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.136
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.636
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.536
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.436
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.southeastern_america = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Eastern America
	option = {
		name = MEC_Expeditions.003.eastern_america_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:eastern_america:repeated"
		trigger = {
			MEC_Expeditions_available_eastern_america_trigger = yes
			has_country_flag = MEC_Expeditions_sent_eastern_america
		}
		ai_chance = {
			factor = 400
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.eastern_america
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_69
                            province_group = tradenode_69
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_eastern_america
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.eastern_america = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_eastern_america
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_eastern_america
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.137
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.637
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.537
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.437
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.137
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.637
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.537
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.437
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.eastern_america = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Canada
	option = {
		name = MEC_Expeditions.003.canada_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:canada:repeated"
		trigger = {
			MEC_Expeditions_available_canada_trigger = yes
			has_country_flag = MEC_Expeditions_sent_canada
		}
		ai_chance = {
			factor = 200
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.canada
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_67
                            province_group = tradenode_67
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_canada
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.canada = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_canada
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_canada
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.138
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.638
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.538
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.438
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.138
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.638
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.538
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.438
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.canada = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to the North Atlantic
	option = {
		name = MEC_Expeditions.003.north_atlantic_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:north_atlantic:repeated"
		trigger = {
			MEC_Expeditions_available_north_atlantic_trigger = yes
			has_country_flag = MEC_Expeditions_sent_north_atlantic
		}
		ai_chance = {
			factor = 50
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.north_atlantic
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_85
                            province_group = tradenode_85
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_north_atlantic
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.north_atlantic = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_north_atlantic
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_north_atlantic
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.139
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.639
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.539
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.439
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.139
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.639
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.539
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.439
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.north_atlantic = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Hudson Bay
	option = {
		name = MEC_Expeditions.003.hudson_bay_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:hudson_bay:repeated"
		trigger = {
			MEC_Expeditions_available_hudson_bay_trigger = yes
			has_country_flag = MEC_Expeditions_sent_hudson_bay
		}
		ai_chance = {
			factor = 100
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.hudson_bay
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_67
                            province_group = tradenode_67
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_hudson_bay
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.hudson_bay = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_hudson_bay
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_hudson_bay
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.140
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.640
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.540
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.440
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.140
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.640
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.540
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.440
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.hudson_bay = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Southern Cone
	option = {
		name = MEC_Expeditions.003.la_plata_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:la_plata:repeated"
		trigger = {
			MEC_Expeditions_available_la_plata_trigger = yes
			has_country_flag = MEC_Expeditions_sent_la_plata
		}
		ai_chance = {
			factor = 100
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.la_plata
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_17
                            province_group = tradenode_17
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_la_plata
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.la_plata = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_la_plata
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_la_plata
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.141
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.641
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.541
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.441
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.141
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.641
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.541
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.441
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.la_plata = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to California
	option = {
		name = MEC_Expeditions.003.california_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:california:repeated"
		trigger = {
			MEC_Expeditions_available_california_trigger = yes
			has_country_flag = MEC_Expeditions_sent_california
		}
		ai_chance = {
			factor = 100
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.california
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_8
                            province_group = tradenode_8
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_california
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.california = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_california
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_california
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.142
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.642
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.542
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.442
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.142
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.642
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.542
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.442
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.california = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Alaska
	option = {
		name = MEC_Expeditions.003.alaska_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:alaska:repeated"
		trigger = {
			MEC_Expeditions_available_alaska_trigger = yes
			has_country_flag = MEC_Expeditions_sent_alaska
		}
		ai_chance = {
			factor = 100
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.alaska
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_8
                            province_group = tradenode_8
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_alaska
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.alaska = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_alaska
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_alaska
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.143
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.643
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.543
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.443
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.143
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.643
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.543
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.443
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.alaska = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Pacific Mexico
	option = {
		name = MEC_Expeditions.003.pacific_mexico_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:pacific_mexico:repeated"
		trigger = {
			MEC_Expeditions_available_pacific_mexico_trigger = yes
			has_country_flag = MEC_Expeditions_sent_pacific_mexico
		}
		ai_chance = {
			factor = 800
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.pacific_mexico
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_9
                            province_group = tradenode_9
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_65
                            province_group = tradenode_65
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_pacific_mexico
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.pacific_mexico = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_pacific_mexico
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_pacific_mexico
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.144
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.644
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.544
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.444
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.144
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.644
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.544
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.444
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.pacific_mexico = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Pacific Central America
	option = {
		name = MEC_Expeditions.003.pacific_central_america_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:pacific_central_america:repeated"
		trigger = {
			MEC_Expeditions_available_pacific_central_america_trigger = yes
			has_country_flag = MEC_Expeditions_sent_pacific_central_america
		}
		ai_chance = {
			factor = 1200
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.pacific_central_america
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_45
                            province_group = tradenode_45
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_pacific_central_america
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.pacific_central_america = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_pacific_central_america
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_pacific_central_america
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.145
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.645
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.545
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.445
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.145
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.645
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.545
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.445
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.pacific_central_america = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Peru
	option = {
		name = MEC_Expeditions.003.peru_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:peru:repeated"
		trigger = {
			MEC_Expeditions_available_peru_trigger = yes
			has_country_flag = MEC_Expeditions_sent_peru
		}
		ai_chance = {
			factor = 2400
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.peru
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_16
                            province_group = tradenode_16
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_peru
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.peru = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_peru
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_peru
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.146
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.646
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.546
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.446
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.146
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.646
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.546
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.446
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.peru = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for repeating sending Expedition to Chile
	option = {
		name = MEC_Expeditions.003.chile_repeat
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:chile:repeated"
		trigger = {
			MEC_Expeditions_available_chile_trigger = yes
			has_country_flag = MEC_Expeditions_sent_chile
		}
		ai_chance = {
			factor = 400
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.chile
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_16
                            province_group = tradenode_16
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_chile
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.chile = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_chile
				duration = 242
			}

			set_country_flag = MEC_Expeditions_sent_chile
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.147
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.647
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.547
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.447
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.147
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.647
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.547
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.447
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.chile = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to the British Isles
	option = {
		name = MEC_Expeditions.003.british_isles
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:british_isles"
		trigger = {
			MEC_Expeditions_available_british_isles_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_british_isles }
		}
		ai_chance = {
			factor = 0
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.british_isles
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_81
                            province_group = tradenode_81
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_british_isles
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.british_isles = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_british_isles
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_british_isles
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.100
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.600
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.500
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.400
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.100
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.600
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.500
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.400
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.british_isles = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Northern Europe
	option = {
		name = MEC_Expeditions.003.northern_europe
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:northern_europe"
		trigger = {
			MEC_Expeditions_available_northern_europe_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_northern_europe }
		}
		ai_chance = {
			factor = 0
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.northern_europe
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_85
                            province_group = tradenode_85
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_northern_europe
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.northern_europe = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_northern_europe
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_northern_europe
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.101
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.601
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.501
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.401
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.101
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.601
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.501
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.401
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.northern_europe = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to France
	option = {
		name = MEC_Expeditions.003.france
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:france"
		trigger = {
			MEC_Expeditions_available_france_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_france }
		}
		ai_chance = {
			factor = 0
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.france
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_81
                            province_group = tradenode_81
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_france
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.france = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_france
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_france
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.102
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.602
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.502
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.402
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.102
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.602
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.502
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.402
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.france = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Iberia
	option = {
		name = MEC_Expeditions.003.iberia
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:iberia"
		trigger = {
			MEC_Expeditions_available_iberia_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_iberia }
		}
		ai_chance = {
			factor = 0
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.iberia
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_70
                            province_group = tradenode_70
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_74
                            province_group = tradenode_74
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_iberia
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.iberia = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_iberia
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_iberia
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.103
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.603
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.503
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.403
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.103
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.603
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.503
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.403
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.iberia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to the Iberian Islands
	option = {
		name = MEC_Expeditions.003.iberian_islands
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:iberian_islands"
		trigger = {
			MEC_Expeditions_available_iberian_islands_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_iberian_islands }
		}
		ai_chance = {
			factor = 200
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.iberian_islands
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_70
                            province_group = tradenode_70
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_74
                            province_group = tradenode_74
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_iberian_islands
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.iberian_islands = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_iberian_islands
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_iberian_islands
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.104
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.604
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.504
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.404
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.104
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.604
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.504
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.404
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.iberian_islands = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Northwest Africa
	option = {
		name = MEC_Expeditions.003.northwest_africa
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:northwest_africa"
		trigger = {
			MEC_Expeditions_available_northwest_africa_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_northwest_africa }
		}
		ai_chance = {
			factor = 100
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.northwest_africa
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_70
                            province_group = tradenode_70
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_northwest_africa
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.northwest_africa = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_northwest_africa
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_northwest_africa
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.105
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.605
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.505
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.405
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.105
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.605
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.505
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.405
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.northwest_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to West Africa
	option = {
		name = MEC_Expeditions.003.west_africa
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:west_africa"
		trigger = {
			MEC_Expeditions_available_west_africa_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_west_africa }
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.west_africa
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_51
                            province_group = tradenode_51
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_west_africa
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.west_africa = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_west_africa
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_west_africa
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.106
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.606
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.506
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.406
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.106
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.606
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.506
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.406
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.west_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to the Gulf of Guinea
	option = {
		name = MEC_Expeditions.003.gulf_of_guinea
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:gulf_of_guinea"
		trigger = {
			MEC_Expeditions_available_gulf_of_guinea_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_gulf_of_guinea }
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.gulf_of_guinea
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_48
                            province_group = tradenode_48
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_gulf_of_guinea
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.gulf_of_guinea = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_gulf_of_guinea
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_gulf_of_guinea
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.107
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.607
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.507
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.407
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.107
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.607
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.507
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.407
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.gulf_of_guinea = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Central Africa
	option = {
		name = MEC_Expeditions.003.central_africa
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:central_africa"
		trigger = {
			MEC_Expeditions_available_central_africa_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_central_africa }
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.central_africa
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_47
                            province_group = tradenode_47
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_central_africa
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.central_africa = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_central_africa
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_central_africa
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.108
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.608
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.508
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.408
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.108
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.608
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.508
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.408
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.central_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to South Africa
	option = {
		name = MEC_Expeditions.003.south_africa
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:south_africa"
		trigger = {
			MEC_Expeditions_available_south_africa_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_south_africa }
		}
		ai_chance = {
			factor = 1200
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.south_africa
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_44
                            province_group = tradenode_44
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.south_africa
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.south_africa
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_south_africa
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.south_africa = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_south_africa
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_south_africa
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.109
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.609
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.509
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.409
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.109
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.609
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.509
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.409
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.south_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to East Africa
	option = {
		name = MEC_Expeditions.003.east_africa
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:east_africa"
		trigger = {
			MEC_Expeditions_available_east_africa_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_east_africa }
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.east_africa
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_43
                            province_group = tradenode_43
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_east_africa
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.east_africa = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_east_africa
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_east_africa
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.110
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.610
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.510
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.410
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.110
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.610
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.510
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.410
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.east_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to the Indian Ocean
	option = {
		name = MEC_Expeditions.003.indian_ocean
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:indian_ocean"
		trigger = {
			MEC_Expeditions_available_indian_ocean_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_indian_ocean }
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.indian_ocean
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_43
                            province_group = tradenode_43
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_indian_ocean
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.indian_ocean = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_indian_ocean
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_indian_ocean
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.111
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.611
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.511
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.411
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.111
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.611
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.511
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.411
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.indian_ocean = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Arabia
	option = {
		name = MEC_Expeditions.003.arabia
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:arabia"
		trigger = {
			MEC_Expeditions_available_arabia_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_arabia }
		}
		ai_chance = {
			factor = 400
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.arabia
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_41
                            province_group = tradenode_41
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_40
                            province_group = tradenode_40
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_arabia
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.arabia = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_arabia
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_arabia
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.112
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.612
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.512
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.412
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.112
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.612
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.512
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.412
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.arabia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Western India
	option = {
		name = MEC_Expeditions.003.western_india
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:western_india"
		trigger = {
			MEC_Expeditions_available_western_india_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_western_india }
		}
		ai_chance = {
			factor = 1200
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.western_india
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_36
                            province_group = tradenode_36
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_37
                            province_group = tradenode_37
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_western_india
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.western_india = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_western_india
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_western_india
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.113
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.613
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.513
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.413
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.113
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.613
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.513
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.413
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.western_india = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Southern India
	option = {
		name = MEC_Expeditions.003.southern_india
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:southern_india"
		trigger = {
			MEC_Expeditions_available_southern_india_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_southern_india }
		}
		ai_chance = {
			factor = 1200
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.southern_india
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_35
                            province_group = tradenode_35
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_36
                            province_group = tradenode_36
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_southern_india
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.southern_india = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_southern_india
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_southern_india
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.114
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.614
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.514
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.414
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.114
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.614
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.514
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.414
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.southern_india = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Eastern India
	option = {
		name = MEC_Expeditions.003.eastern_india
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:eastern_india"
		trigger = {
			MEC_Expeditions_available_eastern_india_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_eastern_india }
		}
		ai_chance = {
			factor = 1200
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.eastern_india
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_34
                            province_group = tradenode_34
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_35
                            province_group = tradenode_35
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_eastern_india
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.eastern_india = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_eastern_india
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_eastern_india
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.115
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.615
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.515
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.415
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.115
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.615
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.515
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.415
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.eastern_india = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Malacca
	option = {
		name = MEC_Expeditions.003.malacca
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:malacca"
		trigger = {
			MEC_Expeditions_available_malacca_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_malacca }
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_24
                            province_group = tradenode_24
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_malacca
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.malacca = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_malacca
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_malacca
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.116
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.616
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.516
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.416
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.116
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.616
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.516
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.416
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.malacca = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Southeast Asia
	option = {
		name = MEC_Expeditions.003.southeast_asia
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:southeast_asia"
		trigger = {
			MEC_Expeditions_available_southeast_asia_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_southeast_asia }
		}
		ai_chance = {
			factor = 600
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_25
                            province_group = tradenode_25
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_20
                            province_group = tradenode_20
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_19
                            province_group = tradenode_19
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_southeast_asia
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.southeast_asia = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_southeast_asia
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_southeast_asia
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.117
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.617
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.517
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.417
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.117
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.617
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.517
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.417
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.southeast_asia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Indonesia
	option = {
		name = MEC_Expeditions.003.indonesia
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:indonesia"
		trigger = {
			MEC_Expeditions_available_indonesia_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_indonesia }
		}
		ai_chance = {
			factor = 1200
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_23
                            province_group = tradenode_23
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_indonesia
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.indonesia = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_indonesia
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_indonesia
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.118
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.618
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.518
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.418
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.118
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.618
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.518
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.418
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.indonesia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to the Philippines
	option = {
		name = MEC_Expeditions.003.philippines
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:philippines"
		trigger = {
			MEC_Expeditions_available_philippines_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_philippines }
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_20
                            province_group = tradenode_20
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_philippines
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.philippines = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_philippines
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_philippines
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.119
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.619
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.519
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.419
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.119
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.619
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.519
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.419
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.philippines = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Papua New Guinea
	option = {
		name = MEC_Expeditions.003.papua
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:papua"
		trigger = {
			MEC_Expeditions_available_papua_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_papua }
		}
		ai_chance = {
			factor = 100
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_2
                            province_group = tradenode_2
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_papua
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.papua = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_papua
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_papua
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.120
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.620
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.520
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.420
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.120
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.620
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.520
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.420
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.papua = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Australia
	option = {
		name = MEC_Expeditions.003.australia
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:australia"
		trigger = {
			MEC_Expeditions_available_australia_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_australia }
		}
		ai_chance = {
			factor = 100
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.australia
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_2
                            province_group = tradenode_2
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.australia
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.australia
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_australia
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.australia = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_australia
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_australia
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.121
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.621
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.521
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.421
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.121
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.621
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.521
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.421
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.australia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to the Pacific Islands
	option = {
		name = MEC_Expeditions.003.pacific_islands
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:pacific_islands"
		trigger = {
			MEC_Expeditions_available_pacific_islands_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_pacific_islands }
		}
		ai_chance = {
			factor = 400
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.pacific_islands
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_1
                            province_group = tradenode_1
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_pacific_islands
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.pacific_islands = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_pacific_islands
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_pacific_islands
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.122
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.622
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.522
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.422
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.122
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.622
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.522
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.422
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.pacific_islands = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Southern China
	option = {
		name = MEC_Expeditions.003.southern_china
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:southern_china"
		trigger = {
			MEC_Expeditions_available_southern_china_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_southern_china }
		}
		ai_chance = {
			factor = 800
			modifier = { # Stop AI from sending expeditions to mainlaind China if all of the coast is held by the Emperor. Meant to stop dragging relations to -200. harming trade and causing wars
				factor = 0
				expedition_provs.southern_china = {
					type = all 
					is_empty = no
					OR = {
						owner = { is_emperor_of_china_meiou = yes }
						owner = { overlord = { is_emperor_of_china_meiou = yes } }
						owner = { overlord = { overlord = { is_emperor_of_china_meiou = yes } } }
					}
				}
			}
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.southern_china
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_3
                            province_group = tradenode_3
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_18
                            province_group = tradenode_18
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_southern_china
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.southern_china = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_southern_china
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_southern_china
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.123
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.623
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.523
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.423
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.123
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.623
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.523
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.423
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.southern_china = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Northern China
	option = {
		name = MEC_Expeditions.003.northern_china
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:northern_china"
		trigger = {
			MEC_Expeditions_available_northern_china_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_northern_china }
		}
		ai_chance = {
			factor = 800
			modifier = { # Stop AI from sending expeditions to mainlaind China if all of the coast is held by the Emperor. Meant to stop dragging relations to -200. harming trade and causing wars
				factor = 0
				expedition_provs.northern_china = {
					type = all 
					is_empty = no
					OR = {
						owner = { is_emperor_of_china_meiou = yes }
						owner = { overlord = { is_emperor_of_china_meiou = yes } }
						owner = { overlord = { overlord = { is_emperor_of_china_meiou = yes } } }
					}
				}
			}
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.northern_china
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_3
                            province_group = tradenode_3
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_6
                            province_group = tradenode_6
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_4
                            province_group = tradenode_4
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_12
                            province_group = tradenode_12
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_northern_china
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.northern_china = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_northern_china
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_northern_china
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.124
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.624
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.524
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.424
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.124
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.624
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.524
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.424
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.northern_china = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Korea
	option = {
		name = MEC_Expeditions.003.korea
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:korea"
		trigger = {
			MEC_Expeditions_available_korea_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_korea }
		}
		ai_chance = {
			factor = 400
			modifier = { # Stop AI from sending expeditions to mainlaind China if all of the coast is held by the Emperor. Meant to stop dragging relations to -200. harming trade and causing wars
				factor = 0
				expedition_provs.korea = {
					type = all 
					is_empty = no
					OR = {
						owner = { is_emperor_of_china_meiou = yes }
						owner = { overlord = { is_emperor_of_china_meiou = yes } }
						owner = { overlord = { overlord = { is_emperor_of_china_meiou = yes } } }
					}
				}
			}
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.korea
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_4
                            province_group = tradenode_4
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_korea
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.korea = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_korea
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_korea
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.125
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.625
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.525
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.425
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.125
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.625
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.525
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.425
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.korea = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Japan
	option = {
		name = MEC_Expeditions.003.japan
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:japan"
		trigger = {
			MEC_Expeditions_available_japan_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_japan }
		}
		ai_chance = {
			factor = 400
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.japan
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_7
                            province_group = tradenode_7
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_japan
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.japan = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_japan
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_japan
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.126
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.626
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.526
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.426
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.126
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.626
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.526
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.426
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.japan = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Cuba
	option = {
		name = MEC_Expeditions.003.cuba
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:cuba"
		trigger = {
			MEC_Expeditions_available_cuba_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_cuba }
		}
		ai_chance = {
			factor = 800
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.cuba
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_68
                            province_group = tradenode_68
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.cuba
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.cuba
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_cuba
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.cuba = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_cuba
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_cuba
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.127
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.627
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.527
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.427
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.127
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.627
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.527
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.427
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.cuba = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Hispaniola
	option = {
		name = MEC_Expeditions.003.hispaniola
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:hispaniola"
		trigger = {
			MEC_Expeditions_available_hispaniola_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_hispaniola }
		}
		ai_chance = {
			factor = 800
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.hispaniola
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_68
                            province_group = tradenode_68
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.hispaniola
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.hispaniola
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_hispaniola
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.hispaniola = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_hispaniola
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_hispaniola
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.128
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.628
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.528
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.428
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.128
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.628
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.528
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.428
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.hispaniola = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Caribbean
	option = {
		name = MEC_Expeditions.003.caribbean
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:caribbean"
		trigger = {
			MEC_Expeditions_available_caribbean_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_caribbean }
		}
		ai_chance = {
			factor = 800
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.caribbean
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_68
                            province_group = tradenode_68
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_caribbean
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.caribbean = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_caribbean
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_caribbean
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.129
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.629
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.529
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.429
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.129
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.629
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.529
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.429
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.caribbean = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Atlantic Colombia
	option = {
		name = MEC_Expeditions.003.atlantic_colombia
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:atlantic_colombia"
		trigger = {
			MEC_Expeditions_available_atlantic_colombia_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_atlantic_colombia }
		}
		ai_chance = {
			factor = 300
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.atlantic_colombia
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_46
                            province_group = tradenode_46
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.atlantic_colombia
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.atlantic_colombia
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_atlantic_colombia
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.atlantic_colombia = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_atlantic_colombia
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_atlantic_colombia
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.130
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.630
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.530
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.430
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.130
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.630
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.530
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.430
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.atlantic_colombia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Guyana
	option = {
		name = MEC_Expeditions.003.guyana
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:guyana"
		trigger = {
			MEC_Expeditions_available_guyana_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_guyana }
		}
		ai_chance = {
			factor = 200
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.guyana
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_46
                            province_group = tradenode_46
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.guyana
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.guyana
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_guyana
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.guyana = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_guyana
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_guyana
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.131
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.631
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.531
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.431
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.131
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.631
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.531
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.431
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.guyana = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Atlantic Mexico
	option = {
		name = MEC_Expeditions.003.atlantic_mexico
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:atlantic_mexico"
		trigger = {
			MEC_Expeditions_available_atlantic_mexico_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_atlantic_mexico }
		}
		ai_chance = {
			factor = 1600
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.atlantic_mexico
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_45
                            province_group = tradenode_45
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_9
                            province_group = tradenode_9
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.atlantic_mexico
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.atlantic_mexico
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_atlantic_mexico
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.atlantic_mexico = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_atlantic_mexico
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_atlantic_mexico
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.132
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.632
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.532
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.432
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.132
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.632
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.532
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.432
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.atlantic_mexico = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Northern Brazil
	option = {
		name = MEC_Expeditions.003.north_brazil
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:north_brazil"
		trigger = {
			MEC_Expeditions_available_north_brazil_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_north_brazil }
		}
		ai_chance = {
			factor = 600
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.north_brazil
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_46
                            province_group = tradenode_46
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.north_brazil
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.north_brazil
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_north_brazil
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.north_brazil = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_north_brazil
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_north_brazil
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.133
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.633
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.533
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.433
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.133
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.633
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.533
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.433
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.north_brazil = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Southern Brazil
	option = {
		name = MEC_Expeditions.003.south_brazil
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:south_brazil"
		trigger = {
			MEC_Expeditions_available_south_brazil_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_south_brazil }
		}
		ai_chance = {
			factor = 600
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.south_brazil
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_17
                            province_group = tradenode_17
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.south_brazil
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.south_brazil
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_south_brazil
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.south_brazil = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_south_brazil
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_south_brazil
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.134
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.634
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.534
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.434
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.134
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.634
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.534
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.434
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.south_brazil = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to the Gulf of Mexico
	option = {
		name = MEC_Expeditions.003.gulf_of_mexico
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:gulf_of_mexico"
		trigger = {
			MEC_Expeditions_available_gulf_of_mexico_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_gulf_of_mexico }
		}
		ai_chance = {
			factor = 200
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.gulf_of_mexico
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_65
                            province_group = tradenode_65
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_66
                            province_group = tradenode_66
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.gulf_of_mexico
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.gulf_of_mexico
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_gulf_of_mexico
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.gulf_of_mexico = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_gulf_of_mexico
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_gulf_of_mexico
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.135
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.635
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.535
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.435
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.135
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.635
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.535
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.435
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.gulf_of_mexico = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Southeastern America
	option = {
		name = MEC_Expeditions.003.southeastern_america
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:southeastern_america"
		trigger = {
			MEC_Expeditions_available_southeastern_america_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_southeastern_america }
		}
		ai_chance = {
			factor = 400
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.southeastern_america
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_69
                            province_group = tradenode_69
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_66
                            province_group = tradenode_66
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.southeastern_america
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.southeastern_america
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_southeastern_america
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.southeastern_america = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_southeastern_america
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_southeastern_america
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.136
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.636
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.536
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.436
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.136
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.636
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.536
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.436
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.southeastern_america = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Eastern America
	option = {
		name = MEC_Expeditions.003.eastern_america
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:eastern_america"
		trigger = {
			MEC_Expeditions_available_eastern_america_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_eastern_america }
		}
		ai_chance = {
			factor = 400
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.eastern_america
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_69
                            province_group = tradenode_69
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.eastern_america
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.eastern_america
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_eastern_america
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.eastern_america = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_eastern_america
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_eastern_america
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.137
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.637
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.537
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.437
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.137
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.637
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.537
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.437
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.eastern_america = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Canada
	option = {
		name = MEC_Expeditions.003.canada
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:canada"
		trigger = {
			MEC_Expeditions_available_canada_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_canada }
		}
		ai_chance = {
			factor = 200
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.canada
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_67
                            province_group = tradenode_67
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.canada
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.canada
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_canada
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.canada = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_canada
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_canada
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.138
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.638
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.538
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.438
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.138
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.638
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.538
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.438
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.canada = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to the North Atlantic
	option = {
		name = MEC_Expeditions.003.north_atlantic
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:north_atlantic"
		trigger = {
			MEC_Expeditions_available_north_atlantic_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_north_atlantic }
		}
		ai_chance = {
			factor = 50
			modifier = { # Less likely to send expeditions to places you already have a province
				factor = 0.1
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					province_group = expedition_provs.north_atlantic
					OR = {
						has_province_modifier = trading_post_province
						has_province_flag = TN_Natural
						}
					value = 1
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_85
                            province_group = tradenode_85
                        }
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_north_atlantic
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.north_atlantic = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_north_atlantic
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_north_atlantic
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.139
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.639
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.539
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.439
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.139
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.639
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.539
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.439
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.north_atlantic = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Hudson Bay
	option = {
		name = MEC_Expeditions.003.hudson_bay
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:hudson_bay"
		trigger = {
			MEC_Expeditions_available_hudson_bay_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_hudson_bay }
		}
		ai_chance = {
			factor = 100
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.hudson_bay
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_67
                            province_group = tradenode_67
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.hudson_bay
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.hudson_bay
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_hudson_bay
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.hudson_bay = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_hudson_bay
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_hudson_bay
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.140
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.640
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.540
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.440
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.140
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.640
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.540
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.440
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.hudson_bay = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Southern Cone
	option = {
		name = MEC_Expeditions.003.la_plata
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:la_plata"
		trigger = {
			MEC_Expeditions_available_la_plata_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_la_plata }
		}
		ai_chance = {
			factor = 100
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.la_plata
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_17
                            province_group = tradenode_17
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.la_plata
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.la_plata
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_la_plata
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.la_plata = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_la_plata
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_la_plata
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.141
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.641
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.541
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.441
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.141
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.641
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.541
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.441
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.la_plata = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to California
	option = {
		name = MEC_Expeditions.003.california
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:california"
		trigger = {
			MEC_Expeditions_available_california_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_california }
		}
		ai_chance = {
			factor = 100
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.california
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_8
                            province_group = tradenode_8
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.california
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.california
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_california
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.california = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_california
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_california
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.142
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.642
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.542
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.442
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.142
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.642
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.542
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.442
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.california = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Alaska
	option = {
		name = MEC_Expeditions.003.alaska
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:alaska"
		trigger = {
			MEC_Expeditions_available_alaska_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_alaska }
		}
		ai_chance = {
			factor = 100
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.alaska
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_8
                            province_group = tradenode_8
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.alaska
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.alaska
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_alaska
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.alaska = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_alaska
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_alaska
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.143
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.643
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.543
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.443
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.143
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.643
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.543
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.443
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.alaska = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Pacific Mexico
	option = {
		name = MEC_Expeditions.003.pacific_mexico
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:pacific_mexico"
		trigger = {
			MEC_Expeditions_available_pacific_mexico_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_pacific_mexico }
		}
		ai_chance = {
			factor = 800
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.pacific_mexico
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_9
                            province_group = tradenode_9
                        }
					}
				}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_65
                            province_group = tradenode_65
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.pacific_mexico
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.pacific_mexico
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_pacific_mexico
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.pacific_mexico = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_pacific_mexico
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_pacific_mexico
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.144
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.644
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.544
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.444
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.144
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.644
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.544
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.444
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.pacific_mexico = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Pacific Central America
	option = {
		name = MEC_Expeditions.003.pacific_central_america
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:pacific_central_america"
		trigger = {
			MEC_Expeditions_available_pacific_central_america_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_pacific_central_america }
		}
		ai_chance = {
			factor = 1200
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.pacific_central_america
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_45
                            province_group = tradenode_45
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.pacific_central_america
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.pacific_central_america
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_pacific_central_america
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.pacific_central_america = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_pacific_central_america
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_pacific_central_america
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.145
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.645
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.545
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.445
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.145
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.645
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.545
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.445
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.pacific_central_america = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Peru
	option = {
		name = MEC_Expeditions.003.peru
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:peru"
		trigger = {
			MEC_Expeditions_available_peru_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_peru }
		}
		ai_chance = {
			factor = 2400
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.peru
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_16
                            province_group = tradenode_16
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.peru
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.peru
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_peru
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.peru = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_peru
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_peru
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.146
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.646
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.546
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.446
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.146
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.646
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.546
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.446
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.peru = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	# Option for sending Expedition to Chile
	option = {
		name = MEC_Expeditions.003.chile
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:selected expedition to:chile"
		trigger = {
			MEC_Expeditions_available_chile_trigger = yes
			NOT = { has_country_flag = MEC_Expeditions_sent_chile }
		}
		ai_chance = {
			factor = 400
			modifier = { # More likely to send expeditions to places you already have a province
				factor = 5
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 1
					province_group = expedition_provs.chile
				}
			}
			modifier = { # Less likely to send expeditions to places you have no trade node connection with
				factor = 0 
				NOT = {is_year = 1650}
				NOT = {
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 1
                        OR = {
                            province_group = tradenode_mult_16
                            province_group = tradenode_16
                        }
					}
				}
			}
			modifier = { # Stop AI from sending expeditions to colonial regions already populated by another colonisers
				factor = 0.02
				calc_true_if = {
					all_province = {
						province_group=expedition_provs.chile
						NOT = {country_or_non_sovereign_subject_holds = ROOT}
						owner = {
							OR = {
								is_colonial_nation = yes
								is_former_colonial_nation = yes
								has_idea = exploration_ideas_1
							}
						}
					}
					amount = 2
				}
				NOT={
					num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
						value = 2
						province_group = expedition_provs.chile
					}
				}
			}
			modifier = { # Far less likely to send expeditions to places you failed a takeover attempt at
				factor = 0.1
				has_country_modifier = MEC_Modifier_Expedition_Failed_chile
			}
			modifier = { # Stop AI from loosing expeditions of provinces owned by comparable nations
				factor = 0.05
				expedition_provs.chile = {
					type = all 
					is_empty = no
					owner = { check_key = { lhs = tech_mil which = ROOT } }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = {
				name = MEC_Modifier_Expedition_chile
				duration = 242
			}
			clr_country_flag = MEC_Expeditions_sent_british_isles
			clr_country_flag = MEC_Expeditions_sent_northern_europe
			clr_country_flag = MEC_Expeditions_sent_france
			clr_country_flag = MEC_Expeditions_sent_iberia
			clr_country_flag = MEC_Expeditions_sent_iberian_islands
			clr_country_flag = MEC_Expeditions_sent_northwest_africa
			clr_country_flag = MEC_Expeditions_sent_west_africa
			clr_country_flag = MEC_Expeditions_sent_gulf_of_guinea
			clr_country_flag = MEC_Expeditions_sent_central_africa
			clr_country_flag = MEC_Expeditions_sent_south_africa
			clr_country_flag = MEC_Expeditions_sent_east_africa
			clr_country_flag = MEC_Expeditions_sent_indian_ocean
			clr_country_flag = MEC_Expeditions_sent_arabia
			clr_country_flag = MEC_Expeditions_sent_western_india
			clr_country_flag = MEC_Expeditions_sent_southern_india
			clr_country_flag = MEC_Expeditions_sent_eastern_india
			clr_country_flag = MEC_Expeditions_sent_malacca
			clr_country_flag = MEC_Expeditions_sent_southeast_asia
			clr_country_flag = MEC_Expeditions_sent_indonesia
			clr_country_flag = MEC_Expeditions_sent_philippines
			clr_country_flag = MEC_Expeditions_sent_papua
			clr_country_flag = MEC_Expeditions_sent_australia
			clr_country_flag = MEC_Expeditions_sent_pacific_islands
			clr_country_flag = MEC_Expeditions_sent_southern_china
			clr_country_flag = MEC_Expeditions_sent_northern_china
			clr_country_flag = MEC_Expeditions_sent_korea
			clr_country_flag = MEC_Expeditions_sent_japan
			clr_country_flag = MEC_Expeditions_sent_cuba
			clr_country_flag = MEC_Expeditions_sent_hispaniola
			clr_country_flag = MEC_Expeditions_sent_caribbean
			clr_country_flag = MEC_Expeditions_sent_atlantic_colombia
			clr_country_flag = MEC_Expeditions_sent_guyana
			clr_country_flag = MEC_Expeditions_sent_atlantic_mexico
			clr_country_flag = MEC_Expeditions_sent_north_brazil
			clr_country_flag = MEC_Expeditions_sent_south_brazil
			clr_country_flag = MEC_Expeditions_sent_gulf_of_mexico
			clr_country_flag = MEC_Expeditions_sent_southeastern_america
			clr_country_flag = MEC_Expeditions_sent_eastern_america
			clr_country_flag = MEC_Expeditions_sent_canada
			clr_country_flag = MEC_Expeditions_sent_north_atlantic
			clr_country_flag = MEC_Expeditions_sent_hudson_bay
			clr_country_flag = MEC_Expeditions_sent_la_plata
			clr_country_flag = MEC_Expeditions_sent_california
			clr_country_flag = MEC_Expeditions_sent_alaska
			clr_country_flag = MEC_Expeditions_sent_pacific_mexico
			clr_country_flag = MEC_Expeditions_sent_pacific_central_america
			clr_country_flag = MEC_Expeditions_sent_peru
			clr_country_flag = MEC_Expeditions_sent_chile

			set_country_flag = MEC_Expeditions_sent_chile
		}
		if = {
			limit = {
				has_idea = colonialism_ideas_1
			}
			random_list = {
				80 = {
					country_event = {
						id = MEC_Expeditions.147
						days = 242 random = 50
					}
				}
				10 = {
					country_event = {
						id = MEC_Expeditions.647
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.547
						days = 242 random = 50
					}
				}
				5 = {
					country_event = {
						id = MEC_Expeditions.447
						days = 242 random = 50
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					country_event = {
						id = MEC_Expeditions.147
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.647
						days = 242 random = 50
					}
				}
				15 = {
					country_event = {
						id = MEC_Expeditions.547
						days = 242 random = 50
					}
				}
				30 = {
					country_event = {
						id = MEC_Expeditions.447
						days = 242 random = 50
					}
				}
			}
		}
		expedition_provs.chile = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
	after = {
		if = {
			limit = {
				NOT = {
					has_idea = colonialism_ideas_1
				}
			}
			set_country_flag = MEC_Expeditions_skip_year
		}
		ROOT = {change_key = { lhs = tech_mil value = 5 }}
	}
}
############################################################################################################
##################################        Expedition Arrival       #########################################
############################################################################################################

# Arrivals of Expedition to the British Isles
country_event = {
	id = MEC_Expeditions.100
	title = MEC_Expeditions.100.title
	desc = MEC_Expeditions.100.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.british_isles = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.british_isles
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.300
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.300
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.400
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_british_isles
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.300
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.400
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_british_isles
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.300
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.400
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_british_isles
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.300
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.400
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_british_isles
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.300
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.400
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_british_isles
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.300
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.400
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_british_isles
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.300
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.400
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_british_isles
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.700
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_british_isles
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.200
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.400
				days = 0
			}
		}
		expedition_provs.british_isles = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Northern Europe
country_event = {
	id = MEC_Expeditions.101
	title = MEC_Expeditions.101.title
	desc = MEC_Expeditions.101.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.northern_europe = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.northern_europe
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.301
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.301
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.401
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_europe
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.301
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.401
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_europe
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.301
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.401
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_europe
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.301
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.401
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_europe
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.301
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.401
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_europe
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.301
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.401
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_europe
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.301
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.401
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_europe
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.701
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_northern_europe
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.201
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.401
				days = 0
			}
		}
		expedition_provs.northern_europe = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to France
country_event = {
	id = MEC_Expeditions.102
	title = MEC_Expeditions.102.title
	desc = MEC_Expeditions.102.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.france = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.france
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.302
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.302
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.402
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_france
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.302
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.402
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_france
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.302
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.402
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_france
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.302
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.402
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_france
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.302
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.402
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_france
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.302
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.402
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_france
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.302
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.402
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_france
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.702
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_france
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.202
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.402
				days = 0
			}
		}
		expedition_provs.france = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Iberia
country_event = {
	id = MEC_Expeditions.103
	title = MEC_Expeditions.103.title
	desc = MEC_Expeditions.103.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.iberia = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.iberia
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.303
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.303
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.403
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberia
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.303
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.403
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.303
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.403
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.303
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.403
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.303
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.403
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.303
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.403
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.303
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.403
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.703
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_iberia
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.203
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.403
				days = 0
			}
		}
		expedition_provs.iberia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to the Iberian Islands
country_event = {
	id = MEC_Expeditions.104
	title = MEC_Expeditions.104.title
	desc = MEC_Expeditions.104.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.iberian_islands = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.iberian_islands
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.304
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.304
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.404
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberian_islands
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.304
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.404
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberian_islands
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.304
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.404
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberian_islands
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.304
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.404
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberian_islands
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.304
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.404
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberian_islands
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.304
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.404
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberian_islands
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.304
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.404
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_iberian_islands
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.704
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_iberian_islands
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.204
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.404
				days = 0
			}
		}
		expedition_provs.iberian_islands = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Northwest Africa
country_event = {
	id = MEC_Expeditions.105
	title = MEC_Expeditions.105.title
	desc = MEC_Expeditions.105.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.northwest_africa = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.northwest_africa
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.305
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.305
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.405
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northwest_africa
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.305
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.405
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northwest_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.305
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.405
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northwest_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.305
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.405
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northwest_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.305
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.405
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northwest_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.305
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.405
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northwest_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.305
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.405
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northwest_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.705
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_northwest_africa
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.205
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.405
				days = 0
			}
		}
		expedition_provs.northwest_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to West Africa
country_event = {
	id = MEC_Expeditions.106
	title = MEC_Expeditions.106.title
	desc = MEC_Expeditions.106.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.west_africa = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.west_africa
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.306
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.306
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.406
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_west_africa
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.306
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.406
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_west_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.306
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.406
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_west_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.306
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.406
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_west_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.306
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.406
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_west_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.306
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.406
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_west_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.306
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.406
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_west_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.706
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_west_africa
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.206
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.406
				days = 0
			}
		}
		expedition_provs.west_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to the Gulf of Guinea
country_event = {
	id = MEC_Expeditions.107
	title = MEC_Expeditions.107.title
	desc = MEC_Expeditions.107.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.gulf_of_guinea = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.gulf_of_guinea
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.307
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.307
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.407
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.307
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.407
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.307
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.407
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.307
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.407
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.307
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.407
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.307
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.407
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.307
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.407
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.707
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.207
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.407
				days = 0
			}
		}
		expedition_provs.gulf_of_guinea = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Central Africa
country_event = {
	id = MEC_Expeditions.108
	title = MEC_Expeditions.108.title
	desc = MEC_Expeditions.108.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.central_africa = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.central_africa
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.308
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.308
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.408
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_central_africa
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.308
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.408
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_central_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.308
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.408
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_central_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.308
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.408
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_central_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.308
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.408
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_central_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.308
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.408
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_central_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.308
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.408
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_central_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.708
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_central_africa
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.208
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.408
				days = 0
			}
		}
		expedition_provs.central_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to South Africa
country_event = {
	id = MEC_Expeditions.109
	title = MEC_Expeditions.109.title
	desc = MEC_Expeditions.109.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.south_africa = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.south_africa
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.309
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.309
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.409
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_africa
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.309
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.409
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.309
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.409
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.309
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.409
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.309
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.409
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.309
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.409
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.309
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.409
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.709
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_south_africa
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.209
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.409
				days = 0
			}
		}
		expedition_provs.south_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to East Africa
country_event = {
	id = MEC_Expeditions.110
	title = MEC_Expeditions.110.title
	desc = MEC_Expeditions.110.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.east_africa = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.east_africa
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.310
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.310
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.410
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_east_africa
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.310
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.410
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_east_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.310
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.410
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_east_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.310
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.410
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_east_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.310
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.410
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_east_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.310
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.410
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_east_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.310
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.410
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_east_africa
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.710
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_east_africa
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.210
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.410
				days = 0
			}
		}
		expedition_provs.east_africa = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to the Indian Ocean
country_event = {
	id = MEC_Expeditions.111
	title = MEC_Expeditions.111.title
	desc = MEC_Expeditions.111.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.indian_ocean = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.indian_ocean
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.311
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.311
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.411
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indian_ocean
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.311
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.411
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indian_ocean
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.311
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.411
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indian_ocean
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.311
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.411
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indian_ocean
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.311
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.411
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indian_ocean
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.311
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.411
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indian_ocean
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.311
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.411
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indian_ocean
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.711
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_indian_ocean
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.211
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.411
				days = 0
			}
		}
		expedition_provs.indian_ocean = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Arabia
country_event = {
	id = MEC_Expeditions.112
	title = MEC_Expeditions.112.title
	desc = MEC_Expeditions.112.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.arabia = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.arabia
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.312
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.312
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.412
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_arabia
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.312
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.412
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_arabia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.312
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.412
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_arabia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.312
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.412
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_arabia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.312
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.412
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_arabia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.312
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.412
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_arabia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.312
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.412
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_arabia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.712
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_arabia
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.212
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.412
				days = 0
			}
		}
		expedition_provs.arabia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Western India
country_event = {
	id = MEC_Expeditions.113
	title = MEC_Expeditions.113.title
	desc = MEC_Expeditions.113.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.western_india = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.western_india
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.313
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.313
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.413
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_western_india
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.313
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.413
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_western_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.313
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.413
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_western_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.313
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.413
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_western_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.313
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.413
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_western_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.313
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.413
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_western_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.313
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.413
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_western_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.713
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_western_india
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.213
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.413
				days = 0
			}
		}
		expedition_provs.western_india = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Southern India
country_event = {
	id = MEC_Expeditions.114
	title = MEC_Expeditions.114.title
	desc = MEC_Expeditions.114.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.southern_india = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.southern_india
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.314
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.314
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.414
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_india
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.314
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.414
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.314
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.414
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.314
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.414
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.314
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.414
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.314
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.414
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.314
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.414
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.714
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_southern_india
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.214
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.414
				days = 0
			}
		}
		expedition_provs.southern_india = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Eastern India
country_event = {
	id = MEC_Expeditions.115
	title = MEC_Expeditions.115.title
	desc = MEC_Expeditions.115.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.eastern_india = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.eastern_india
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.315
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.315
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.415
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_india
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.315
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.415
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.315
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.415
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.315
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.415
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.315
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.415
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.315
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.415
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.315
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.415
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_india
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.715
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_eastern_india
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.215
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.415
				days = 0
			}
		}
		expedition_provs.eastern_india = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Malacca
country_event = {
	id = MEC_Expeditions.116
	title = MEC_Expeditions.116.title
	desc = MEC_Expeditions.116.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.malacca = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.malacca
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.316
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.316
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.416
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_malacca
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.316
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.416
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_malacca
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.316
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.416
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_malacca
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.316
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.416
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_malacca
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.316
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.416
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_malacca
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.316
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.416
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_malacca
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.316
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.416
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_malacca
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.716
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_malacca
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.216
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.416
				days = 0
			}
		}
		expedition_provs.malacca = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Southeast Asia
country_event = {
	id = MEC_Expeditions.117
	title = MEC_Expeditions.117.title
	desc = MEC_Expeditions.117.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.southeast_asia = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.southeast_asia
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.317
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.317
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.417
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeast_asia
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.317
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.417
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeast_asia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.317
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.417
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeast_asia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.317
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.417
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeast_asia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.317
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.417
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeast_asia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.317
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.417
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeast_asia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.317
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.417
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeast_asia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.717
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_southeast_asia
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.217
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.417
				days = 0
			}
		}
		expedition_provs.southeast_asia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Indonesia
country_event = {
	id = MEC_Expeditions.118
	title = MEC_Expeditions.118.title
	desc = MEC_Expeditions.118.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.indonesia = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.indonesia
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.318
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.318
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.418
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indonesia
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.318
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.418
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indonesia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.318
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.418
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indonesia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.318
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.418
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indonesia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.318
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.418
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indonesia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.318
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.418
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indonesia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.318
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.418
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_indonesia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.718
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_indonesia
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.218
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.418
				days = 0
			}
		}
		expedition_provs.indonesia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to the Philippines
country_event = {
	id = MEC_Expeditions.119
	title = MEC_Expeditions.119.title
	desc = MEC_Expeditions.119.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.philippines = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.philippines
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.319
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.319
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.419
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_philippines
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.319
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.419
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_philippines
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.319
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.419
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_philippines
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.319
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.419
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_philippines
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.319
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.419
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_philippines
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.319
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.419
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_philippines
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.319
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.419
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_philippines
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.719
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_philippines
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.219
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.419
				days = 0
			}
		}
		expedition_provs.philippines = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Papua New Guinea
country_event = {
	id = MEC_Expeditions.120
	title = MEC_Expeditions.120.title
	desc = MEC_Expeditions.120.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.papua = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.papua
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.320
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.320
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.420
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_papua
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.320
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.420
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_papua
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.320
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.420
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_papua
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.320
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.420
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_papua
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.320
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.420
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_papua
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.320
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.420
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_papua
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.320
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.420
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_papua
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.720
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_papua
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.220
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.420
				days = 0
			}
		}
		expedition_provs.papua = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Australia
country_event = {
	id = MEC_Expeditions.121
	title = MEC_Expeditions.121.title
	desc = MEC_Expeditions.121.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.australia = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.australia
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.321
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.321
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.421
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_australia
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.321
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.421
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_australia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.321
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.421
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_australia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.321
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.421
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_australia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.321
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.421
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_australia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.321
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.421
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_australia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.321
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.421
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_australia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.721
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_australia
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.221
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.421
				days = 0
			}
		}
		expedition_provs.australia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to the Pacific Islands
country_event = {
	id = MEC_Expeditions.122
	title = MEC_Expeditions.122.title
	desc = MEC_Expeditions.122.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.pacific_islands = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.pacific_islands
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.322
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.322
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.422
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_islands
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.322
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.422
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_islands
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.322
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.422
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_islands
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.322
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.422
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_islands
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.322
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.422
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_islands
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.322
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.422
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_islands
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.322
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.422
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_islands
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.722
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_pacific_islands
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.222
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.422
				days = 0
			}
		}
		expedition_provs.pacific_islands = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Southern China
country_event = {
	id = MEC_Expeditions.123
	title = MEC_Expeditions.123.title
	desc = MEC_Expeditions.123.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.southern_china = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.southern_china
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.323
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.323
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.423
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_china
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.323
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.423
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_china
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.323
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.423
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_china
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.323
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.423
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_china
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.323
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.423
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_china
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.323
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.423
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_china
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.323
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.423
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southern_china
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.723
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_southern_china
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.223
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.423
				days = 0
			}
		}
		expedition_provs.southern_china = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Northern China
country_event = {
	id = MEC_Expeditions.124
	title = MEC_Expeditions.124.title
	desc = MEC_Expeditions.124.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.northern_china = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.northern_china
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.324
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.324
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.424
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_china
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.324
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.424
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_china
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.324
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.424
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_china
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.324
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.424
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_china
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.324
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.424
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_china
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.324
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.424
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_china
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.324
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.424
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_northern_china
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.724
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_northern_china
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.224
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.424
				days = 0
			}
		}
		expedition_provs.northern_china = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Korea
country_event = {
	id = MEC_Expeditions.125
	title = MEC_Expeditions.125.title
	desc = MEC_Expeditions.125.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.korea = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.korea
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.325
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.325
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.425
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_korea
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.325
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.425
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_korea
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.325
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.425
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_korea
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.325
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.425
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_korea
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.325
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.425
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_korea
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.325
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.425
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_korea
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.325
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.425
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_korea
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.725
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_korea
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.225
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.425
				days = 0
			}
		}
		expedition_provs.korea = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Japan
country_event = {
	id = MEC_Expeditions.126
	title = MEC_Expeditions.126.title
	desc = MEC_Expeditions.126.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.japan = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.japan
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.326
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.326
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.426
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_japan
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.326
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.426
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_japan
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.326
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.426
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_japan
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.326
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.426
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_japan
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.326
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.426
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_japan
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.326
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.426
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_japan
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.326
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.426
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_japan
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.726
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_japan
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.226
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.426
				days = 0
			}
		}
		expedition_provs.japan = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Cuba
country_event = {
	id = MEC_Expeditions.127
	title = MEC_Expeditions.127.title
	desc = MEC_Expeditions.127.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.cuba = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.cuba
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.327
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.327
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.427
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_cuba
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.327
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.427
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_cuba
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.327
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.427
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_cuba
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.327
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.427
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_cuba
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.327
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.427
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_cuba
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.327
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.427
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_cuba
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.327
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.427
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_cuba
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.727
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_cuba
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.227
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.427
				days = 0
			}
		}
		expedition_provs.cuba = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Hispaniola
country_event = {
	id = MEC_Expeditions.128
	title = MEC_Expeditions.128.title
	desc = MEC_Expeditions.128.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.hispaniola = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.hispaniola
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.328
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.328
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.428
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hispaniola
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.328
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.428
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hispaniola
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.328
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.428
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hispaniola
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.328
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.428
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hispaniola
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.328
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.428
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hispaniola
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.328
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.428
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hispaniola
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.328
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.428
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hispaniola
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.728
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_hispaniola
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.228
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.428
				days = 0
			}
		}
		expedition_provs.hispaniola = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Caribbean
country_event = {
	id = MEC_Expeditions.129
	title = MEC_Expeditions.129.title
	desc = MEC_Expeditions.129.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.caribbean = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.caribbean
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.329
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.329
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.429
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_caribbean
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.329
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.429
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_caribbean
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.329
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.429
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_caribbean
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.329
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.429
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_caribbean
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.329
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.429
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_caribbean
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.329
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.429
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_caribbean
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.329
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.429
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_caribbean
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.729
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_caribbean
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.229
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.429
				days = 0
			}
		}
		expedition_provs.caribbean = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Atlantic Colombia
country_event = {
	id = MEC_Expeditions.130
	title = MEC_Expeditions.130.title
	desc = MEC_Expeditions.130.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.atlantic_colombia = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.atlantic_colombia
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.330
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.330
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.430
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.330
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.430
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.330
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.430
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.330
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.430
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.330
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.430
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.330
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.430
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.330
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.430
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.730
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_atlantic_colombia
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.230
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.430
				days = 0
			}
		}
		expedition_provs.atlantic_colombia = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Guyana
country_event = {
	id = MEC_Expeditions.131
	title = MEC_Expeditions.131.title
	desc = MEC_Expeditions.131.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.guyana = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.guyana
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.331
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.331
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.431
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_guyana
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.331
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.431
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_guyana
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.331
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.431
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_guyana
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.331
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.431
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_guyana
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.331
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.431
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_guyana
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.331
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.431
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_guyana
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.331
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.431
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_guyana
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.731
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_guyana
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.231
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.431
				days = 0
			}
		}
		expedition_provs.guyana = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Atlantic Mexico
country_event = {
	id = MEC_Expeditions.132
	title = MEC_Expeditions.132.title
	desc = MEC_Expeditions.132.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.atlantic_mexico = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.atlantic_mexico
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.332
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.332
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.432
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.332
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.432
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.332
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.432
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.332
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.432
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.332
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.432
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.332
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.432
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.332
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.432
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.732
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_atlantic_mexico
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.232
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.432
				days = 0
			}
		}
		expedition_provs.atlantic_mexico = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Northern Brazil
country_event = {
	id = MEC_Expeditions.133
	title = MEC_Expeditions.133.title
	desc = MEC_Expeditions.133.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.north_brazil = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.north_brazil
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.333
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.333
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.433
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_brazil
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.333
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.433
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_brazil
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.333
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.433
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_brazil
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.333
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.433
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_brazil
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.333
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.433
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_brazil
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.333
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.433
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_brazil
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.333
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.433
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_brazil
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.733
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_north_brazil
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.233
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.433
				days = 0
			}
		}
		expedition_provs.north_brazil = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Southern Brazil
country_event = {
	id = MEC_Expeditions.134
	title = MEC_Expeditions.134.title
	desc = MEC_Expeditions.134.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.south_brazil = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.south_brazil
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.334
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.334
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.434
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_brazil
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.334
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.434
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_brazil
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.334
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.434
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_brazil
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.334
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.434
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_brazil
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.334
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.434
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_brazil
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.334
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.434
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_brazil
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.334
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.434
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_south_brazil
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.734
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_south_brazil
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.234
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.434
				days = 0
			}
		}
		expedition_provs.south_brazil = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to the Gulf of Mexico
country_event = {
	id = MEC_Expeditions.135
	title = MEC_Expeditions.135.title
	desc = MEC_Expeditions.135.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.gulf_of_mexico = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.gulf_of_mexico
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.335
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.335
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.435
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.335
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.435
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.335
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.435
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.335
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.435
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.335
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.435
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.335
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.435
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.335
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.435
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.735
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.235
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.435
				days = 0
			}
		}
		expedition_provs.gulf_of_mexico = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Southeastern America
country_event = {
	id = MEC_Expeditions.136
	title = MEC_Expeditions.136.title
	desc = MEC_Expeditions.136.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.southeastern_america = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.southeastern_america
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.336
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.336
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.436
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeastern_america
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.336
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.436
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeastern_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.336
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.436
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeastern_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.336
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.436
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeastern_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.336
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.436
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeastern_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.336
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.436
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeastern_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.336
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.436
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_southeastern_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.736
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_southeastern_america
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.236
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.436
				days = 0
			}
		}
		expedition_provs.southeastern_america = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Eastern America
country_event = {
	id = MEC_Expeditions.137
	title = MEC_Expeditions.137.title
	desc = MEC_Expeditions.137.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.eastern_america = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.eastern_america
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.337
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.337
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.437
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_america
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.337
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.437
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.337
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.437
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.337
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.437
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.337
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.437
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.337
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.437
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.337
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.437
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_eastern_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.737
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_eastern_america
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.237
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.437
				days = 0
			}
		}
		expedition_provs.eastern_america = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Canada
country_event = {
	id = MEC_Expeditions.138
	title = MEC_Expeditions.138.title
	desc = MEC_Expeditions.138.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.canada = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.canada
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.338
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.338
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.438
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_canada
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.338
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.438
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_canada
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.338
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.438
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_canada
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.338
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.438
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_canada
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.338
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.438
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_canada
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.338
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.438
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_canada
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.338
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.438
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_canada
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.738
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_canada
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.238
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.438
				days = 0
			}
		}
		expedition_provs.canada = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to the North Atlantic
country_event = {
	id = MEC_Expeditions.139
	title = MEC_Expeditions.139.title
	desc = MEC_Expeditions.139.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.north_atlantic = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.north_atlantic
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.339
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.339
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.439
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_atlantic
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.339
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.439
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_atlantic
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.339
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.439
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_atlantic
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.339
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.439
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_atlantic
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.339
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.439
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_atlantic
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.339
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.439
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_atlantic
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.339
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.439
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_north_atlantic
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.739
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_north_atlantic
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.239
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.439
				days = 0
			}
		}
		expedition_provs.north_atlantic = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Hudson Bay
country_event = {
	id = MEC_Expeditions.140
	title = MEC_Expeditions.140.title
	desc = MEC_Expeditions.140.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.hudson_bay = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.hudson_bay
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.340
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.340
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.440
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hudson_bay
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.340
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.440
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hudson_bay
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.340
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.440
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hudson_bay
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.340
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.440
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hudson_bay
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.340
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.440
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hudson_bay
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.340
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.440
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hudson_bay
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.340
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.440
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_hudson_bay
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.740
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_hudson_bay
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.240
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.440
				days = 0
			}
		}
		expedition_provs.hudson_bay = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Southern Cone
country_event = {
	id = MEC_Expeditions.141
	title = MEC_Expeditions.141.title
	desc = MEC_Expeditions.141.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.la_plata = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.la_plata
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.341
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.341
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.441
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_la_plata
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.341
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.441
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_la_plata
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.341
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.441
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_la_plata
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.341
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.441
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_la_plata
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.341
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.441
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_la_plata
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.341
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.441
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_la_plata
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.341
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.441
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_la_plata
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.741
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_la_plata
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.241
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.441
				days = 0
			}
		}
		expedition_provs.la_plata = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to California
country_event = {
	id = MEC_Expeditions.142
	title = MEC_Expeditions.142.title
	desc = MEC_Expeditions.142.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.california = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.california
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.342
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.342
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.442
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_california
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.342
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.442
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_california
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.342
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.442
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_california
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.342
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.442
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_california
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.342
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.442
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_california
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.342
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.442
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_california
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.342
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.442
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_california
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.742
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_california
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.242
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.442
				days = 0
			}
		}
		expedition_provs.california = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Alaska
country_event = {
	id = MEC_Expeditions.143
	title = MEC_Expeditions.143.title
	desc = MEC_Expeditions.143.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.alaska = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.alaska
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.343
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.343
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.443
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_alaska
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.343
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.443
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_alaska
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.343
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.443
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_alaska
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.343
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.443
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_alaska
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.343
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.443
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_alaska
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.343
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.443
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_alaska
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.343
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.443
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_alaska
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.743
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_alaska
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.243
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.443
				days = 0
			}
		}
		expedition_provs.alaska = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Pacific Mexico
country_event = {
	id = MEC_Expeditions.144
	title = MEC_Expeditions.144.title
	desc = MEC_Expeditions.144.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.pacific_mexico = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.pacific_mexico
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.344
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.344
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.444
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.344
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.444
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.344
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.444
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.344
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.444
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.344
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.444
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.344
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.444
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.344
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.444
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.744
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_pacific_mexico
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.244
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.444
				days = 0
			}
		}
		expedition_provs.pacific_mexico = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Pacific Central America
country_event = {
	id = MEC_Expeditions.145
	title = MEC_Expeditions.145.title
	desc = MEC_Expeditions.145.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.pacific_central_america = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.pacific_central_america
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.345
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.345
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.445
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.345
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.445
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.345
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.445
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.345
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.445
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.345
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.445
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.345
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.445
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.345
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.445
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.745
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_pacific_central_america
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.245
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.445
				days = 0
			}
		}
		expedition_provs.pacific_central_america = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Peru
country_event = {
	id = MEC_Expeditions.146
	title = MEC_Expeditions.146.title
	desc = MEC_Expeditions.146.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.peru = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.peru
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.346
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.346
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.446
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_peru
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.346
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.446
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_peru
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.346
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.446
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_peru
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.346
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.446
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_peru
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.346
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.446
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_peru
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.346
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.446
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_peru
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.346
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.446
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_peru
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.746
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_peru
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.246
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.446
				days = 0
			}
		}
		expedition_provs.peru = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
# Arrivals of Expedition to Chile
country_event = {
	id = MEC_Expeditions.147
	title = MEC_Expeditions.147.title
	desc = MEC_Expeditions.147.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = MEC_Expeditions.arrival
		if = { # Have to check again in case of change while expedition was in progress
			limit = { 
				expedition_provs.chile = {
					MEC_Expeditions_eligible_province_trigger = yes
				}
			}
			set_key = { # Counter for loop
				lhs = Tmp_7
				value = 20
			}
			set_key = { # High initial value to guarantee first province will be lower
				lhs = Tmp_8
				value = 1000
			}
			while = {
				limit = { # Exit loop when counter is below 1
					check_key = {
						lhs = Tmp_7
						value = 1
					}
				}
			    if = { # if best value is negative (aka empty with feature)
			        limit = {
			            NOT = {
                            check_key = {
                                lhs = Tmp_8
                                value = 0
                            }
                        }
			        }
			        # Multiply best value by 5 and then add (it's negative) to loop counter
			        set_key = {
			            lhs = Tmp_6
			            which = Tmp_8
			        }
			        multiply_key = { 
			            lhs = Tmp_6
			            value = 5
			        }
			        change_key = { 
			            lhs = Tmp_7
			            which = Tmp_6
			        }
			    }
			    else = {
                    subtract_key = { # Reduce loop counter
                        lhs = Tmp_7
                        value = 1
                    }
				}
				random_province = {  # In province group, not owned by sender or their subjects, and doesn't have truce with owner
					limit = { 
						province_group = expedition_provs.chile
						MEC_Expeditions_eligible_province_trigger = yes
					}
					MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    set_key = { # Copy current best number from country into this scope
                        lhs = Tmp_8
                        which = ROOT
                    }
                    if = { # If the current province number is better target (lower number) then set it as the new target
                        limit = { # 8 < 2
                            NOT = { 
                                check_key = { 
                                    lhs = Tmp_9
                                    which = Tmp_8
                                }
                            }
                        }
                        save_event_target_as = MEC_Expedition_Target_Province
                        set_key = { # Overwrite the number in this scope
                            lhs = Tmp_8
                            which = Tmp_9
                        }
                        ROOT = { # Copy the overwrite to the country scope
                            set_key = {
                                lhs = Tmp_8
                                which = PREV
                            }
                        }
					}
				}
			} 
			event_target:MEC_Expedition_Target_Province = { # Call the landing event on the province that was found to be best
			    if = { # If player has selected to always fight, skip landing event
			        limit = {
			            is_empty = no
			            owner = {
			                has_country_flag = MEC_Expeditions_always_fight
			            }
			        }
			        export_to_key = { # Expedition sender mil tech
                        lhs = MEC_Expeditions_Comparison
                        value = mil_tech
                        who = FROM
                    }
                    MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
                    subtract_key = {
                        lhs = MEC_Expeditions_Comparison
                        which = Tmp_9
                    }
		            if = { # Use MEC_Expeditions_Comparison as success chance
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 10
					        }
					    }
					    FROM = { # 100%
					        country_event = { # Success
					            id = MEC_Expeditions.347
					            days = 0
					        }
					    } 
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 9
					        }
					    }
					    random_list = {
					        90 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.347
					                    days = 0
					                }
					            } 
					        }
					        10 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.447
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_chile
					                        duration = 7300 # 20 years
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 8
					        }
					    }
					    random_list = {
					        80 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.347
					                    days = 0
					                }
					            } 
					        }
					        20 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.447
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_chile
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 7
					        }
					    }
					    random_list = {
					        70 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.347
					                    days = 0
					                }
					            } 
					        }
					        30 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.447
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_chile
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 6
					        }
					    }
					    random_list = {
					        60 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.347
					                    days = 0
					                }
					            } 
					        }
					        40 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.447
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_chile
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 5
					        }
					    }
					    random_list = {
					        50 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.347
					                    days = 0
					                }
					            } 
					        }
					        50 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.447
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_chile
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 4
					        }
					    }
					    random_list = {
					        40 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.347
					                    days = 0
					                }
					            } 
					        }
					        60 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.447
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_chile
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else_if = {
					    limit = {
					        check_key = {
					            lhs = MEC_Expeditions_Comparison
					            value = 3
					        }
					    }
					    random_list = {
					        30 = {
					            FROM = {
					                country_event = { # Success
					                    id = MEC_Expeditions.347
					                    days = 0
					                }
					            } 
					        }
					        70 = {
					            FROM = {
					                country_event = { # Failure
					                    id = MEC_Expeditions.447
					                    days = 0
					                }
					                hidden_effect = {
					                    add_country_modifier = {
					                        name = MEC_Modifier_Expedition_Failed_chile
					                        duration = 3650
					                        hidden = yes
					                    }
					                }
					            }
					        }
					    }
					}
					else = {
					    FROM = {
					        country_event = { # Failure
					            id = MEC_Expeditions.747
					            days = 0
					        }
					        hidden_effect = {
					            add_country_modifier = {
					                name = MEC_Modifier_Expedition_Failed_chile
					                duration = 3650
					                hidden = yes
					            }
					        }
					    }
					}
  
			    }
			    else = {
                    province_event = { # Call landing event
                        id = MEC_Expeditions.247
                        days = 0
                    }
				}
			}
		} 
		else = {
			country_event = { # Call failure event
				id = MEC_Expeditions.447
				days = 0
			}
		}
		expedition_provs.chile = {
			clr_province_flag = MEC_Expeditions_owned_by_sender_or_subjects
		}
	}
}
############################################################################################################
##################################        Expedition Landings       #########################################
############################################################################################################

# Landings of Expedition to the British Isles
province_event = { # Called on province being colonized
	id = MEC_Expeditions.200
	title = MEC_Expeditions.200.title
	desc = MEC_Expeditions.200.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.300
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.300
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.700
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_british_isles
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.300
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.300
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.400
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_british_isles
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.700
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_british_isles
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.300
				days = 0
			}
		}
	}
}
# Landings of Expedition to Northern Europe
province_event = { # Called on province being colonized
	id = MEC_Expeditions.201
	title = MEC_Expeditions.201.title
	desc = MEC_Expeditions.201.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.301
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.301
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.701
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_northern_europe
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.301
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.301
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.401
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_europe
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.701
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_northern_europe
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.301
				days = 0
			}
		}
	}
}
# Landings of Expedition to France
province_event = { # Called on province being colonized
	id = MEC_Expeditions.202
	title = MEC_Expeditions.202.title
	desc = MEC_Expeditions.202.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.302
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.302
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.702
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_france
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.302
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.302
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.402
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_france
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.702
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_france
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.302
				days = 0
			}
		}
	}
}
# Landings of Expedition to Iberia
province_event = { # Called on province being colonized
	id = MEC_Expeditions.203
	title = MEC_Expeditions.203.title
	desc = MEC_Expeditions.203.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.303
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.303
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.703
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_iberia
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.303
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.303
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.403
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.703
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_iberia
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.303
				days = 0
			}
		}
	}
}
# Landings of Expedition to the Iberian Islands
province_event = { # Called on province being colonized
	id = MEC_Expeditions.204
	title = MEC_Expeditions.204.title
	desc = MEC_Expeditions.204.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.304
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.304
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.704
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_iberian_islands
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.304
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.304
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.404
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_iberian_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.704
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_iberian_islands
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.304
				days = 0
			}
		}
	}
}
# Landings of Expedition to Northwest Africa
province_event = { # Called on province being colonized
	id = MEC_Expeditions.205
	title = MEC_Expeditions.205.title
	desc = MEC_Expeditions.205.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.305
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.305
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.705
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_northwest_africa
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.305
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.305
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.405
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northwest_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.705
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_northwest_africa
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.305
				days = 0
			}
		}
	}
}
# Landings of Expedition to West Africa
province_event = { # Called on province being colonized
	id = MEC_Expeditions.206
	title = MEC_Expeditions.206.title
	desc = MEC_Expeditions.206.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.306
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.306
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.706
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_west_africa
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.306
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.306
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.406
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_west_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.706
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_west_africa
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.306
				days = 0
			}
		}
	}
}
# Landings of Expedition to the Gulf of Guinea
province_event = { # Called on province being colonized
	id = MEC_Expeditions.207
	title = MEC_Expeditions.207.title
	desc = MEC_Expeditions.207.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.307
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.307
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.707
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.307
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.307
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.407
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.707
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_gulf_of_guinea
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.307
				days = 0
			}
		}
	}
}
# Landings of Expedition to Central Africa
province_event = { # Called on province being colonized
	id = MEC_Expeditions.208
	title = MEC_Expeditions.208.title
	desc = MEC_Expeditions.208.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.308
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.308
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.708
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_central_africa
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.308
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.308
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.408
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_central_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.708
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_central_africa
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.308
				days = 0
			}
		}
	}
}
# Landings of Expedition to South Africa
province_event = { # Called on province being colonized
	id = MEC_Expeditions.209
	title = MEC_Expeditions.209.title
	desc = MEC_Expeditions.209.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.309
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.309
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.709
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_south_africa
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.309
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.309
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.409
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.709
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_south_africa
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.309
				days = 0
			}
		}
	}
}
# Landings of Expedition to East Africa
province_event = { # Called on province being colonized
	id = MEC_Expeditions.210
	title = MEC_Expeditions.210.title
	desc = MEC_Expeditions.210.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.310
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.310
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.710
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_east_africa
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.310
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.310
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.410
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_east_africa
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.710
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_east_africa
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.310
				days = 0
			}
		}
	}
}
# Landings of Expedition to the Indian Ocean
province_event = { # Called on province being colonized
	id = MEC_Expeditions.211
	title = MEC_Expeditions.211.title
	desc = MEC_Expeditions.211.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.311
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.311
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.711
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_indian_ocean
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.311
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.311
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.411
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indian_ocean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.711
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_indian_ocean
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.311
				days = 0
			}
		}
	}
}
# Landings of Expedition to Arabia
province_event = { # Called on province being colonized
	id = MEC_Expeditions.212
	title = MEC_Expeditions.212.title
	desc = MEC_Expeditions.212.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.312
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.312
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.712
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_arabia
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.312
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.312
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.412
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_arabia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.712
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_arabia
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.312
				days = 0
			}
		}
	}
}
# Landings of Expedition to Western India
province_event = { # Called on province being colonized
	id = MEC_Expeditions.213
	title = MEC_Expeditions.213.title
	desc = MEC_Expeditions.213.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.313
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.313
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.713
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_western_india
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.313
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.313
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.413
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_western_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.713
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_western_india
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.313
				days = 0
			}
		}
	}
}
# Landings of Expedition to Southern India
province_event = { # Called on province being colonized
	id = MEC_Expeditions.214
	title = MEC_Expeditions.214.title
	desc = MEC_Expeditions.214.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.314
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.314
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.714
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_southern_india
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.314
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.314
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.414
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.714
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_southern_india
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.314
				days = 0
			}
		}
	}
}
# Landings of Expedition to Eastern India
province_event = { # Called on province being colonized
	id = MEC_Expeditions.215
	title = MEC_Expeditions.215.title
	desc = MEC_Expeditions.215.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.315
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.315
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.715
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_eastern_india
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.315
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.315
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.415
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_india
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.715
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_eastern_india
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.315
				days = 0
			}
		}
	}
}
# Landings of Expedition to Malacca
province_event = { # Called on province being colonized
	id = MEC_Expeditions.216
	title = MEC_Expeditions.216.title
	desc = MEC_Expeditions.216.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.316
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.316
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.716
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_malacca
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.316
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.316
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.416
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_malacca
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.716
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_malacca
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.316
				days = 0
			}
		}
	}
}
# Landings of Expedition to Southeast Asia
province_event = { # Called on province being colonized
	id = MEC_Expeditions.217
	title = MEC_Expeditions.217.title
	desc = MEC_Expeditions.217.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.317
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.317
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.717
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_southeast_asia
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.317
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.317
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.417
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeast_asia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.717
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_southeast_asia
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.317
				days = 0
			}
		}
	}
}
# Landings of Expedition to Indonesia
province_event = { # Called on province being colonized
	id = MEC_Expeditions.218
	title = MEC_Expeditions.218.title
	desc = MEC_Expeditions.218.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.318
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.318
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.718
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_indonesia
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.318
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.318
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.418
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_indonesia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.718
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_indonesia
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.318
				days = 0
			}
		}
	}
}
# Landings of Expedition to the Philippines
province_event = { # Called on province being colonized
	id = MEC_Expeditions.219
	title = MEC_Expeditions.219.title
	desc = MEC_Expeditions.219.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.319
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.319
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.719
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_philippines
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.319
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.319
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.419
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_philippines
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.719
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_philippines
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.319
				days = 0
			}
		}
	}
}
# Landings of Expedition to Papua New Guinea
province_event = { # Called on province being colonized
	id = MEC_Expeditions.220
	title = MEC_Expeditions.220.title
	desc = MEC_Expeditions.220.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.320
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.320
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.720
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_papua
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.320
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.320
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.420
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_papua
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.720
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_papua
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.320
				days = 0
			}
		}
	}
}
# Landings of Expedition to Australia
province_event = { # Called on province being colonized
	id = MEC_Expeditions.221
	title = MEC_Expeditions.221.title
	desc = MEC_Expeditions.221.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.321
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.321
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.721
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_australia
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.321
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.321
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.421
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_australia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.721
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_australia
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.321
				days = 0
			}
		}
	}
}
# Landings of Expedition to the Pacific Islands
province_event = { # Called on province being colonized
	id = MEC_Expeditions.222
	title = MEC_Expeditions.222.title
	desc = MEC_Expeditions.222.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.322
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.322
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.722
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_pacific_islands
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.322
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.322
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.422
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_islands
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.722
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_pacific_islands
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.322
				days = 0
			}
		}
	}
}
# Landings of Expedition to Southern China
province_event = { # Called on province being colonized
	id = MEC_Expeditions.223
	title = MEC_Expeditions.223.title
	desc = MEC_Expeditions.223.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.323
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.323
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.723
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_southern_china
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.323
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.323
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.423
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.723
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_southern_china
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.323
				days = 0
			}
		}
	}
}
# Landings of Expedition to Northern China
province_event = { # Called on province being colonized
	id = MEC_Expeditions.224
	title = MEC_Expeditions.224.title
	desc = MEC_Expeditions.224.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.324
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.324
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.724
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_northern_china
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.324
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.324
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.424
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_northern_china
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.724
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_northern_china
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.324
				days = 0
			}
		}
	}
}
# Landings of Expedition to Korea
province_event = { # Called on province being colonized
	id = MEC_Expeditions.225
	title = MEC_Expeditions.225.title
	desc = MEC_Expeditions.225.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.325
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.325
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.725
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_korea
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.325
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.325
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.425
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_korea
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.725
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_korea
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.325
				days = 0
			}
		}
	}
}
# Landings of Expedition to Japan
province_event = { # Called on province being colonized
	id = MEC_Expeditions.226
	title = MEC_Expeditions.226.title
	desc = MEC_Expeditions.226.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.326
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.326
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.726
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_japan
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.326
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.326
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.426
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_japan
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.726
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_japan
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.326
				days = 0
			}
		}
	}
}
# Landings of Expedition to Cuba
province_event = { # Called on province being colonized
	id = MEC_Expeditions.227
	title = MEC_Expeditions.227.title
	desc = MEC_Expeditions.227.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.327
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.327
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.727
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_cuba
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.327
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.327
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.427
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_cuba
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.727
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_cuba
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.327
				days = 0
			}
		}
	}
}
# Landings of Expedition to Hispaniola
province_event = { # Called on province being colonized
	id = MEC_Expeditions.228
	title = MEC_Expeditions.228.title
	desc = MEC_Expeditions.228.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.328
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.328
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.728
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_hispaniola
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.328
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.328
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.428
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hispaniola
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.728
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_hispaniola
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.328
				days = 0
			}
		}
	}
}
# Landings of Expedition to Caribbean
province_event = { # Called on province being colonized
	id = MEC_Expeditions.229
	title = MEC_Expeditions.229.title
	desc = MEC_Expeditions.229.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.329
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.329
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.729
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_caribbean
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.329
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.329
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.429
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_caribbean
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.729
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_caribbean
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.329
				days = 0
			}
		}
	}
}
# Landings of Expedition to Atlantic Colombia
province_event = { # Called on province being colonized
	id = MEC_Expeditions.230
	title = MEC_Expeditions.230.title
	desc = MEC_Expeditions.230.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.330
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.330
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.730
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.330
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.330
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.430
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.730
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_atlantic_colombia
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.330
				days = 0
			}
		}
	}
}
# Landings of Expedition to Guyana
province_event = { # Called on province being colonized
	id = MEC_Expeditions.231
	title = MEC_Expeditions.231.title
	desc = MEC_Expeditions.231.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.331
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.331
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.731
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_guyana
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.331
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.331
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.431
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_guyana
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.731
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_guyana
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.331
				days = 0
			}
		}
	}
}
# Landings of Expedition to Atlantic Mexico
province_event = { # Called on province being colonized
	id = MEC_Expeditions.232
	title = MEC_Expeditions.232.title
	desc = MEC_Expeditions.232.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.332
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.332
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.732
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.332
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.332
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.432
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.732
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_atlantic_mexico
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.332
				days = 0
			}
		}
	}
}
# Landings of Expedition to Northern Brazil
province_event = { # Called on province being colonized
	id = MEC_Expeditions.233
	title = MEC_Expeditions.233.title
	desc = MEC_Expeditions.233.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.333
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.333
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.733
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_north_brazil
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.333
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.333
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.433
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.733
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_north_brazil
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.333
				days = 0
			}
		}
	}
}
# Landings of Expedition to Southern Brazil
province_event = { # Called on province being colonized
	id = MEC_Expeditions.234
	title = MEC_Expeditions.234.title
	desc = MEC_Expeditions.234.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.334
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.334
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.734
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_south_brazil
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.334
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.334
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.434
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_south_brazil
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.734
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_south_brazil
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.334
				days = 0
			}
		}
	}
}
# Landings of Expedition to the Gulf of Mexico
province_event = { # Called on province being colonized
	id = MEC_Expeditions.235
	title = MEC_Expeditions.235.title
	desc = MEC_Expeditions.235.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.335
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.335
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.735
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.335
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.335
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.435
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.735
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_gulf_of_mexico
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.335
				days = 0
			}
		}
	}
}
# Landings of Expedition to Southeastern America
province_event = { # Called on province being colonized
	id = MEC_Expeditions.236
	title = MEC_Expeditions.236.title
	desc = MEC_Expeditions.236.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.336
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.336
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.736
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_southeastern_america
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.336
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.336
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.436
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_southeastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.736
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_southeastern_america
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.336
				days = 0
			}
		}
	}
}
# Landings of Expedition to Eastern America
province_event = { # Called on province being colonized
	id = MEC_Expeditions.237
	title = MEC_Expeditions.237.title
	desc = MEC_Expeditions.237.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.337
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.337
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.737
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_eastern_america
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.337
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.337
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.437
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_eastern_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.737
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_eastern_america
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.337
				days = 0
			}
		}
	}
}
# Landings of Expedition to Canada
province_event = { # Called on province being colonized
	id = MEC_Expeditions.238
	title = MEC_Expeditions.238.title
	desc = MEC_Expeditions.238.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.338
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.338
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.738
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_canada
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.338
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.338
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.438
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_canada
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.738
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_canada
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.338
				days = 0
			}
		}
	}
}
# Landings of Expedition to the North Atlantic
province_event = { # Called on province being colonized
	id = MEC_Expeditions.239
	title = MEC_Expeditions.239.title
	desc = MEC_Expeditions.239.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.339
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.339
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.739
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_north_atlantic
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.339
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.339
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.439
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_north_atlantic
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.739
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_north_atlantic
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.339
				days = 0
			}
		}
	}
}
# Landings of Expedition to Hudson Bay
province_event = { # Called on province being colonized
	id = MEC_Expeditions.240
	title = MEC_Expeditions.240.title
	desc = MEC_Expeditions.240.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.340
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.340
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.740
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_hudson_bay
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.340
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.340
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.440
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_hudson_bay
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.740
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_hudson_bay
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.340
				days = 0
			}
		}
	}
}
# Landings of Expedition to Southern Cone
province_event = { # Called on province being colonized
	id = MEC_Expeditions.241
	title = MEC_Expeditions.241.title
	desc = MEC_Expeditions.241.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.341
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.341
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.741
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_la_plata
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.341
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.341
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.441
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_la_plata
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.741
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_la_plata
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.341
				days = 0
			}
		}
	}
}
# Landings of Expedition to California
province_event = { # Called on province being colonized
	id = MEC_Expeditions.242
	title = MEC_Expeditions.242.title
	desc = MEC_Expeditions.242.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.342
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.342
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.742
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_california
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.342
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.342
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.442
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_california
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.742
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_california
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.342
				days = 0
			}
		}
	}
}
# Landings of Expedition to Alaska
province_event = { # Called on province being colonized
	id = MEC_Expeditions.243
	title = MEC_Expeditions.243.title
	desc = MEC_Expeditions.243.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.343
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.343
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.743
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_alaska
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.343
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.343
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.443
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_alaska
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.743
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_alaska
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.343
				days = 0
			}
		}
	}
}
# Landings of Expedition to Pacific Mexico
province_event = { # Called on province being colonized
	id = MEC_Expeditions.244
	title = MEC_Expeditions.244.title
	desc = MEC_Expeditions.244.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.344
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.344
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.744
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.344
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.344
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.444
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.744
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_pacific_mexico
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.344
				days = 0
			}
		}
	}
}
# Landings of Expedition to Pacific Central America
province_event = { # Called on province being colonized
	id = MEC_Expeditions.245
	title = MEC_Expeditions.245.title
	desc = MEC_Expeditions.245.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.345
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.345
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.745
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.345
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.345
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.445
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.745
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_pacific_central_america
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.345
				days = 0
			}
		}
	}
}
# Landings of Expedition to Peru
province_event = { # Called on province being colonized
	id = MEC_Expeditions.246
	title = MEC_Expeditions.246.title
	desc = MEC_Expeditions.246.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.346
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.346
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.746
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_peru
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.346
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.346
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.446
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_peru
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.746
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_peru
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.346
				days = 0
			}
		}
	}
}
# Landings of Expedition to Chile
province_event = { # Called on province being colonized
	id = MEC_Expeditions.247
	title = MEC_Expeditions.247.title
	desc = MEC_Expeditions.247.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_empty = no
				} # Note if make changes here also have to make changes to the similar section in the previous event
				export_to_key = { # Expedition sender mil tech
					lhs = MEC_Expeditions_Comparison
					value = mil_tech
					who = FROM
				}
				MEC_Expeditions_defence_calc_effect = yes # Sets Tmp 0-4, 9
				subtract_key = {
					lhs = MEC_Expeditions_Comparison
					which = Tmp_9
				}
				# Cap value between 0-10 for display purpose
                if = { # if >= 10 set to 10
                    limit = {
                        check_key = {
                            lhs = MEC_Expeditions_Comparison
                            value = 10
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 10
                    }
                }
                else_if = { # if < 0 set to 0
                    limit = {
                        NOT = {
                            check_key = {
                                lhs = MEC_Expeditions_Comparison
                                value = 0
                            }
                        }
                    }
                    set_key = {
                        lhs = MEC_Expeditions_Comparison
                        value = 0
                    }
                }
			}
		}
	}

	option = {
		name = MEC_Expeditions.colony
		trigger = {
			is_empty = yes
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.347
				days = 0
			}
		} 
	}
	option = {
		name = MEC_Expeditions.reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when more likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 6
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 5
				}
			}
			modifier = {
				factor = 6
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 4
				}
			}
			modifier = {
				factor = 10
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 3
				}
			}
			modifier = {
				factor = 16
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 2
				}
			}
			modifier = {
				factor = 20
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 1
				}
			}
			modifier = {
				factor = 100
				NOT = {
					check_key = {
						lhs = MEC_Expeditions_Comparison
						value = 1
					}
				}
			}
		}
		if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.347
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.747
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_chile
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.always_reject_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = {
		    factor = 0
		}
		owner = {
		    set_country_flag = MEC_Expeditions_always_fight
		}
        if = { # Use MEC_Expeditions_Comparison as success chance
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 10
		        }
		    }
		    FROM = { # 100%
		        country_event = { # Success
		            id = MEC_Expeditions.347
		            days = 0
		        }
		    } 
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 9
		        }
		    }
		    random_list = {
		        90 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        10 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 7300 # 20 years
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 8
		        }
		    }
		    random_list = {
		        80 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        20 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 7
		        }
		    }
		    random_list = {
		        70 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        30 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 6
		        }
		    }
		    random_list = {
		        60 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        40 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 5
		        }
		    }
		    random_list = {
		        50 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        50 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 4
		        }
		    }
		    random_list = {
		        40 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        60 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else_if = {
		    limit = {
		        check_key = {
		            lhs = MEC_Expeditions_Comparison
		            value = 3
		        }
		    }
		    random_list = {
		        30 = {
		            FROM = {
		                country_event = { # Success
		                    id = MEC_Expeditions.347
		                    days = 0
		                }
		            } 
		        }
		        70 = {
		            FROM = {
		                country_event = { # Failure
		                    id = MEC_Expeditions.447
		                    days = 0
		                }
		                hidden_effect = {
		                    add_country_modifier = {
		                        name = MEC_Modifier_Expedition_Failed_chile
		                        duration = 3650
		                        hidden = yes
		                    }
		                }
		            }
		        }
		    }
		}
		else = {
		    FROM = {
		        country_event = { # Failure
		            id = MEC_Expeditions.747
		            days = 0
		        }
		        hidden_effect = {
		            add_country_modifier = {
		                name = MEC_Modifier_Expedition_Failed_chile
		                duration = 3650
		                hidden = yes
		            }
		        }
		    }
		}

	}
	option = {
		name = MEC_Expeditions.accept_trade_fort
		trigger = {
			is_empty = no
		}
		ai_chance = { # Higher ai chance when less likely to fight off colonizers
			factor = 1
			modifier = {
				factor = 9
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 9
				}
			}
			modifier = {
				factor = 4
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 8
				}
			}
			modifier = {
				factor = 2
				check_key = {
					lhs = MEC_Expeditions_Comparison
					value = 7
				}
			}
		}
		owner = {
			add_treasury = 100
			add_truce_with = FROM
		}
		FROM = {
			country_event = { 
				id = MEC_Expeditions.347
				days = 0
			}
		}
	}
}
############################################################################################################
##################################        Expedition Success       #########################################
############################################################################################################

# Success of Expedition to the British Isles
country_event = {
	id = MEC_Expeditions.300
	title = MEC_Expeditions.300.title
	desc = MEC_Expeditions.300.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.british_isles_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:british_isles:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Northern Europe
country_event = {
	id = MEC_Expeditions.301
	title = MEC_Expeditions.301.title
	desc = MEC_Expeditions.301.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.northern_europe_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:northern_europe:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to France
country_event = {
	id = MEC_Expeditions.302
	title = MEC_Expeditions.302.title
	desc = MEC_Expeditions.302.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.france_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:france:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Iberia
country_event = {
	id = MEC_Expeditions.303
	title = MEC_Expeditions.303.title
	desc = MEC_Expeditions.303.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.iberia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:iberia:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to the Iberian Islands
country_event = {
	id = MEC_Expeditions.304
	title = MEC_Expeditions.304.title
	desc = MEC_Expeditions.304.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.iberian_islands_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:iberian_islands:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Northwest Africa
country_event = {
	id = MEC_Expeditions.305
	title = MEC_Expeditions.305.title
	desc = MEC_Expeditions.305.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.northwest_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:northwest_africa:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to West Africa
country_event = {
	id = MEC_Expeditions.306
	title = MEC_Expeditions.306.title
	desc = MEC_Expeditions.306.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.west_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:west_africa:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to the Gulf of Guinea
country_event = {
	id = MEC_Expeditions.307
	title = MEC_Expeditions.307.title
	desc = MEC_Expeditions.307.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.gulf_of_guinea_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:gulf_of_guinea:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Central Africa
country_event = {
	id = MEC_Expeditions.308
	title = MEC_Expeditions.308.title
	desc = MEC_Expeditions.308.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.central_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:central_africa:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to South Africa
country_event = {
	id = MEC_Expeditions.309
	title = MEC_Expeditions.309.title
	desc = MEC_Expeditions.309.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.south_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:south_africa:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to East Africa
country_event = {
	id = MEC_Expeditions.310
	title = MEC_Expeditions.310.title
	desc = MEC_Expeditions.310.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.east_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
        goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:east_africa:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
		hidden_effect = { MAM = { country_event = { id = flavor_mam.15 days = 1 } } }
	}
}
# Success of Expedition to the Indian Ocean
country_event = {
	id = MEC_Expeditions.311
	title = MEC_Expeditions.311.title
	desc = MEC_Expeditions.311.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.indian_ocean_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
        goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:indian_ocean:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
		hidden_effect = { MAM = { country_event = { id = flavor_mam.15 days = 1 } } }
	}
}
# Success of Expedition to Arabia
country_event = {
	id = MEC_Expeditions.312
	title = MEC_Expeditions.312.title
	desc = MEC_Expeditions.312.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.arabia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
        goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:arabia:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
		hidden_effect = { MAM = { country_event = { id = flavor_mam.15 days = 1 } } }
	}
}
# Success of Expedition to Western India
country_event = {
	id = MEC_Expeditions.313
	title = MEC_Expeditions.313.title
	desc = MEC_Expeditions.313.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.western_india_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
        goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:western_india:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
		hidden_effect = { MAM = { country_event = { id = flavor_mam.15 days = 1 } } }
	}
}
# Success of Expedition to Southern India
country_event = {
	id = MEC_Expeditions.314
	title = MEC_Expeditions.314.title
	desc = MEC_Expeditions.314.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.southern_india_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
        goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:southern_india:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
		hidden_effect = { MAM = { country_event = { id = flavor_mam.15 days = 1 } } }
	}
}
# Success of Expedition to Eastern India
country_event = {
	id = MEC_Expeditions.315
	title = MEC_Expeditions.315.title
	desc = MEC_Expeditions.315.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.eastern_india_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:eastern_india:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Malacca
country_event = {
	id = MEC_Expeditions.316
	title = MEC_Expeditions.316.title
	desc = MEC_Expeditions.316.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.malacca_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:malacca:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Southeast Asia
country_event = {
	id = MEC_Expeditions.317
	title = MEC_Expeditions.317.title
	desc = MEC_Expeditions.317.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.southeast_asia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:southeast_asia:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Indonesia
country_event = {
	id = MEC_Expeditions.318
	title = MEC_Expeditions.318.title
	desc = MEC_Expeditions.318.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.indonesia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:indonesia:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to the Philippines
country_event = {
	id = MEC_Expeditions.319
	title = MEC_Expeditions.319.title
	desc = MEC_Expeditions.319.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.philippines_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:philippines:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Papua New Guinea
country_event = {
	id = MEC_Expeditions.320
	title = MEC_Expeditions.320.title
	desc = MEC_Expeditions.320.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.papua_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:papua:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Australia
country_event = {
	id = MEC_Expeditions.321
	title = MEC_Expeditions.321.title
	desc = MEC_Expeditions.321.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.australia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:australia:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to the Pacific Islands
country_event = {
	id = MEC_Expeditions.322
	title = MEC_Expeditions.322.title
	desc = MEC_Expeditions.322.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.pacific_islands_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:pacific_islands:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Southern China
country_event = {
	id = MEC_Expeditions.323
	title = MEC_Expeditions.323.title
	desc = MEC_Expeditions.323.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.southern_china_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:southern_china:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Northern China
country_event = {
	id = MEC_Expeditions.324
	title = MEC_Expeditions.324.title
	desc = MEC_Expeditions.324.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.northern_china_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:northern_china:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Korea
country_event = {
	id = MEC_Expeditions.325
	title = MEC_Expeditions.325.title
	desc = MEC_Expeditions.325.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.korea_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:korea:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Japan
country_event = {
	id = MEC_Expeditions.326
	title = MEC_Expeditions.326.title
	desc = MEC_Expeditions.326.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.japan_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:japan:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Cuba
country_event = {
	id = MEC_Expeditions.327
	title = MEC_Expeditions.327.title
	desc = MEC_Expeditions.327.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.cuba_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:cuba:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Hispaniola
country_event = {
	id = MEC_Expeditions.328
	title = MEC_Expeditions.328.title
	desc = MEC_Expeditions.328.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.hispaniola_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:hispaniola:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Caribbean
country_event = {
	id = MEC_Expeditions.329
	title = MEC_Expeditions.329.title
	desc = MEC_Expeditions.329.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.caribbean_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:caribbean:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Atlantic Colombia
country_event = {
	id = MEC_Expeditions.330
	title = MEC_Expeditions.330.title
	desc = MEC_Expeditions.330.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.atlantic_colombia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:atlantic_colombia:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Guyana
country_event = {
	id = MEC_Expeditions.331
	title = MEC_Expeditions.331.title
	desc = MEC_Expeditions.331.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.guyana_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:guyana:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Atlantic Mexico
country_event = {
	id = MEC_Expeditions.332
	title = MEC_Expeditions.332.title
	desc = MEC_Expeditions.332.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.atlantic_mexico_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:atlantic_mexico:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Northern Brazil
country_event = {
	id = MEC_Expeditions.333
	title = MEC_Expeditions.333.title
	desc = MEC_Expeditions.333.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.north_brazil_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:north_brazil:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Southern Brazil
country_event = {
	id = MEC_Expeditions.334
	title = MEC_Expeditions.334.title
	desc = MEC_Expeditions.334.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.south_brazil_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:south_brazil:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to the Gulf of Mexico
country_event = {
	id = MEC_Expeditions.335
	title = MEC_Expeditions.335.title
	desc = MEC_Expeditions.335.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.gulf_of_mexico_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:gulf_of_mexico:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Southeastern America
country_event = {
	id = MEC_Expeditions.336
	title = MEC_Expeditions.336.title
	desc = MEC_Expeditions.336.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.southeastern_america_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:southeastern_america:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Eastern America
country_event = {
	id = MEC_Expeditions.337
	title = MEC_Expeditions.337.title
	desc = MEC_Expeditions.337.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.eastern_america_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:eastern_america:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Canada
country_event = {
	id = MEC_Expeditions.338
	title = MEC_Expeditions.338.title
	desc = MEC_Expeditions.338.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.canada_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:canada:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to the North Atlantic
country_event = {
	id = MEC_Expeditions.339
	title = MEC_Expeditions.339.title
	desc = MEC_Expeditions.339.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.north_atlantic_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:north_atlantic:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Hudson Bay
country_event = {
	id = MEC_Expeditions.340
	title = MEC_Expeditions.340.title
	desc = MEC_Expeditions.340.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.hudson_bay_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:hudson_bay:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Southern Cone
country_event = {
	id = MEC_Expeditions.341
	title = MEC_Expeditions.341.title
	desc = MEC_Expeditions.341.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.la_plata_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:la_plata:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to California
country_event = {
	id = MEC_Expeditions.342
	title = MEC_Expeditions.342.title
	desc = MEC_Expeditions.342.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.california_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:california:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Alaska
country_event = {
	id = MEC_Expeditions.343
	title = MEC_Expeditions.343.title
	desc = MEC_Expeditions.343.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.alaska_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:alaska:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Pacific Mexico
country_event = {
	id = MEC_Expeditions.344
	title = MEC_Expeditions.344.title
	desc = MEC_Expeditions.344.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.pacific_mexico_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:pacific_mexico:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Pacific Central America
country_event = {
	id = MEC_Expeditions.345
	title = MEC_Expeditions.345.title
	desc = MEC_Expeditions.345.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.pacific_central_america_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:pacific_central_america:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Peru
country_event = {
	id = MEC_Expeditions.346
	title = MEC_Expeditions.346.title
	desc = MEC_Expeditions.346.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.peru_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:peru:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
# Success of Expedition to Chile
country_event = {
	id = MEC_Expeditions.347
	title = MEC_Expeditions.347.title
	desc = MEC_Expeditions.347.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.chile_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
			event_target:MEC_Expedition_Target_Province = { # FROM is the province, ROOT is the expedition sender
				if = { # if it is a colony then they get a claim on the province they're losing
					limit = { # Non-colonies will have cores so don't need anything added
						is_colony = yes
					}
					add_claim = owner
				}
				add_territorial_core = ROOT 
				
				if = { # Change religion and culture if empty province not in trade company or in trade company with no population
					limit = {
						is_empty = yes
						has_province_flag = ColonyBecomesOwner
					} 
					change_religion = ROOT # Re-evaluate and probably change after religion rework is complete
					change_culture = ROOT
					ROOT = {
						capital_scope = {
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance1 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance2 which = PREV } }
							event_target:MEC_Expedition_Target_Province = { set_key = { lhs = Plague_Resistance4 which = PREV } }
						    
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance1 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance2 value = 3 } }
						    event_target:MEC_Expedition_Target_Province = { divide_key = { lhs = Plague_Resistance4 value = 3 } }
						}
						
                        if = {
                            limit = {
                                any_owned_province = {
                                    check_key = { lhs = Plague_SpawnChance4 value = 0.1 }
                                }
                            }                        
                            event_target:MEC_Expedition_Target_Province = {
                                if = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                                every_neighbor_province = {
                                    limit = {
                                        has_province_flag = possible_malaria
                                    }
                                    America_Malaria_Calculator = yes
                                }
                            }
                        }
                    }
                }
                # System for 'waking' up smallpox in America. 
                random_list = { 
                    1 = {
                        event_target:MEC_Expedition_Target_Province = {
                            if = {
                                limit = {
                                    continent = north_america                                                                 
                                }
                                if = {
                                    limit = {
                                        has_global_flag = not_namerica_smallpox
                                        superregion = east_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:North America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.221 days = 2555 random = 365 }
                                    }
                                }
                                else_if = {
                                    limit = {
                                        has_global_flag = not_camerica_smallpox
                                        superregion = central_america_superregion
                                    }
                                    every_neighbor_province = {
                                        limit = {
                                            NOT = {
                                                check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                                check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                            }
                                            owner = {
                                                OR = {
                                                    technology_group = andean
                                                    technology_group = mesoamerican
                                                    technology_group = south_american
                                                    technology_group = high_american
                                                }
                                            }
                                        }
                                        #log = "MEC_Expeditions:[GetYear]:Central America Smallpox Triggered from Expedition"
                                        province_event = { id = Plague_Spawner.222 days = 2555 random = 365 }
                                    }
                                }
                            }
                            else_if = {
                                limit = {
                                    continent = south_america
                                    has_global_flag = not_samerica_smallpox
                                }
                                every_neighbor_province = {
                                    limit = {
                                        NOT = {
                                            check_key = { lhs = Plague_SpawnChance2 value = 0.1 }
                                            check_key = { lhs = Plague_Resistance2 value = 0.1 }
                                        }
                                        owner = {
                                            OR = {
                                                technology_group = andean
                                                technology_group = mesoamerican
                                                technology_group = south_american
                                                technology_group = high_american
                                            }
                                        }
                                    }
                                    #log = "MEC_Expeditions:[GetYear]:South America Smallpox Triggered from Expedition"
                                    province_event = { id = Plague_Spawner.2 days = 2555 random = 365 }
                                }
                            }
                        }
                    }                      
                    2 = { 
                    }
                }                  
				if = { # If not empty add negative opinion for owner against expedition sender
					limit = {
						is_empty = no
					}
					#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:received negative opinion modifier from::[MEC_Expedition_Target_Province.Owner.GetName]"
					owner = {
						add_opinion = {
							who = ROOT
							modifier = MEC_Expeditions_taken_province
						}
					}
				}
				cede_province = ROOT
				if = { # if it is a colony then instantly finish it
					limit = {
						is_colony = yes
					}
					add_colonysize = 1000
				}
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.expedition_success
		goto = MEC_Expedition_Target_Province
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:successful expedition to:chile:[MEC_Expedition_Target_Province.GetName]"
		add_prestige = 3
	}
}
############################################################################################################
################################        Expedition Total Failure       #######################################
############################################################################################################

# Failure of Expedition to the British Isles
country_event = {
	id = MEC_Expeditions.400
	title = MEC_Expeditions.400.title
	desc = MEC_Expeditions.400.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:british_isles"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Northern Europe
country_event = {
	id = MEC_Expeditions.401
	title = MEC_Expeditions.401.title
	desc = MEC_Expeditions.401.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:northern_europe"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to France
country_event = {
	id = MEC_Expeditions.402
	title = MEC_Expeditions.402.title
	desc = MEC_Expeditions.402.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:france"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Iberia
country_event = {
	id = MEC_Expeditions.403
	title = MEC_Expeditions.403.title
	desc = MEC_Expeditions.403.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:iberia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to the Iberian Islands
country_event = {
	id = MEC_Expeditions.404
	title = MEC_Expeditions.404.title
	desc = MEC_Expeditions.404.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:iberian_islands"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Northwest Africa
country_event = {
	id = MEC_Expeditions.405
	title = MEC_Expeditions.405.title
	desc = MEC_Expeditions.405.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:northwest_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to West Africa
country_event = {
	id = MEC_Expeditions.406
	title = MEC_Expeditions.406.title
	desc = MEC_Expeditions.406.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:west_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to the Gulf of Guinea
country_event = {
	id = MEC_Expeditions.407
	title = MEC_Expeditions.407.title
	desc = MEC_Expeditions.407.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:gulf_of_guinea"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Central Africa
country_event = {
	id = MEC_Expeditions.408
	title = MEC_Expeditions.408.title
	desc = MEC_Expeditions.408.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:central_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to South Africa
country_event = {
	id = MEC_Expeditions.409
	title = MEC_Expeditions.409.title
	desc = MEC_Expeditions.409.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:south_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to East Africa
country_event = {
	id = MEC_Expeditions.410
	title = MEC_Expeditions.410.title
	desc = MEC_Expeditions.410.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:east_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to the Indian Ocean
country_event = {
	id = MEC_Expeditions.411
	title = MEC_Expeditions.411.title
	desc = MEC_Expeditions.411.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:indian_ocean"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Arabia
country_event = {
	id = MEC_Expeditions.412
	title = MEC_Expeditions.412.title
	desc = MEC_Expeditions.412.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:arabia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Western India
country_event = {
	id = MEC_Expeditions.413
	title = MEC_Expeditions.413.title
	desc = MEC_Expeditions.413.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:western_india"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Southern India
country_event = {
	id = MEC_Expeditions.414
	title = MEC_Expeditions.414.title
	desc = MEC_Expeditions.414.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:southern_india"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Eastern India
country_event = {
	id = MEC_Expeditions.415
	title = MEC_Expeditions.415.title
	desc = MEC_Expeditions.415.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:eastern_india"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Malacca
country_event = {
	id = MEC_Expeditions.416
	title = MEC_Expeditions.416.title
	desc = MEC_Expeditions.416.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:malacca"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Southeast Asia
country_event = {
	id = MEC_Expeditions.417
	title = MEC_Expeditions.417.title
	desc = MEC_Expeditions.417.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:southeast_asia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Indonesia
country_event = {
	id = MEC_Expeditions.418
	title = MEC_Expeditions.418.title
	desc = MEC_Expeditions.418.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:indonesia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to the Philippines
country_event = {
	id = MEC_Expeditions.419
	title = MEC_Expeditions.419.title
	desc = MEC_Expeditions.419.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:philippines"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Papua New Guinea
country_event = {
	id = MEC_Expeditions.420
	title = MEC_Expeditions.420.title
	desc = MEC_Expeditions.420.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:papua"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Australia
country_event = {
	id = MEC_Expeditions.421
	title = MEC_Expeditions.421.title
	desc = MEC_Expeditions.421.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:australia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to the Pacific Islands
country_event = {
	id = MEC_Expeditions.422
	title = MEC_Expeditions.422.title
	desc = MEC_Expeditions.422.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:pacific_islands"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Southern China
country_event = {
	id = MEC_Expeditions.423
	title = MEC_Expeditions.423.title
	desc = MEC_Expeditions.423.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:southern_china"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Northern China
country_event = {
	id = MEC_Expeditions.424
	title = MEC_Expeditions.424.title
	desc = MEC_Expeditions.424.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:northern_china"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Korea
country_event = {
	id = MEC_Expeditions.425
	title = MEC_Expeditions.425.title
	desc = MEC_Expeditions.425.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:korea"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Japan
country_event = {
	id = MEC_Expeditions.426
	title = MEC_Expeditions.426.title
	desc = MEC_Expeditions.426.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:japan"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Cuba
country_event = {
	id = MEC_Expeditions.427
	title = MEC_Expeditions.427.title
	desc = MEC_Expeditions.427.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:cuba"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Hispaniola
country_event = {
	id = MEC_Expeditions.428
	title = MEC_Expeditions.428.title
	desc = MEC_Expeditions.428.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:hispaniola"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Caribbean
country_event = {
	id = MEC_Expeditions.429
	title = MEC_Expeditions.429.title
	desc = MEC_Expeditions.429.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:caribbean"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Atlantic Colombia
country_event = {
	id = MEC_Expeditions.430
	title = MEC_Expeditions.430.title
	desc = MEC_Expeditions.430.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:atlantic_colombia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Guyana
country_event = {
	id = MEC_Expeditions.431
	title = MEC_Expeditions.431.title
	desc = MEC_Expeditions.431.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:guyana"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Atlantic Mexico
country_event = {
	id = MEC_Expeditions.432
	title = MEC_Expeditions.432.title
	desc = MEC_Expeditions.432.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:atlantic_mexico"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Northern Brazil
country_event = {
	id = MEC_Expeditions.433
	title = MEC_Expeditions.433.title
	desc = MEC_Expeditions.433.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:north_brazil"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Southern Brazil
country_event = {
	id = MEC_Expeditions.434
	title = MEC_Expeditions.434.title
	desc = MEC_Expeditions.434.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:south_brazil"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to the Gulf of Mexico
country_event = {
	id = MEC_Expeditions.435
	title = MEC_Expeditions.435.title
	desc = MEC_Expeditions.435.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:gulf_of_mexico"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Southeastern America
country_event = {
	id = MEC_Expeditions.436
	title = MEC_Expeditions.436.title
	desc = MEC_Expeditions.436.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:southeastern_america"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Eastern America
country_event = {
	id = MEC_Expeditions.437
	title = MEC_Expeditions.437.title
	desc = MEC_Expeditions.437.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:eastern_america"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Canada
country_event = {
	id = MEC_Expeditions.438
	title = MEC_Expeditions.438.title
	desc = MEC_Expeditions.438.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:canada"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to the North Atlantic
country_event = {
	id = MEC_Expeditions.439
	title = MEC_Expeditions.439.title
	desc = MEC_Expeditions.439.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:north_atlantic"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Hudson Bay
country_event = {
	id = MEC_Expeditions.440
	title = MEC_Expeditions.440.title
	desc = MEC_Expeditions.440.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:hudson_bay"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Southern Cone
country_event = {
	id = MEC_Expeditions.441
	title = MEC_Expeditions.441.title
	desc = MEC_Expeditions.441.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:la_plata"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to California
country_event = {
	id = MEC_Expeditions.442
	title = MEC_Expeditions.442.title
	desc = MEC_Expeditions.442.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:california"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Alaska
country_event = {
	id = MEC_Expeditions.443
	title = MEC_Expeditions.443.title
	desc = MEC_Expeditions.443.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:alaska"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Pacific Mexico
country_event = {
	id = MEC_Expeditions.444
	title = MEC_Expeditions.444.title
	desc = MEC_Expeditions.444.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:pacific_mexico"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Pacific Central America
country_event = {
	id = MEC_Expeditions.445
	title = MEC_Expeditions.445.title
	desc = MEC_Expeditions.445.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:pacific_central_america"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Peru
country_event = {
	id = MEC_Expeditions.446
	title = MEC_Expeditions.446.title
	desc = MEC_Expeditions.446.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:peru"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
# Failure of Expedition to Chile
country_event = {
	id = MEC_Expeditions.447
	title = MEC_Expeditions.447.title
	desc = MEC_Expeditions.447.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.total_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition totally failed:chile"
		ai_chance = {
			factor = 1
		}
		add_prestige = -3
	}
}
############################################################################################################
################################        Expedition Map Failure       #######################################
############################################################################################################

# Failure of Expedition to the British Isles
country_event = {
	id = MEC_Expeditions.500
	title = MEC_Expeditions.500.title
	desc = MEC_Expeditions.500.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:british_isles"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.british_isles_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Northern Europe
country_event = {
	id = MEC_Expeditions.501
	title = MEC_Expeditions.501.title
	desc = MEC_Expeditions.501.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:northern_europe"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.northern_europe_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to France
country_event = {
	id = MEC_Expeditions.502
	title = MEC_Expeditions.502.title
	desc = MEC_Expeditions.502.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:france"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.france_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Iberia
country_event = {
	id = MEC_Expeditions.503
	title = MEC_Expeditions.503.title
	desc = MEC_Expeditions.503.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:iberia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.iberia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Iberian Islands
country_event = {
	id = MEC_Expeditions.504
	title = MEC_Expeditions.504.title
	desc = MEC_Expeditions.504.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:iberian_islands"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.iberian_islands_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Northwest Africa
country_event = {
	id = MEC_Expeditions.505
	title = MEC_Expeditions.505.title
	desc = MEC_Expeditions.505.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:northwest_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.northwest_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to West Africa
country_event = {
	id = MEC_Expeditions.506
	title = MEC_Expeditions.506.title
	desc = MEC_Expeditions.506.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:west_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.west_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Gulf of Guinea
country_event = {
	id = MEC_Expeditions.507
	title = MEC_Expeditions.507.title
	desc = MEC_Expeditions.507.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:gulf_of_guinea"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.gulf_of_guinea_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Central Africa
country_event = {
	id = MEC_Expeditions.508
	title = MEC_Expeditions.508.title
	desc = MEC_Expeditions.508.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:central_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.central_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to South Africa
country_event = {
	id = MEC_Expeditions.509
	title = MEC_Expeditions.509.title
	desc = MEC_Expeditions.509.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:south_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.south_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to East Africa
country_event = {
	id = MEC_Expeditions.510
	title = MEC_Expeditions.510.title
	desc = MEC_Expeditions.510.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:east_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.east_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Indian Ocean
country_event = {
	id = MEC_Expeditions.511
	title = MEC_Expeditions.511.title
	desc = MEC_Expeditions.511.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:indian_ocean"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.indian_ocean_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Arabia
country_event = {
	id = MEC_Expeditions.512
	title = MEC_Expeditions.512.title
	desc = MEC_Expeditions.512.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:arabia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.arabia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Western India
country_event = {
	id = MEC_Expeditions.513
	title = MEC_Expeditions.513.title
	desc = MEC_Expeditions.513.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:western_india"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.western_india_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southern India
country_event = {
	id = MEC_Expeditions.514
	title = MEC_Expeditions.514.title
	desc = MEC_Expeditions.514.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:southern_india"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.southern_india_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Eastern India
country_event = {
	id = MEC_Expeditions.515
	title = MEC_Expeditions.515.title
	desc = MEC_Expeditions.515.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:eastern_india"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.eastern_india_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Malacca
country_event = {
	id = MEC_Expeditions.516
	title = MEC_Expeditions.516.title
	desc = MEC_Expeditions.516.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:malacca"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.malacca_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southeast Asia
country_event = {
	id = MEC_Expeditions.517
	title = MEC_Expeditions.517.title
	desc = MEC_Expeditions.517.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:southeast_asia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.southeast_asia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Indonesia
country_event = {
	id = MEC_Expeditions.518
	title = MEC_Expeditions.518.title
	desc = MEC_Expeditions.518.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:indonesia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.indonesia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Philippines
country_event = {
	id = MEC_Expeditions.519
	title = MEC_Expeditions.519.title
	desc = MEC_Expeditions.519.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:philippines"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.philippines_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Papua New Guinea
country_event = {
	id = MEC_Expeditions.520
	title = MEC_Expeditions.520.title
	desc = MEC_Expeditions.520.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:papua"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.papua_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Australia
country_event = {
	id = MEC_Expeditions.521
	title = MEC_Expeditions.521.title
	desc = MEC_Expeditions.521.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:australia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.australia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Pacific Islands
country_event = {
	id = MEC_Expeditions.522
	title = MEC_Expeditions.522.title
	desc = MEC_Expeditions.522.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:pacific_islands"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.pacific_islands_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southern China
country_event = {
	id = MEC_Expeditions.523
	title = MEC_Expeditions.523.title
	desc = MEC_Expeditions.523.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:southern_china"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.southern_china_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Northern China
country_event = {
	id = MEC_Expeditions.524
	title = MEC_Expeditions.524.title
	desc = MEC_Expeditions.524.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:northern_china"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.northern_china_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Korea
country_event = {
	id = MEC_Expeditions.525
	title = MEC_Expeditions.525.title
	desc = MEC_Expeditions.525.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:korea"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.korea_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Japan
country_event = {
	id = MEC_Expeditions.526
	title = MEC_Expeditions.526.title
	desc = MEC_Expeditions.526.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:japan"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.japan_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Cuba
country_event = {
	id = MEC_Expeditions.527
	title = MEC_Expeditions.527.title
	desc = MEC_Expeditions.527.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:cuba"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.cuba_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Hispaniola
country_event = {
	id = MEC_Expeditions.528
	title = MEC_Expeditions.528.title
	desc = MEC_Expeditions.528.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:hispaniola"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.hispaniola_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Caribbean
country_event = {
	id = MEC_Expeditions.529
	title = MEC_Expeditions.529.title
	desc = MEC_Expeditions.529.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:caribbean"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.caribbean_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Atlantic Colombia
country_event = {
	id = MEC_Expeditions.530
	title = MEC_Expeditions.530.title
	desc = MEC_Expeditions.530.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:atlantic_colombia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.atlantic_colombia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Guyana
country_event = {
	id = MEC_Expeditions.531
	title = MEC_Expeditions.531.title
	desc = MEC_Expeditions.531.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:guyana"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.guyana_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Atlantic Mexico
country_event = {
	id = MEC_Expeditions.532
	title = MEC_Expeditions.532.title
	desc = MEC_Expeditions.532.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:atlantic_mexico"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.atlantic_mexico_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Northern Brazil
country_event = {
	id = MEC_Expeditions.533
	title = MEC_Expeditions.533.title
	desc = MEC_Expeditions.533.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:north_brazil"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.north_brazil_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southern Brazil
country_event = {
	id = MEC_Expeditions.534
	title = MEC_Expeditions.534.title
	desc = MEC_Expeditions.534.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:south_brazil"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.south_brazil_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Gulf of Mexico
country_event = {
	id = MEC_Expeditions.535
	title = MEC_Expeditions.535.title
	desc = MEC_Expeditions.535.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:gulf_of_mexico"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.gulf_of_mexico_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southeastern America
country_event = {
	id = MEC_Expeditions.536
	title = MEC_Expeditions.536.title
	desc = MEC_Expeditions.536.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:southeastern_america"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.southeastern_america_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Eastern America
country_event = {
	id = MEC_Expeditions.537
	title = MEC_Expeditions.537.title
	desc = MEC_Expeditions.537.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:eastern_america"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.eastern_america_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Canada
country_event = {
	id = MEC_Expeditions.538
	title = MEC_Expeditions.538.title
	desc = MEC_Expeditions.538.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:canada"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.canada_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the North Atlantic
country_event = {
	id = MEC_Expeditions.539
	title = MEC_Expeditions.539.title
	desc = MEC_Expeditions.539.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:north_atlantic"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.north_atlantic_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Hudson Bay
country_event = {
	id = MEC_Expeditions.540
	title = MEC_Expeditions.540.title
	desc = MEC_Expeditions.540.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:hudson_bay"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.hudson_bay_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southern Cone
country_event = {
	id = MEC_Expeditions.541
	title = MEC_Expeditions.541.title
	desc = MEC_Expeditions.541.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:la_plata"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.la_plata_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to California
country_event = {
	id = MEC_Expeditions.542
	title = MEC_Expeditions.542.title
	desc = MEC_Expeditions.542.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:california"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.california_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Alaska
country_event = {
	id = MEC_Expeditions.543
	title = MEC_Expeditions.543.title
	desc = MEC_Expeditions.543.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:alaska"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.alaska_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Pacific Mexico
country_event = {
	id = MEC_Expeditions.544
	title = MEC_Expeditions.544.title
	desc = MEC_Expeditions.544.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:pacific_mexico"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.pacific_mexico_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Pacific Central America
country_event = {
	id = MEC_Expeditions.545
	title = MEC_Expeditions.545.title
	desc = MEC_Expeditions.545.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:pacific_central_america"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.pacific_central_america_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Peru
country_event = {
	id = MEC_Expeditions.546
	title = MEC_Expeditions.546.title
	desc = MEC_Expeditions.546.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:peru"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.peru_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Chile
country_event = {
	id = MEC_Expeditions.547
	title = MEC_Expeditions.547.title
	desc = MEC_Expeditions.547.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.map_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition map failed:chile"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.chile_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
############################################################################################################
################################        Expedition Trade Failure       #######################################
############################################################################################################

# Failure of Expedition to the British Isles
country_event = {
	id = MEC_Expeditions.600
	title = MEC_Expeditions.600.title
	desc = MEC_Expeditions.600.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:british_isles"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.british_isles_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Northern Europe
country_event = {
	id = MEC_Expeditions.601
	title = MEC_Expeditions.601.title
	desc = MEC_Expeditions.601.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:northern_europe"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.northern_europe_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to France
country_event = {
	id = MEC_Expeditions.602
	title = MEC_Expeditions.602.title
	desc = MEC_Expeditions.602.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:france"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.france_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Iberia
country_event = {
	id = MEC_Expeditions.603
	title = MEC_Expeditions.603.title
	desc = MEC_Expeditions.603.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:iberia"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.iberia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Iberian Islands
country_event = {
	id = MEC_Expeditions.604
	title = MEC_Expeditions.604.title
	desc = MEC_Expeditions.604.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:iberian_islands"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.iberian_islands_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Northwest Africa
country_event = {
	id = MEC_Expeditions.605
	title = MEC_Expeditions.605.title
	desc = MEC_Expeditions.605.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:northwest_africa"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.northwest_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to West Africa
country_event = {
	id = MEC_Expeditions.606
	title = MEC_Expeditions.606.title
	desc = MEC_Expeditions.606.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:west_africa"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.west_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Gulf of Guinea
country_event = {
	id = MEC_Expeditions.607
	title = MEC_Expeditions.607.title
	desc = MEC_Expeditions.607.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:gulf_of_guinea"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.gulf_of_guinea_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Central Africa
country_event = {
	id = MEC_Expeditions.608
	title = MEC_Expeditions.608.title
	desc = MEC_Expeditions.608.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:central_africa"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.central_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to South Africa
country_event = {
	id = MEC_Expeditions.609
	title = MEC_Expeditions.609.title
	desc = MEC_Expeditions.609.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:south_africa"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.south_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to East Africa
country_event = {
	id = MEC_Expeditions.610
	title = MEC_Expeditions.610.title
	desc = MEC_Expeditions.610.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:east_africa"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.east_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Indian Ocean
country_event = {
	id = MEC_Expeditions.611
	title = MEC_Expeditions.611.title
	desc = MEC_Expeditions.611.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:indian_ocean"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.indian_ocean_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Arabia
country_event = {
	id = MEC_Expeditions.612
	title = MEC_Expeditions.612.title
	desc = MEC_Expeditions.612.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:arabia"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.arabia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Western India
country_event = {
	id = MEC_Expeditions.613
	title = MEC_Expeditions.613.title
	desc = MEC_Expeditions.613.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:western_india"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.western_india_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southern India
country_event = {
	id = MEC_Expeditions.614
	title = MEC_Expeditions.614.title
	desc = MEC_Expeditions.614.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:southern_india"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.southern_india_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Eastern India
country_event = {
	id = MEC_Expeditions.615
	title = MEC_Expeditions.615.title
	desc = MEC_Expeditions.615.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:eastern_india"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.eastern_india_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Malacca
country_event = {
	id = MEC_Expeditions.616
	title = MEC_Expeditions.616.title
	desc = MEC_Expeditions.616.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:malacca"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.malacca_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southeast Asia
country_event = {
	id = MEC_Expeditions.617
	title = MEC_Expeditions.617.title
	desc = MEC_Expeditions.617.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:southeast_asia"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.southeast_asia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Indonesia
country_event = {
	id = MEC_Expeditions.618
	title = MEC_Expeditions.618.title
	desc = MEC_Expeditions.618.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:indonesia"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.indonesia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Philippines
country_event = {
	id = MEC_Expeditions.619
	title = MEC_Expeditions.619.title
	desc = MEC_Expeditions.619.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:philippines"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.philippines_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Papua New Guinea
country_event = {
	id = MEC_Expeditions.620
	title = MEC_Expeditions.620.title
	desc = MEC_Expeditions.620.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:papua"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.papua_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Australia
country_event = {
	id = MEC_Expeditions.621
	title = MEC_Expeditions.621.title
	desc = MEC_Expeditions.621.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:australia"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.australia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Pacific Islands
country_event = {
	id = MEC_Expeditions.622
	title = MEC_Expeditions.622.title
	desc = MEC_Expeditions.622.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:pacific_islands"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.pacific_islands_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southern China
country_event = {
	id = MEC_Expeditions.623
	title = MEC_Expeditions.623.title
	desc = MEC_Expeditions.623.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:southern_china"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.southern_china_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Northern China
country_event = {
	id = MEC_Expeditions.624
	title = MEC_Expeditions.624.title
	desc = MEC_Expeditions.624.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:northern_china"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.northern_china_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Korea
country_event = {
	id = MEC_Expeditions.625
	title = MEC_Expeditions.625.title
	desc = MEC_Expeditions.625.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:korea"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.korea_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Japan
country_event = {
	id = MEC_Expeditions.626
	title = MEC_Expeditions.626.title
	desc = MEC_Expeditions.626.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:japan"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.japan_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Cuba
country_event = {
	id = MEC_Expeditions.627
	title = MEC_Expeditions.627.title
	desc = MEC_Expeditions.627.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:cuba"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.cuba_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Hispaniola
country_event = {
	id = MEC_Expeditions.628
	title = MEC_Expeditions.628.title
	desc = MEC_Expeditions.628.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:hispaniola"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.hispaniola_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Caribbean
country_event = {
	id = MEC_Expeditions.629
	title = MEC_Expeditions.629.title
	desc = MEC_Expeditions.629.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:caribbean"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.caribbean_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Atlantic Colombia
country_event = {
	id = MEC_Expeditions.630
	title = MEC_Expeditions.630.title
	desc = MEC_Expeditions.630.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:atlantic_colombia"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.atlantic_colombia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Guyana
country_event = {
	id = MEC_Expeditions.631
	title = MEC_Expeditions.631.title
	desc = MEC_Expeditions.631.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:guyana"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.guyana_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Atlantic Mexico
country_event = {
	id = MEC_Expeditions.632
	title = MEC_Expeditions.632.title
	desc = MEC_Expeditions.632.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:atlantic_mexico"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.atlantic_mexico_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Northern Brazil
country_event = {
	id = MEC_Expeditions.633
	title = MEC_Expeditions.633.title
	desc = MEC_Expeditions.633.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:north_brazil"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.north_brazil_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southern Brazil
country_event = {
	id = MEC_Expeditions.634
	title = MEC_Expeditions.634.title
	desc = MEC_Expeditions.634.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:south_brazil"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.south_brazil_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Gulf of Mexico
country_event = {
	id = MEC_Expeditions.635
	title = MEC_Expeditions.635.title
	desc = MEC_Expeditions.635.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:gulf_of_mexico"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.gulf_of_mexico_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southeastern America
country_event = {
	id = MEC_Expeditions.636
	title = MEC_Expeditions.636.title
	desc = MEC_Expeditions.636.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:southeastern_america"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.southeastern_america_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Eastern America
country_event = {
	id = MEC_Expeditions.637
	title = MEC_Expeditions.637.title
	desc = MEC_Expeditions.637.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:eastern_america"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.eastern_america_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Canada
country_event = {
	id = MEC_Expeditions.638
	title = MEC_Expeditions.638.title
	desc = MEC_Expeditions.638.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:canada"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.canada_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the North Atlantic
country_event = {
	id = MEC_Expeditions.639
	title = MEC_Expeditions.639.title
	desc = MEC_Expeditions.639.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:north_atlantic"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.north_atlantic_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Hudson Bay
country_event = {
	id = MEC_Expeditions.640
	title = MEC_Expeditions.640.title
	desc = MEC_Expeditions.640.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:hudson_bay"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.hudson_bay_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southern Cone
country_event = {
	id = MEC_Expeditions.641
	title = MEC_Expeditions.641.title
	desc = MEC_Expeditions.641.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:la_plata"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.la_plata_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to California
country_event = {
	id = MEC_Expeditions.642
	title = MEC_Expeditions.642.title
	desc = MEC_Expeditions.642.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:california"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.california_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Alaska
country_event = {
	id = MEC_Expeditions.643
	title = MEC_Expeditions.643.title
	desc = MEC_Expeditions.643.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:alaska"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.alaska_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Pacific Mexico
country_event = {
	id = MEC_Expeditions.644
	title = MEC_Expeditions.644.title
	desc = MEC_Expeditions.644.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:pacific_mexico"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.pacific_mexico_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Pacific Central America
country_event = {
	id = MEC_Expeditions.645
	title = MEC_Expeditions.645.title
	desc = MEC_Expeditions.645.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:pacific_central_america"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.pacific_central_america_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Peru
country_event = {
	id = MEC_Expeditions.646
	title = MEC_Expeditions.646.title
	desc = MEC_Expeditions.646.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:peru"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.peru_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Chile
country_event = {
	id = MEC_Expeditions.647
	title = MEC_Expeditions.647.title
	desc = MEC_Expeditions.647.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.trade_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition trade failed:chile"
		ai_chance = {
			factor = 1
		}
		add_treasury = 20
		hidden_effect = {
			expedition_provs.chile_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
############################################################################################################
################################        Expedition No Attack Failure       #######################################
############################################################################################################

# Failure of Expedition to the British Isles
country_event = {
	id = MEC_Expeditions.700
	title = MEC_Expeditions.700.title
	desc = MEC_Expeditions.700.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:british_isles"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.british_isles_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Northern Europe
country_event = {
	id = MEC_Expeditions.701
	title = MEC_Expeditions.701.title
	desc = MEC_Expeditions.701.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:northern_europe"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.northern_europe_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to France
country_event = {
	id = MEC_Expeditions.702
	title = MEC_Expeditions.702.title
	desc = MEC_Expeditions.702.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:france"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.france_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Iberia
country_event = {
	id = MEC_Expeditions.703
	title = MEC_Expeditions.703.title
	desc = MEC_Expeditions.703.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:iberia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.iberia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Iberian Islands
country_event = {
	id = MEC_Expeditions.704
	title = MEC_Expeditions.704.title
	desc = MEC_Expeditions.704.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:iberian_islands"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.iberian_islands_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Northwest Africa
country_event = {
	id = MEC_Expeditions.705
	title = MEC_Expeditions.705.title
	desc = MEC_Expeditions.705.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:northwest_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.northwest_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to West Africa
country_event = {
	id = MEC_Expeditions.706
	title = MEC_Expeditions.706.title
	desc = MEC_Expeditions.706.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:west_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.west_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Gulf of Guinea
country_event = {
	id = MEC_Expeditions.707
	title = MEC_Expeditions.707.title
	desc = MEC_Expeditions.707.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:gulf_of_guinea"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.gulf_of_guinea_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Central Africa
country_event = {
	id = MEC_Expeditions.708
	title = MEC_Expeditions.708.title
	desc = MEC_Expeditions.708.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:central_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.central_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to South Africa
country_event = {
	id = MEC_Expeditions.709
	title = MEC_Expeditions.709.title
	desc = MEC_Expeditions.709.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:south_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.south_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to East Africa
country_event = {
	id = MEC_Expeditions.710
	title = MEC_Expeditions.710.title
	desc = MEC_Expeditions.710.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:east_africa"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.east_africa_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Indian Ocean
country_event = {
	id = MEC_Expeditions.711
	title = MEC_Expeditions.711.title
	desc = MEC_Expeditions.711.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:indian_ocean"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.indian_ocean_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Arabia
country_event = {
	id = MEC_Expeditions.712
	title = MEC_Expeditions.712.title
	desc = MEC_Expeditions.712.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:arabia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.arabia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Western India
country_event = {
	id = MEC_Expeditions.713
	title = MEC_Expeditions.713.title
	desc = MEC_Expeditions.713.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:western_india"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.western_india_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southern India
country_event = {
	id = MEC_Expeditions.714
	title = MEC_Expeditions.714.title
	desc = MEC_Expeditions.714.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:southern_india"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.southern_india_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Eastern India
country_event = {
	id = MEC_Expeditions.715
	title = MEC_Expeditions.715.title
	desc = MEC_Expeditions.715.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:eastern_india"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.eastern_india_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Malacca
country_event = {
	id = MEC_Expeditions.716
	title = MEC_Expeditions.716.title
	desc = MEC_Expeditions.716.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:malacca"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.malacca_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southeast Asia
country_event = {
	id = MEC_Expeditions.717
	title = MEC_Expeditions.717.title
	desc = MEC_Expeditions.717.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:southeast_asia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.southeast_asia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Indonesia
country_event = {
	id = MEC_Expeditions.718
	title = MEC_Expeditions.718.title
	desc = MEC_Expeditions.718.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:indonesia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.indonesia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Philippines
country_event = {
	id = MEC_Expeditions.719
	title = MEC_Expeditions.719.title
	desc = MEC_Expeditions.719.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:philippines"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.philippines_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Papua New Guinea
country_event = {
	id = MEC_Expeditions.720
	title = MEC_Expeditions.720.title
	desc = MEC_Expeditions.720.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:papua"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.papua_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Australia
country_event = {
	id = MEC_Expeditions.721
	title = MEC_Expeditions.721.title
	desc = MEC_Expeditions.721.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:australia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.australia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Pacific Islands
country_event = {
	id = MEC_Expeditions.722
	title = MEC_Expeditions.722.title
	desc = MEC_Expeditions.722.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:pacific_islands"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.pacific_islands_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southern China
country_event = {
	id = MEC_Expeditions.723
	title = MEC_Expeditions.723.title
	desc = MEC_Expeditions.723.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:southern_china"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.southern_china_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Northern China
country_event = {
	id = MEC_Expeditions.724
	title = MEC_Expeditions.724.title
	desc = MEC_Expeditions.724.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:northern_china"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.northern_china_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Korea
country_event = {
	id = MEC_Expeditions.725
	title = MEC_Expeditions.725.title
	desc = MEC_Expeditions.725.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:korea"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.korea_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Japan
country_event = {
	id = MEC_Expeditions.726
	title = MEC_Expeditions.726.title
	desc = MEC_Expeditions.726.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:japan"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.japan_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Cuba
country_event = {
	id = MEC_Expeditions.727
	title = MEC_Expeditions.727.title
	desc = MEC_Expeditions.727.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:cuba"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.cuba_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Hispaniola
country_event = {
	id = MEC_Expeditions.728
	title = MEC_Expeditions.728.title
	desc = MEC_Expeditions.728.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:hispaniola"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.hispaniola_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Caribbean
country_event = {
	id = MEC_Expeditions.729
	title = MEC_Expeditions.729.title
	desc = MEC_Expeditions.729.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:caribbean"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.caribbean_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Atlantic Colombia
country_event = {
	id = MEC_Expeditions.730
	title = MEC_Expeditions.730.title
	desc = MEC_Expeditions.730.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:atlantic_colombia"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.atlantic_colombia_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Guyana
country_event = {
	id = MEC_Expeditions.731
	title = MEC_Expeditions.731.title
	desc = MEC_Expeditions.731.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:guyana"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.guyana_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Atlantic Mexico
country_event = {
	id = MEC_Expeditions.732
	title = MEC_Expeditions.732.title
	desc = MEC_Expeditions.732.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:atlantic_mexico"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.atlantic_mexico_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Northern Brazil
country_event = {
	id = MEC_Expeditions.733
	title = MEC_Expeditions.733.title
	desc = MEC_Expeditions.733.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:north_brazil"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.north_brazil_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southern Brazil
country_event = {
	id = MEC_Expeditions.734
	title = MEC_Expeditions.734.title
	desc = MEC_Expeditions.734.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:south_brazil"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.south_brazil_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the Gulf of Mexico
country_event = {
	id = MEC_Expeditions.735
	title = MEC_Expeditions.735.title
	desc = MEC_Expeditions.735.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:gulf_of_mexico"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.gulf_of_mexico_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southeastern America
country_event = {
	id = MEC_Expeditions.736
	title = MEC_Expeditions.736.title
	desc = MEC_Expeditions.736.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:southeastern_america"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.southeastern_america_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Eastern America
country_event = {
	id = MEC_Expeditions.737
	title = MEC_Expeditions.737.title
	desc = MEC_Expeditions.737.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:eastern_america"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.eastern_america_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Canada
country_event = {
	id = MEC_Expeditions.738
	title = MEC_Expeditions.738.title
	desc = MEC_Expeditions.738.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:canada"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.canada_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to the North Atlantic
country_event = {
	id = MEC_Expeditions.739
	title = MEC_Expeditions.739.title
	desc = MEC_Expeditions.739.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:north_atlantic"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.north_atlantic_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Hudson Bay
country_event = {
	id = MEC_Expeditions.740
	title = MEC_Expeditions.740.title
	desc = MEC_Expeditions.740.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:hudson_bay"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.hudson_bay_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Southern Cone
country_event = {
	id = MEC_Expeditions.741
	title = MEC_Expeditions.741.title
	desc = MEC_Expeditions.741.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:la_plata"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.la_plata_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to California
country_event = {
	id = MEC_Expeditions.742
	title = MEC_Expeditions.742.title
	desc = MEC_Expeditions.742.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:california"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.california_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Alaska
country_event = {
	id = MEC_Expeditions.743
	title = MEC_Expeditions.743.title
	desc = MEC_Expeditions.743.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:alaska"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.alaska_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Pacific Mexico
country_event = {
	id = MEC_Expeditions.744
	title = MEC_Expeditions.744.title
	desc = MEC_Expeditions.744.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:pacific_mexico"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.pacific_mexico_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Pacific Central America
country_event = {
	id = MEC_Expeditions.745
	title = MEC_Expeditions.745.title
	desc = MEC_Expeditions.745.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:pacific_central_america"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.pacific_central_america_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Peru
country_event = {
	id = MEC_Expeditions.746
	title = MEC_Expeditions.746.title
	desc = MEC_Expeditions.746.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:peru"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.peru_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
# Failure of Expedition to Chile
country_event = {
	id = MEC_Expeditions.747
	title = MEC_Expeditions.747.title
	desc = MEC_Expeditions.747.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.no_attack_failure
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:expedition no attack failed:chile"
		ai_chance = {
			factor = 1
		}
		add_prestige = -1
		hidden_effect = {
			expedition_provs.chile_vision = { # Note this can cause crashes if the prov group has invalid province numbers
				discover_country = ROOT
			}
		}
	}
}
############################################################################################################
################################        Expedition Decision Events      #######################################
############################################################################################################

# Info on Expeditions to the British Isles
country_event = {
	id = MEC_Expeditions.800
	title = MEC_Expeditions.800.title
	desc = MEC_Expeditions.800.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.british_isles = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_800
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:british_isles:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Northern Europe
country_event = {
	id = MEC_Expeditions.801
	title = MEC_Expeditions.801.title
	desc = MEC_Expeditions.801.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.northern_europe = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_801
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:northern_europe:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to France
country_event = {
	id = MEC_Expeditions.802
	title = MEC_Expeditions.802.title
	desc = MEC_Expeditions.802.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.france = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_802
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:france:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Iberia
country_event = {
	id = MEC_Expeditions.803
	title = MEC_Expeditions.803.title
	desc = MEC_Expeditions.803.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.iberia = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_803
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:iberia:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to the Iberian Islands
country_event = {
	id = MEC_Expeditions.804
	title = MEC_Expeditions.804.title
	desc = MEC_Expeditions.804.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.iberian_islands = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_804
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:iberian_islands:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Northwest Africa
country_event = {
	id = MEC_Expeditions.805
	title = MEC_Expeditions.805.title
	desc = MEC_Expeditions.805.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.northwest_africa = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_805
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:northwest_africa:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to West Africa
country_event = {
	id = MEC_Expeditions.806
	title = MEC_Expeditions.806.title
	desc = MEC_Expeditions.806.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.west_africa = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_806
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:west_africa:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to the Gulf of Guinea
country_event = {
	id = MEC_Expeditions.807
	title = MEC_Expeditions.807.title
	desc = MEC_Expeditions.807.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.gulf_of_guinea = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_807
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:gulf_of_guinea:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Central Africa
country_event = {
	id = MEC_Expeditions.808
	title = MEC_Expeditions.808.title
	desc = MEC_Expeditions.808.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.central_africa = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_808
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:central_africa:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to South Africa
country_event = {
	id = MEC_Expeditions.809
	title = MEC_Expeditions.809.title
	desc = MEC_Expeditions.809.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.south_africa = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_809
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:south_africa:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to East Africa
country_event = {
	id = MEC_Expeditions.810
	title = MEC_Expeditions.810.title
	desc = MEC_Expeditions.810.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.east_africa = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_810
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:east_africa:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to the Indian Ocean
country_event = {
	id = MEC_Expeditions.811
	title = MEC_Expeditions.811.title
	desc = MEC_Expeditions.811.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.indian_ocean = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_811
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:indian_ocean:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Arabia
country_event = {
	id = MEC_Expeditions.812
	title = MEC_Expeditions.812.title
	desc = MEC_Expeditions.812.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.arabia = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_812
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:arabia:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Western India
country_event = {
	id = MEC_Expeditions.813
	title = MEC_Expeditions.813.title
	desc = MEC_Expeditions.813.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.western_india = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_813
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:western_india:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Southern India
country_event = {
	id = MEC_Expeditions.814
	title = MEC_Expeditions.814.title
	desc = MEC_Expeditions.814.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.southern_india = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_814
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:southern_india:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Eastern India
country_event = {
	id = MEC_Expeditions.815
	title = MEC_Expeditions.815.title
	desc = MEC_Expeditions.815.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.eastern_india = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_815
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:eastern_india:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Malacca
country_event = {
	id = MEC_Expeditions.816
	title = MEC_Expeditions.816.title
	desc = MEC_Expeditions.816.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.malacca = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_816
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:malacca:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Southeast Asia
country_event = {
	id = MEC_Expeditions.817
	title = MEC_Expeditions.817.title
	desc = MEC_Expeditions.817.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.southeast_asia = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_817
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:southeast_asia:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Indonesia
country_event = {
	id = MEC_Expeditions.818
	title = MEC_Expeditions.818.title
	desc = MEC_Expeditions.818.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.indonesia = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_818
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:indonesia:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to the Philippines
country_event = {
	id = MEC_Expeditions.819
	title = MEC_Expeditions.819.title
	desc = MEC_Expeditions.819.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.philippines = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_819
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:philippines:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Papua New Guinea
country_event = {
	id = MEC_Expeditions.820
	title = MEC_Expeditions.820.title
	desc = MEC_Expeditions.820.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.papua = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_820
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:papua:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Australia
country_event = {
	id = MEC_Expeditions.821
	title = MEC_Expeditions.821.title
	desc = MEC_Expeditions.821.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.australia = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_821
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:australia:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to the Pacific Islands
country_event = {
	id = MEC_Expeditions.822
	title = MEC_Expeditions.822.title
	desc = MEC_Expeditions.822.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.pacific_islands = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_822
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:pacific_islands:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Southern China
country_event = {
	id = MEC_Expeditions.823
	title = MEC_Expeditions.823.title
	desc = MEC_Expeditions.823.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.southern_china = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_823
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:southern_china:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Northern China
country_event = {
	id = MEC_Expeditions.824
	title = MEC_Expeditions.824.title
	desc = MEC_Expeditions.824.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.northern_china = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_824
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:northern_china:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Korea
country_event = {
	id = MEC_Expeditions.825
	title = MEC_Expeditions.825.title
	desc = MEC_Expeditions.825.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.korea = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_825
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:korea:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Japan
country_event = {
	id = MEC_Expeditions.826
	title = MEC_Expeditions.826.title
	desc = MEC_Expeditions.826.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.japan = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_826
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:japan:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Cuba
country_event = {
	id = MEC_Expeditions.827
	title = MEC_Expeditions.827.title
	desc = MEC_Expeditions.827.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.cuba = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_827
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:cuba:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Hispaniola
country_event = {
	id = MEC_Expeditions.828
	title = MEC_Expeditions.828.title
	desc = MEC_Expeditions.828.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.hispaniola = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_828
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:hispaniola:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Caribbean
country_event = {
	id = MEC_Expeditions.829
	title = MEC_Expeditions.829.title
	desc = MEC_Expeditions.829.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.caribbean = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_829
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:caribbean:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Atlantic Colombia
country_event = {
	id = MEC_Expeditions.830
	title = MEC_Expeditions.830.title
	desc = MEC_Expeditions.830.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.atlantic_colombia = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_830
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:atlantic_colombia:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Guyana
country_event = {
	id = MEC_Expeditions.831
	title = MEC_Expeditions.831.title
	desc = MEC_Expeditions.831.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.guyana = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_831
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:guyana:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Atlantic Mexico
country_event = {
	id = MEC_Expeditions.832
	title = MEC_Expeditions.832.title
	desc = MEC_Expeditions.832.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.atlantic_mexico = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_832
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:atlantic_mexico:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Northern Brazil
country_event = {
	id = MEC_Expeditions.833
	title = MEC_Expeditions.833.title
	desc = MEC_Expeditions.833.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.north_brazil = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_833
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:north_brazil:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Southern Brazil
country_event = {
	id = MEC_Expeditions.834
	title = MEC_Expeditions.834.title
	desc = MEC_Expeditions.834.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.south_brazil = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_834
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:south_brazil:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to the Gulf of Mexico
country_event = {
	id = MEC_Expeditions.835
	title = MEC_Expeditions.835.title
	desc = MEC_Expeditions.835.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.gulf_of_mexico = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_835
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:gulf_of_mexico:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Southeastern America
country_event = {
	id = MEC_Expeditions.836
	title = MEC_Expeditions.836.title
	desc = MEC_Expeditions.836.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.southeastern_america = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_836
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:southeastern_america:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Eastern America
country_event = {
	id = MEC_Expeditions.837
	title = MEC_Expeditions.837.title
	desc = MEC_Expeditions.837.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.eastern_america = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_837
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:eastern_america:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Canada
country_event = {
	id = MEC_Expeditions.838
	title = MEC_Expeditions.838.title
	desc = MEC_Expeditions.838.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.canada = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_838
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:canada:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to the North Atlantic
country_event = {
	id = MEC_Expeditions.839
	title = MEC_Expeditions.839.title
	desc = MEC_Expeditions.839.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.north_atlantic = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_839
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:north_atlantic:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Hudson Bay
country_event = {
	id = MEC_Expeditions.840
	title = MEC_Expeditions.840.title
	desc = MEC_Expeditions.840.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.hudson_bay = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_840
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:hudson_bay:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Southern Cone
country_event = {
	id = MEC_Expeditions.841
	title = MEC_Expeditions.841.title
	desc = MEC_Expeditions.841.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.la_plata = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_841
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:la_plata:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to California
country_event = {
	id = MEC_Expeditions.842
	title = MEC_Expeditions.842.title
	desc = MEC_Expeditions.842.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.california = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_842
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:california:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Alaska
country_event = {
	id = MEC_Expeditions.843
	title = MEC_Expeditions.843.title
	desc = MEC_Expeditions.843.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.alaska = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_843
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:alaska:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Pacific Mexico
country_event = {
	id = MEC_Expeditions.844
	title = MEC_Expeditions.844.title
	desc = MEC_Expeditions.844.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.pacific_mexico = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_844
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:pacific_mexico:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Pacific Central America
country_event = {
	id = MEC_Expeditions.845
	title = MEC_Expeditions.845.title
	desc = MEC_Expeditions.845.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.pacific_central_america = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_845
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:pacific_central_america:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Peru
country_event = {
	id = MEC_Expeditions.846
	title = MEC_Expeditions.846.title
	desc = MEC_Expeditions.846.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.peru = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_846
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:peru:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
# Info on Expeditions to Chile
country_event = {
	id = MEC_Expeditions.847
	title = MEC_Expeditions.847.title
	desc = MEC_Expeditions.847.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			expedition_provs.chile = {
				MEC_Expeditions_defence_calc_effect = yes
			}
		}
	}
	
	option = {
		name = MEC_Expeditions.more_info
		highlight = yes
		set_country_flag = MEC_Expeditions_decision_event_847
		country_event = {
			id = MEC_Expeditions.848
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = MEC_Expeditions.report
		#log = "MEC_Expeditions:[GetYear]:[Root.GetName]:picked decision event for:chile:If that is an AI it is a bug."		
		ai_chance = {
			factor = 1
		}
	}
}
country_event = {
	id = MEC_Expeditions.848
	title = MEC_Expeditions.848.title
	desc = MEC_Expeditions.848.desc
	picture = TRADEGOODS_eventPicture
	is_triggered_only = yes

	option = {
		name = MEC_Expeditions.back
		ai_chance = {
			factor = 1
		}
		trigger_switch = {
			on_trigger = has_country_flag
			MEC_Expeditions_decision_event_800 = {
				clr_country_flag = MEC_Expeditions_decision_event_800
				country_event = {
					id = MEC_Expeditions.800
				}
			}
			MEC_Expeditions_decision_event_801 = {
				clr_country_flag = MEC_Expeditions_decision_event_801
				country_event = {
					id = MEC_Expeditions.801
				}
			}
			MEC_Expeditions_decision_event_802 = {
				clr_country_flag = MEC_Expeditions_decision_event_802
				country_event = {
					id = MEC_Expeditions.802
				}
			}
			MEC_Expeditions_decision_event_803 = {
				clr_country_flag = MEC_Expeditions_decision_event_803
				country_event = {
					id = MEC_Expeditions.803
				}
			}
			MEC_Expeditions_decision_event_804 = {
				clr_country_flag = MEC_Expeditions_decision_event_804
				country_event = {
					id = MEC_Expeditions.804
				}
			}
			MEC_Expeditions_decision_event_805 = {
				clr_country_flag = MEC_Expeditions_decision_event_805
				country_event = {
					id = MEC_Expeditions.805
				}
			}
			MEC_Expeditions_decision_event_806 = {
				clr_country_flag = MEC_Expeditions_decision_event_806
				country_event = {
					id = MEC_Expeditions.806
				}
			}
			MEC_Expeditions_decision_event_807 = {
				clr_country_flag = MEC_Expeditions_decision_event_807
				country_event = {
					id = MEC_Expeditions.807
				}
			}
			MEC_Expeditions_decision_event_808 = {
				clr_country_flag = MEC_Expeditions_decision_event_808
				country_event = {
					id = MEC_Expeditions.808
				}
			}
			MEC_Expeditions_decision_event_809 = {
				clr_country_flag = MEC_Expeditions_decision_event_809
				country_event = {
					id = MEC_Expeditions.809
				}
			}
			MEC_Expeditions_decision_event_810 = {
				clr_country_flag = MEC_Expeditions_decision_event_810
				country_event = {
					id = MEC_Expeditions.810
				}
			}
			MEC_Expeditions_decision_event_811 = {
				clr_country_flag = MEC_Expeditions_decision_event_811
				country_event = {
					id = MEC_Expeditions.811
				}
			}
			MEC_Expeditions_decision_event_812 = {
				clr_country_flag = MEC_Expeditions_decision_event_812
				country_event = {
					id = MEC_Expeditions.812
				}
			}
			MEC_Expeditions_decision_event_813 = {
				clr_country_flag = MEC_Expeditions_decision_event_813
				country_event = {
					id = MEC_Expeditions.813
				}
			}
			MEC_Expeditions_decision_event_814 = {
				clr_country_flag = MEC_Expeditions_decision_event_814
				country_event = {
					id = MEC_Expeditions.814
				}
			}
			MEC_Expeditions_decision_event_815 = {
				clr_country_flag = MEC_Expeditions_decision_event_815
				country_event = {
					id = MEC_Expeditions.815
				}
			}
			MEC_Expeditions_decision_event_816 = {
				clr_country_flag = MEC_Expeditions_decision_event_816
				country_event = {
					id = MEC_Expeditions.816
				}
			}
			MEC_Expeditions_decision_event_817 = {
				clr_country_flag = MEC_Expeditions_decision_event_817
				country_event = {
					id = MEC_Expeditions.817
				}
			}
			MEC_Expeditions_decision_event_818 = {
				clr_country_flag = MEC_Expeditions_decision_event_818
				country_event = {
					id = MEC_Expeditions.818
				}
			}
			MEC_Expeditions_decision_event_819 = {
				clr_country_flag = MEC_Expeditions_decision_event_819
				country_event = {
					id = MEC_Expeditions.819
				}
			}
			MEC_Expeditions_decision_event_820 = {
				clr_country_flag = MEC_Expeditions_decision_event_820
				country_event = {
					id = MEC_Expeditions.820
				}
			}
			MEC_Expeditions_decision_event_821 = {
				clr_country_flag = MEC_Expeditions_decision_event_821
				country_event = {
					id = MEC_Expeditions.821
				}
			}
			MEC_Expeditions_decision_event_822 = {
				clr_country_flag = MEC_Expeditions_decision_event_822
				country_event = {
					id = MEC_Expeditions.822
				}
			}
			MEC_Expeditions_decision_event_823 = {
				clr_country_flag = MEC_Expeditions_decision_event_823
				country_event = {
					id = MEC_Expeditions.823
				}
			}
			MEC_Expeditions_decision_event_824 = {
				clr_country_flag = MEC_Expeditions_decision_event_824
				country_event = {
					id = MEC_Expeditions.824
				}
			}
			MEC_Expeditions_decision_event_825 = {
				clr_country_flag = MEC_Expeditions_decision_event_825
				country_event = {
					id = MEC_Expeditions.825
				}
			}
			MEC_Expeditions_decision_event_826 = {
				clr_country_flag = MEC_Expeditions_decision_event_826
				country_event = {
					id = MEC_Expeditions.826
				}
			}
			MEC_Expeditions_decision_event_827 = {
				clr_country_flag = MEC_Expeditions_decision_event_827
				country_event = {
					id = MEC_Expeditions.827
				}
			}
			MEC_Expeditions_decision_event_828 = {
				clr_country_flag = MEC_Expeditions_decision_event_828
				country_event = {
					id = MEC_Expeditions.828
				}
			}
			MEC_Expeditions_decision_event_829 = {
				clr_country_flag = MEC_Expeditions_decision_event_829
				country_event = {
					id = MEC_Expeditions.829
				}
			}
			MEC_Expeditions_decision_event_830 = {
				clr_country_flag = MEC_Expeditions_decision_event_830
				country_event = {
					id = MEC_Expeditions.830
				}
			}
			MEC_Expeditions_decision_event_831 = {
				clr_country_flag = MEC_Expeditions_decision_event_831
				country_event = {
					id = MEC_Expeditions.831
				}
			}
			MEC_Expeditions_decision_event_832 = {
				clr_country_flag = MEC_Expeditions_decision_event_832
				country_event = {
					id = MEC_Expeditions.832
				}
			}
			MEC_Expeditions_decision_event_833 = {
				clr_country_flag = MEC_Expeditions_decision_event_833
				country_event = {
					id = MEC_Expeditions.833
				}
			}
			MEC_Expeditions_decision_event_834 = {
				clr_country_flag = MEC_Expeditions_decision_event_834
				country_event = {
					id = MEC_Expeditions.834
				}
			}
			MEC_Expeditions_decision_event_835 = {
				clr_country_flag = MEC_Expeditions_decision_event_835
				country_event = {
					id = MEC_Expeditions.835
				}
			}
			MEC_Expeditions_decision_event_836 = {
				clr_country_flag = MEC_Expeditions_decision_event_836
				country_event = {
					id = MEC_Expeditions.836
				}
			}
			MEC_Expeditions_decision_event_837 = {
				clr_country_flag = MEC_Expeditions_decision_event_837
				country_event = {
					id = MEC_Expeditions.837
				}
			}
			MEC_Expeditions_decision_event_838 = {
				clr_country_flag = MEC_Expeditions_decision_event_838
				country_event = {
					id = MEC_Expeditions.838
				}
			}
			MEC_Expeditions_decision_event_839 = {
				clr_country_flag = MEC_Expeditions_decision_event_839
				country_event = {
					id = MEC_Expeditions.839
				}
			}
			MEC_Expeditions_decision_event_840 = {
				clr_country_flag = MEC_Expeditions_decision_event_840
				country_event = {
					id = MEC_Expeditions.840
				}
			}
			MEC_Expeditions_decision_event_841 = {
				clr_country_flag = MEC_Expeditions_decision_event_841
				country_event = {
					id = MEC_Expeditions.841
				}
			}
			MEC_Expeditions_decision_event_842 = {
				clr_country_flag = MEC_Expeditions_decision_event_842
				country_event = {
					id = MEC_Expeditions.842
				}
			}
			MEC_Expeditions_decision_event_843 = {
				clr_country_flag = MEC_Expeditions_decision_event_843
				country_event = {
					id = MEC_Expeditions.843
				}
			}
			MEC_Expeditions_decision_event_844 = {
				clr_country_flag = MEC_Expeditions_decision_event_844
				country_event = {
					id = MEC_Expeditions.844
				}
			}
			MEC_Expeditions_decision_event_845 = {
				clr_country_flag = MEC_Expeditions_decision_event_845
				country_event = {
					id = MEC_Expeditions.845
				}
			}
			MEC_Expeditions_decision_event_846 = {
				clr_country_flag = MEC_Expeditions_decision_event_846
				country_event = {
					id = MEC_Expeditions.846
				}
			}
			MEC_Expeditions_decision_event_847 = {
				clr_country_flag = MEC_Expeditions_decision_event_847
				country_event = {
					id = MEC_Expeditions.847
				}
			}
		}
	}
	option = {
		name = MEC_Expeditions.close
		ai_chance = {
			factor = 1
		}
		clr_country_flag = MEC_Expeditions_decision_event_800
		clr_country_flag = MEC_Expeditions_decision_event_801
		clr_country_flag = MEC_Expeditions_decision_event_802
		clr_country_flag = MEC_Expeditions_decision_event_803
		clr_country_flag = MEC_Expeditions_decision_event_804
		clr_country_flag = MEC_Expeditions_decision_event_805
		clr_country_flag = MEC_Expeditions_decision_event_806
		clr_country_flag = MEC_Expeditions_decision_event_807
		clr_country_flag = MEC_Expeditions_decision_event_808
		clr_country_flag = MEC_Expeditions_decision_event_809
		clr_country_flag = MEC_Expeditions_decision_event_810
		clr_country_flag = MEC_Expeditions_decision_event_811
		clr_country_flag = MEC_Expeditions_decision_event_812
		clr_country_flag = MEC_Expeditions_decision_event_813
		clr_country_flag = MEC_Expeditions_decision_event_814
		clr_country_flag = MEC_Expeditions_decision_event_815
		clr_country_flag = MEC_Expeditions_decision_event_816
		clr_country_flag = MEC_Expeditions_decision_event_817
		clr_country_flag = MEC_Expeditions_decision_event_818
		clr_country_flag = MEC_Expeditions_decision_event_819
		clr_country_flag = MEC_Expeditions_decision_event_820
		clr_country_flag = MEC_Expeditions_decision_event_821
		clr_country_flag = MEC_Expeditions_decision_event_822
		clr_country_flag = MEC_Expeditions_decision_event_823
		clr_country_flag = MEC_Expeditions_decision_event_824
		clr_country_flag = MEC_Expeditions_decision_event_825
		clr_country_flag = MEC_Expeditions_decision_event_826
		clr_country_flag = MEC_Expeditions_decision_event_827
		clr_country_flag = MEC_Expeditions_decision_event_828
		clr_country_flag = MEC_Expeditions_decision_event_829
		clr_country_flag = MEC_Expeditions_decision_event_830
		clr_country_flag = MEC_Expeditions_decision_event_831
		clr_country_flag = MEC_Expeditions_decision_event_832
		clr_country_flag = MEC_Expeditions_decision_event_833
		clr_country_flag = MEC_Expeditions_decision_event_834
		clr_country_flag = MEC_Expeditions_decision_event_835
		clr_country_flag = MEC_Expeditions_decision_event_836
		clr_country_flag = MEC_Expeditions_decision_event_837
		clr_country_flag = MEC_Expeditions_decision_event_838
		clr_country_flag = MEC_Expeditions_decision_event_839
		clr_country_flag = MEC_Expeditions_decision_event_840
		clr_country_flag = MEC_Expeditions_decision_event_841
		clr_country_flag = MEC_Expeditions_decision_event_842
		clr_country_flag = MEC_Expeditions_decision_event_843
		clr_country_flag = MEC_Expeditions_decision_event_844
		clr_country_flag = MEC_Expeditions_decision_event_845
		clr_country_flag = MEC_Expeditions_decision_event_846
		clr_country_flag = MEC_Expeditions_decision_event_847
	}
}

