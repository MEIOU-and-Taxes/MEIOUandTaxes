Stat_Pre = {
	Stat_MPPre = yes
	set_key = { lhs = Stat_NFL value = 0 }
	set_key = { lhs = TaxD_Teuton value = 0 } 
	set_key = { lhs = TaxD_HRE value = 0 }
	set_key = { lhs = TaxD_Knights value = 0 }
}
Stat_MPPre = {
	set_key = { lhs = Stat_FL value = 0 }
	set_key = { lhs = Stat_MP value = 0 }
}
Stat_Set = {
	if = { limit = { is_capital = yes is_key_equal = { lhs = Infra_Capitol value = 1 } } add_province_modifier = { name = Infra_Capitol_1 duration = -1 hidden = yes } }
	else_if = { limit = { has_province_modifier = Infra_Capitol_1 } remove_province_modifier = Infra_Capitol_1 }
	if = { limit = { is_capital = yes is_key_equal = { lhs = Infra_Capitol value = 2 } } add_province_modifier = { name = Infra_Capitol_2 duration = -1 hidden = yes } }
	else_if = { limit = { has_province_modifier = Infra_Capitol_2 } remove_province_modifier = Infra_Capitol_2 }
	if = { limit = { is_capital = yes is_key_equal = { lhs = Infra_Capitol value = 3 } } add_province_modifier = { name = Infra_Capitol_3 duration = -1 hidden = yes} }
	else_if = { limit = { has_province_modifier = Infra_Capitol_3 } remove_province_modifier = Infra_Capitol_3 }
	if = { limit = { is_capital = yes is_key_equal = { lhs = Infra_Capitol value = 4 } } add_province_modifier = { name = Infra_Capitol_4 duration = -1 hidden = yes } }
	else_if = { limit = { has_province_modifier = Infra_Capitol_4 } remove_province_modifier = Infra_Capitol_4 }
	if = { limit = { is_capital = yes is_key_equal = { lhs = Infra_Capitol value = 5 } } add_province_modifier = { name = Infra_Capitol_5 duration = -1 hidden = yes } }
	else_if = { limit = { has_province_modifier = Infra_Capitol_5 } remove_province_modifier = Infra_Capitol_5 }
	if = { limit = { is_capital = yes is_key_equal = { lhs = Infra_Capitol value = 6 } } add_province_modifier = { name = Infra_Capitol_6 duration = -1 hidden = yes } }
	else_if = { limit = { has_province_modifier = Infra_Capitol_6 } remove_province_modifier = Infra_Capitol_6 }
	if = { limit = { is_capital = yes is_key_equal = { lhs = Infra_Capitol value = 7 } } add_province_modifier = { name = Infra_Capitol_7 duration = -1 hidden = yes } }
	else_if = { limit = { has_province_modifier = Infra_Capitol_7 } remove_province_modifier = Infra_Capitol_7 }

	set_key = { lhs = Stat_Inp value = 0 }

	set_key = { lhs = Tmp_0 value = 100 }
	subtract_key = { lhs = Tmp_0 which = Prov_NOLoy }
	multiply_key = { lhs = Tmp_0 value = 0.01 }
	multiply_key = { lhs = Tmp_0 which = Prov_NOPow }
	multiply_key = { lhs = Tmp_0 value = 0.01 }
	multiply_key = { lhs = Tmp_0 which = Modi_AutonomyNO }
	multiply_key = { lhs = Tmp_0 which = Modi_AutonomyElites }
	multiply_key = { lhs = Tmp_0 value = 0.36 }
	change_key = { lhs = Stat_Inp which = Tmp_0 }

	set_key = { lhs = Tmp_0 value = 100 }
	subtract_key = { lhs = Tmp_0 which = Prov_BGLoy }
	multiply_key = { lhs = Tmp_0 value = 0.01 }
	multiply_key = { lhs = Tmp_0 which = Prov_BGPow }
	multiply_key = { lhs = Tmp_0 value = 0.01 }
	multiply_key = { lhs = Tmp_0 which = Modi_AutonomyBG }
	multiply_key = { lhs = Tmp_0 which = Modi_AutonomyElites }
	multiply_key = { lhs = Tmp_0 value = 0.36 }
	change_key = { lhs = Stat_Inp which = Tmp_0 }

	set_key = { lhs = Tmp_0 value = 100 }
	subtract_key = { lhs = Tmp_0 which = Prov_CLLoy }
	multiply_key = { lhs = Tmp_0 value = 0.01 }
	multiply_key = { lhs = Tmp_0 which = Prov_CLPow }
	multiply_key = { lhs = Tmp_0 value = 0.01 }
	multiply_key = { lhs = Tmp_0 which = Modi_AutonomyCL }
	multiply_key = { lhs = Tmp_0 which = Modi_AutonomyElites }
	multiply_key = { lhs = Tmp_0 value = 0.36 }
	change_key = { lhs = Stat_Inp which = Tmp_0 }

	if = {
		limit = {
			owner = {
				NOT = { has_country_flag = Modi_NoTRAutonomy }
			}
		}
		set_key = { lhs = Tmp_0 value = 100 }
		subtract_key = { lhs = Tmp_0 which = Prov_TRLoy }
		multiply_key = { lhs = Tmp_0 value = 0.01 }
		multiply_key = { lhs = Tmp_0 which = Prov_TRPow }
		multiply_key = { lhs = Tmp_0 value = 0.01 }
		multiply_key = { lhs = Tmp_0 which = Modi_AutonomyTR }
		multiply_key = { lhs = Tmp_0 which = Modi_AutonomyElites }
		multiply_key = { lhs = Tmp_0 value = 0.5 }
		if = {
			limit = {
				owner = {
					has_country_flag = Modi_HalfTRAutonomy
				}
			}
			multiply_key = { lhs = Tmp_0 value = 0.5 }
		}
		change_key = { lhs = Stat_Inp which = Tmp_0 }
	}

	set_key = { lhs = Tmp_0 value = 100 }
	subtract_key = { lhs = Tmp_0 which = Prov_BUPow }
	multiply_key = { lhs = Tmp_0 value = 0.01 }
	multiply_key = { lhs = Tmp_0 value = 0.5 }
	change_key = { lhs = Tmp_0 value = 0.5 }
	multiply_key = { lhs = Stat_Inp which = Tmp_0 }

	#multiply_key = { lhs = Stat_Inp value = 0.4 }

	POP_SetMod = { varname = Stat_Inp modname = Stat_LAVal type = province value = 10.24 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_LAVal type = province value = 5.12 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_LAVal type = province value = 2.56 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_LAVal type = province value = 1.28 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_LAVal type = province value = 0.64 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_LAVal type = province value = 0.32 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_LAVal type = province value = 0.16 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_LAVal type = province value = 0.08 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_LAVal type = province value = 0.04 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_LAVal type = province value = 0.02 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_LAVal type = province value = 0.01 }

	#set_key = { lhs = Stat_Inp value = 100 }
	#subtract_key = { lhs = Stat_Inp which = Admin_EfficUni }
	#multiply_key = { lhs = Stat_Inp which = Prov_BUPow }
	#multiply_key = { lhs = Stat_Inp value = 0.01 } # 100 scale to 1 scale
	#
	#POP_SetMod = { varname = Stat_Inp modname = Stat_MinLAVal type = province value = 100 }
	#POP_SetMod = { varname = Stat_Inp modname = Stat_MinLAVal type = province value = 51.2 }
	#POP_SetMod = { varname = Stat_Inp modname = Stat_MinLAVal type = province value = 25.6 }
	#POP_SetMod = { varname = Stat_Inp modname = Stat_MinLAVal type = province value = 12.8 }
	#POP_SetMod = { varname = Stat_Inp modname = Stat_MinLAVal type = province value = 6.4 }
	#POP_SetMod = { varname = Stat_Inp modname = Stat_MinLAVal type = province value = 3.2 }
	#POP_SetMod = { varname = Stat_Inp modname = Stat_MinLAVal type = province value = 1.6 }
	#POP_SetMod = { varname = Stat_Inp modname = Stat_MinLAVal type = province value = 0.8 }
	#POP_SetMod = { varname = Stat_Inp modname = Stat_MinLAVal type = province value = 0.4 }
	#POP_SetMod = { varname = Stat_Inp modname = Stat_MinLAVal type = province value = 0.2 }
	#POP_SetMod = { varname = Stat_Inp modname = Stat_MinLAVal type = province value = 0.1 }

	if = {
		limit = {
			owner = { is_nomad = yes }
		}
		set_key = { lhs = Stat_Inp which = NM_Total }
		multiply_key = { lhs = Stat_Inp value = 0.175 } # 100 scale to 1 scale
		
		POP_SetMod = { varname = Stat_Inp modname = Stat_Supply type = province value = 64 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_Supply type = province value = 32 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_Supply type = province value = 16 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_Supply type = province value = 8 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_Supply type = province value = 4 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_Supply type = province value = 2 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_Supply type = province value = 1 }
	}
	if = {
		limit = {
			OR = {
				owner = { has_reform = Horde_MonarchyS }
				#is_key_equal = { lhs = Pol_Privileges value = 8 } 
				owner = { has_reform = Yuan_Monarchy }
				#is_key_equal = { lhs = Pol_Privileges value = 9 }
				owner = { tag = YUA }
				owner = { tag = JAI }
				owner = { tag = IRQ }
				owner = { is_tribal = yes }
			}
			NOT = { owner = { tag = CHU } }
		}
		set_key = { lhs = Stat_Inp which = Prov_TRPow }
		multiply_key = { lhs = Stat_Inp value = 0.5 } # 100 scale to 1 scale
		
		POP_SetMod = { varname = Stat_Inp modname = Stat_SupplyMod type = province value = 100 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_SupplyMod type = province value = 64 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_SupplyMod type = province value = 32 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_SupplyMod type = province value = 16 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_SupplyMod type = province value = 8 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_SupplyMod type = province value = 4 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_SupplyMod type = province value = 2 }
		POP_SetMod = { varname = Stat_Inp modname = Stat_SupplyMod type = province value = 1 }
	}

	set_key = { lhs = Stat_Tax value = 0 }
	if = {
		limit = {
			check_key = { lhs = TaxD_Total value = 0.001 } # Neg goes into misc expenses
		}
		change_key = { lhs = Stat_Tax which = TaxD_Total }
	}

	set_key = { lhs = Stat_Inp which = Stat_Tax }

	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 2621.44 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 1310.72 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 655.36 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 327.68 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 163.84 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 81.92 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 40.96 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 20.48 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 10.24 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 5.12 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 2.56 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 1.28 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 0.64 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 0.32 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 0.16 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 0.08 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 0.04 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 0.02 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TaxVal type = province value = 0.01 }
	
	set_key = { lhs = Stat_New which = TN_ProvSply51 }
	multiply_key = { lhs = Stat_New value = 0.5 }

	if = {
		limit = {
			is_year = 1357
		}
		multiply_key = { lhs = Stat_TP value = 3 }
		change_key = { lhs = Stat_TP which = Stat_New }
		multiply_key = { lhs = Stat_TP value = 0.25 }
	}
	else = {
		set_key = { lhs = Stat_TP which = Stat_New }
	}

	set_key = { lhs = Stat_Inp which = Stat_TP }
	if = {
		limit = {
			has_province_flag = Post
		}
		multiply_key = { lhs = Stat_Inp which = Post_LocalInfluence }
		multiply_key = { lhs = Stat_Inp value = 0.01 }
	}
	
	POP_SetMod = { varname = Stat_Inp modname = Stat_TPVal type = province value = 204.8 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TPVal type = province value = 102.4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TPVal type = province value = 51.2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TPVal type = province value = 25.6 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TPVal type = province value = 12.8 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TPVal type = province value = 6.4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TPVal type = province value = 3.2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TPVal type = province value = 1.6 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TPVal type = province value = 0.8 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TPVal type = province value = 0.4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TPVal type = province value = 0.2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_TPVal type = province value = 0.1 }

	set_key = { lhs = Stat_Sailor which = TN_ProvSply23 }
	multiply_key = { lhs = Stat_Sailor value = 350 }

	set_key = { lhs = Stat_Inp which = Stat_Sailor }
	
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 16384 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 8192 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 4096 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 2048 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 1024 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 512 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 256 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 128 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 64 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 32 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 16 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 8 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_SailorVal type = province value = 1 }

	if = {
		limit = {
			check_key = { lhs = Infra_Harbourage value = 1 }
		}
		if = {
			limit = {
				check_key = { lhs = Infra_Harbourage value = 4 }
			}
			if = {
				limit = {
					check_key = { lhs = Infra_Harbourage value = 5 }
				}
				if = {
					limit = {
						check_key = { lhs = Infra_Harbourage value = 7 }
					}
					set_key = { lhs = Stat_NFL value = 6 }
				}
				else_if = {
					limit = {
						check_key = { lhs = Infra_Harbourage value = 6 }
					}
					set_key = { lhs = Stat_NFL value = 5 }
				}
				else = {
					set_key = { lhs = Stat_NFL value = 4 }
				}
			}
			else = {
				set_key = { lhs = Stat_NFL value = 3 }
			}
		}
		else = {
			if = {
				limit = {
					check_key = { lhs = Infra_Harbourage value = 2 }
				}
				if = {
					limit = {
						check_key = { lhs = Infra_Harbourage value = 3 }
					}
					set_key = { lhs = Stat_NFL value = 2 }
				}
				else = {
					set_key = { lhs = Stat_NFL value = 1.25 }
				}
			}
			else = {
				set_key = { lhs = Stat_NFL value = 0.75 }
			}
		}

		set_key = { lhs = Tmp_0 which = BG_Total }    #Total amount of Burghers
		multiply_key = { lhs = Tmp_0 value = 1.6 }		#Base Naval Forcelimit Multiplier 
		set_key = { lhs = Tmp_5 which = Tmp_0 }			#Use a new temporary key
		set_key = { lhs = Tmp_0 which = RE_Total }		#Total amount of Residents
		multiply_key = { lhs = Tmp_0 value = 0.2 }		#Base Naval Forcelimit Multiplier 
		change_key = { lhs = Tmp_0 which = Tmp_5 }		#Summing up Naval Forcelimit from Burghers and Residents for Lvl.1 Harbour
		set_key = { lhs = Tmp_5 value = 0 }				#Reset tempory to save memory
		multiply_key = { lhs = Stat_NFL which = Tmp_0 }	#Multiply by Harbourage lvl. fl multiplier
	}
	else = {
		set_key = { lhs = Stat_NFL value = 0 }
	}
	
	export_to_key = { lhs = Tmp_0 value = local_autonomy }
	multiply_key = { lhs = Tmp_0 value = -0.01 }
	change_key = { lhs = Tmp_0 value = 1 }
	
	multiply_key = { lhs = Stat_NFL which = Tmp_0 }
	
	if = {
		limit = {
			has_port = no
		}
		multiply_key = { lhs = Stat_NFL value = 0.1 }		#Give only 10% of normal Naval FL gain for river provinces
	}

	owner = { change_key = { lhs = Stat_NFL which = PREV } }

	set_key = { lhs = MP_RealTotal which = Tax_MP }
	change_key = { lhs = MP_RealTotal which = Tax_NOMP }
	change_key = { lhs = MP_RealTotal which = Tax_BGMP }
	change_key = { lhs = MP_RealTotal which = Tax_CLMP }
	change_key = { lhs = MP_RealTotal which = Tax_TRMP }

	Stat_MPProvince = yes
	
	set_key = { lhs = Stat_Inp value = 0 }
	set_key = { lhs = Stat_New value = 0 }
}

Stat_MPProvince = {
	set_key = { lhs = Stat_MP which = Tax_MP }

	set_key = { lhs = Stat_MPNO which = Tax_CostLevyNobleRate }
	multiply_key = { lhs = Stat_MPNO value = 0.01 }
	multiply_key = { lhs = Stat_MPNO which = Tax_NOMP }
	change_key = { lhs = Stat_MP which = Stat_MPNO }

	set_key = { lhs = Stat_MPBG which = Tax_CostLevyUrbanRate }
	multiply_key = { lhs = Stat_MPBG value = 0.01 }
	multiply_key = { lhs = Stat_MPBG which = Tax_BGMP }
	change_key = { lhs = Stat_MP which = Stat_MPBG }

	set_key = { lhs = Stat_MPTR which = Tax_CostLevyHordeRate }
	multiply_key = { lhs = Stat_MPTR value = 0.01 }
	multiply_key = { lhs = Stat_MPTR which = Tax_TRMP }
	change_key = { lhs = Stat_MP which = Stat_MPTR }
	
	
	set_key = { lhs = Stat_Inp which = Stat_MP }

	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 5242.88 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 2621.44 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 1310.72 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 655.36 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 327.68 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 163.84 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 81.92 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 40.96 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 20.48 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 10.24 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 5.12 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 2.56 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 1.28 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 0.64 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 0.32 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 0.16 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 0.08 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 0.04 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 0.02 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_MPVal type = province value = 0.01 }

	set_key = { lhs = Stat_FL which = Stat_MP }
	multiply_key = { lhs = Stat_FL value = 0.5 }
	
	owner = { change_key = { lhs = Stat_FL which = PREV } }
	owner = { change_key = { lhs = Stat_MP which = PREV } }
}

Stat_MPCountry = {
	set_key = { lhs = Stat_Inp which = Stat_FL }
	
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 1638.4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 819.2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 409.6 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 204.8 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 102.4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 51.2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 25.6 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 12.8 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 6.4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 3.2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 1.6 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 0.8 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 0.4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 0.2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_FLVal type = country value = 0.1 }
}

Stat_CountrySetHelper = {
	set_key = { lhs = Tmp_3 which = $from$_MP$who$Cur }
	multiply_key = { lhs = Tmp_3 which = Tmp_2 }
	change_key = { lhs = Tmp_1 which = Tmp_3 }
	multiply_key = { lhs = Tmp_3 which = $from$_MP$who$Skill }
	multiply_key = { lhs = Tmp_3 value = 0.01 }
	change_key = { lhs = Tmp_0 which = Tmp_3 }
}

Stat_CalcRealmExpenses = {
	set_key = { lhs = Realm_Expenses value = 0 }
	change_key = { lhs = Realm_Expenses which = TaxD_BUPropertyNeg }
	change_key = { lhs = Realm_Expenses which = BU_PropertyMisc }
	change_key = { lhs = Realm_Expenses which = Class_IncomeDole }
	change_key = { lhs = Realm_Expenses which = Admin_CostUni }
	change_key = { lhs = Realm_Expenses which = Infra_StateSpend }
	change_key = { lhs = Realm_Expenses which = BU_SpendMPBuild }
}
Stat_CountrySet = {
	set_key = { lhs = Stat_Inp value = 0 }
	
	every_owned_province = {
		set_key = { lhs = Stat_Inp value = 0 }
		change_key = { lhs = Stat_Inp which = BU_SpendMPBuild }
		
        change_key = { lhs = Stat_Inp which = TaxD_BUPropertyNeg }

        set_key = { lhs = BU_PropertyMisc which = BU_SpendAgriculture }
        change_key = { lhs = BU_PropertyMisc which = BU_SpendFishery }
        change_key = { lhs = BU_PropertyMisc which = BU_SpendForestry }
        change_key = { lhs = BU_PropertyMisc which = BU_SpendExtraction }
        change_key = { lhs = BU_PropertyMisc which = BU_SpendIndustrial }
        change_key = { lhs = BU_PropertyMisc which = BU_SpendAcademic }
        change_key = { lhs = BU_PropertyMisc which = BU_SpendCommercial }
		
		set_key = { lhs = Class_IncomeDole which = SF_IncomeDole }
		change_key = { lhs = Class_IncomeDole which = NM_IncomeDole }
		change_key = { lhs = Class_IncomeDole which = RE_IncomeDole }
		change_key = { lhs = Class_IncomeDole which = NO_IncomeDole }
		change_key = { lhs = Class_IncomeDole which = BG_IncomeDole }
		change_key = { lhs = Class_IncomeDole which = CL_IncomeDole }
		change_key = { lhs = Stat_Inp which = Class_IncomeDole }
		
		change_key = { lhs = Stat_Inp which = Admin_CostUni }
		change_key = { lhs = Stat_Inp which = Infra_StateSpend }
		
		if = {
			limit = {
				OR = {
					is_state = no
					NOT = { check_key = { lhs = Stat_Inp value = 0.12 } } # micro
				}
			}
			PREV = {
				change_key = { lhs = Stat_Inp which = PREV }
			}
			
			set_key = { lhs = Stat_Inp value = 0 }
		}
	}
	
	change_key = { lhs = Stat_Inp which = Colonial_SubsidyDisp }
	capital_scope = {
		change_key = { lhs = Stat_Inp which = PREV }
	}
	
	every_owned_province = {
		set_key = { lhs = Stat_Misc which = Stat_Inp }
		set_key = { lhs = Misc_Final which = Stat_Misc }

		if = {
			limit = {
				is_capital = yes
			}
			change_key = { lhs = Stat_Inp which = Mil_ManpowerExpenses }
		}
		else = {
			set_key = { lhs = Mil_ManpowerExpenses value = 0 }
		}
		
		if = {
			limit = {
				NOT = { check_key = { lhs = Stat_Inp value = 0.01 } }
			}
			if = {
				limit = {
					OR = {
						NOT = { has_province_modifier = misc_expenses_none }
						NOT = { is_year = 1357 }
					}
				}
				POP_ClrMod = { modname=misc_expenses_neg value=0.64 type=province }
				POP_ClrMod = { modname=misc_expenses_neg value=0.32 type=province }
				POP_ClrMod = { modname=misc_expenses_neg value=0.16 type=province }
				POP_ClrMod = { modname=misc_expenses_neg value=0.08 type=province }
				POP_ClrMod = { modname=misc_expenses_neg value=0.04 type=province }
				POP_ClrMod = { modname=misc_expenses_neg value=0.02 type=province }
				POP_ClrMod = { modname=misc_expenses_neg value=0.01 type=province }
				POP_ClrMod = { modname=misc_expenses value=5242.88 type=province }
				POP_ClrMod = { modname=misc_expenses value=2621.44 type=province }
				POP_ClrMod = { modname=misc_expenses value=1310.72 type=province }
				POP_ClrMod = { modname=misc_expenses value=655.36 type=province }
				POP_ClrMod = { modname=misc_expenses value=327.68 type=province }
				POP_ClrMod = { modname=misc_expenses value=163.84 type=province }
				POP_ClrMod = { modname=misc_expenses value=81.92 type=province }
				POP_ClrMod = { modname=misc_expenses value=40.96 type=province }
				POP_ClrMod = { modname=misc_expenses value=20.48 type=province }
				POP_ClrMod = { modname=misc_expenses value=10.24 type=province }
				POP_ClrMod = { modname=misc_expenses value=5.12 type=province }
				POP_ClrMod = { modname=misc_expenses value=2.56 type=province }
				POP_ClrMod = { modname=misc_expenses value=1.28 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.64 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.32 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.16 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.08 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.04 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.02 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.01 type=province }
				add_province_modifier = {
					name = misc_expenses_none 
					duration = -1
					hidden = yes
				}
			}
		}
		else = {
			if = {
				limit = {
					has_province_modifier = misc_expenses_none
				}
				remove_province_modifier = misc_expenses_none
			}
			export_to_key = { lhs = Tmp_0 value = development }
			multiply_key = { lhs = Stat_Inp value = 100 }
			if = {
				limit = {
					check_key = { lhs = Tmp_0 value = 1 }
				}
				divide_key = { lhs = Stat_Inp which = Tmp_0 }
			}
			if = {
				limit = {
					check_key = { lhs = Stat_Inp value = 0.001 }
				}
				divide_key = { lhs = Stat_Inp value = 12 }
			}
			subtract_key = { lhs = Stat_Inp value = 1 }
			if = {
				limit = {
					check_key = { lhs = Stat_Inp value = 0.001 }
				}
				POP_ClrMod = { modname=misc_expenses_neg value=0.64 type=province }
				POP_ClrMod = { modname=misc_expenses_neg value=0.32 type=province }
				POP_ClrMod = { modname=misc_expenses_neg value=0.16 type=province }
				POP_ClrMod = { modname=misc_expenses_neg value=0.08 type=province }
				POP_ClrMod = { modname=misc_expenses_neg value=0.04 type=province }
				POP_ClrMod = { modname=misc_expenses_neg value=0.02 type=province }
				POP_ClrMod = { modname=misc_expenses_neg value=0.01 type=province }
			
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=5242.88 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=2621.44 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=1310.72 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=655.36 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=327.68 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=163.84 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=81.92 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=40.96 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=20.48 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=10.24 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=5.12 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=2.56 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=1.28 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=0.64 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=0.32 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=0.16 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=0.08 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=0.04 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=0.02 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses value=0.01 type=province }
			}
			else = {
				multiply_key = { lhs = Stat_Inp value = -1 }
			
				POP_ClrMod = { modname=misc_expenses value=5242.88 type=province }
				POP_ClrMod = { modname=misc_expenses value=2621.44 type=province }
				POP_ClrMod = { modname=misc_expenses value=1310.72 type=province }
				POP_ClrMod = { modname=misc_expenses value=655.36 type=province }
				POP_ClrMod = { modname=misc_expenses value=327.68 type=province }
				POP_ClrMod = { modname=misc_expenses value=163.84 type=province }
				POP_ClrMod = { modname=misc_expenses value=81.92 type=province }
				POP_ClrMod = { modname=misc_expenses value=40.96 type=province }
				POP_ClrMod = { modname=misc_expenses value=20.48 type=province }
				POP_ClrMod = { modname=misc_expenses value=10.24 type=province }
				POP_ClrMod = { modname=misc_expenses value=5.12 type=province }
				POP_ClrMod = { modname=misc_expenses value=2.56 type=province }
				POP_ClrMod = { modname=misc_expenses value=1.28 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.64 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.32 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.16 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.08 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.04 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.02 type=province }
				POP_ClrMod = { modname=misc_expenses value=0.01 type=province }
				
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses_neg value=0.64 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses_neg value=0.32 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses_neg value=0.16 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses_neg value=0.08 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses_neg value=0.04 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses_neg value=0.02 type=province }
				POP_SetMod = { varname=Stat_Inp modname=misc_expenses_neg value=0.01 type=province }
			}
		}
		
	}
	
	set_key = { lhs = Stat_Inp value = 0 }
	
	change_key = { lhs = Stat_Inp which = TaxD_Teuton }
	change_key = { lhs = Stat_Inp which = TaxD_HRE }
	change_key = { lhs = Stat_Inp which = TaxD_Knights }
	change_key = { lhs = Stat_Inp which = Post_Fees }

	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 10485.76 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 5242.88 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 2621.44 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 1310.72 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 655.36 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 327.68 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 163.84 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 81.92 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 40.96 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 20.48 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 10.24 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 5.12 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 2.56 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 1.28 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 0.64 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 0.32 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 0.16 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 0.08 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 0.04 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 0.02 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_CTaxVal type = country value = 0.01 }

	#set_key = { lhs = Stat_Inp which = Prov_BUPow }
	#if = {
	#	limit = {
	#		check_key = { lhs = Stat_Inp value = 0.001 }
	#	}
	#	divide_key = { lhs = Stat_Inp value = 200 }
	#}

	POP_ClrMod = { modname = statAbsolutism type = country value = 0.256 }
	POP_ClrMod = { modname = statAbsolutism type = country value = 0.128 }
	POP_ClrMod = { modname = statAbsolutism type = country value = 0.064 }
	POP_ClrMod = { modname = statAbsolutism type = country value = 0.032 }
	POP_ClrMod = { modname = statAbsolutism type = country value = 0.016 }
	POP_ClrMod = { modname = statAbsolutism type = country value = 0.008 }
	POP_ClrMod = { modname = statAbsolutism type = country value = 0.004 }
	POP_ClrMod = { modname = statAbsolutism type = country value = 0.002 }
	POP_ClrMod = { modname = statAbsolutism type = country value = 0.001 }

	Stat_MPCountry = yes
	
	set_key = { lhs = Stat_Inp which = Stat_NFL }
	
	## Adjustments to NFL to prevent overly high value
	# Diminishing returns formular: (250*NFL)/(NFL+300)
	set_key = { lhs = Tmp_0 which = Stat_Inp }
	change_key = { lhs = Tmp_0 value = 300 }
	divide_key = { lhs = Stat_Inp which = Tmp_0 } ## divide before multiply to prevent overflow at high base NFL
	multiply_key = { lhs = Stat_Inp value = 250 }

	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 1638.4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 819.2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 409.6 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 204.8 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 102.4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 51.2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 25.6 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 12.8 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 6.4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 3.2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 1.6 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 0.8 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 0.4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 0.2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_NFLVal type = country value = 0.1 }

	set_key = { lhs = Stat_Inp value = 0 }

	set_key = { lhs = Tmp_1 which = NO_RelationState }
	change_key = { lhs = Tmp_1 value = 100 }
	multiply_key = { lhs = Tmp_1 value = 0.005 }
	POP_GetFacInf = { FAC=NO return=Tmp_2 }
	multiply_key = { lhs = Tmp_1 which = Tmp_2 }
	multiply_key = { lhs = Tmp_1 value = 0.01 }
	multiply_key = { lhs = Tmp_1 which = Prov_NOPow }
	multiply_key = { lhs = Tmp_1 value = 0.01 }
	change_key = { lhs = Stat_Inp which = Tmp_1 }

	set_key = { lhs = Tmp_1 which = BG_RelationState }
	change_key = { lhs = Tmp_1 value = 100 }
	multiply_key = { lhs = Tmp_1 value = 0.005 }
	POP_GetFacInf = { FAC=BG return=Tmp_2 }
	multiply_key = { lhs = Tmp_1 which = Tmp_2 }
	multiply_key = { lhs = Tmp_1 value = 0.01 }
	multiply_key = { lhs = Tmp_1 which = Prov_BGPow }
	multiply_key = { lhs = Tmp_1 value = 0.01 }
	change_key = { lhs = Stat_Inp which = Tmp_1 }

	set_key = { lhs = Tmp_1 which = CL_RelationState }
	change_key = { lhs = Tmp_1 value = 100 }
	multiply_key = { lhs = Tmp_1 value = 0.005 }
	POP_GetFacInf = { FAC=CL return=Tmp_2 }
	multiply_key = { lhs = Tmp_1 which = Tmp_2 }
	multiply_key = { lhs = Tmp_1 value = 0.01 }
	multiply_key = { lhs = Tmp_1 which = Prov_CLPow }
	multiply_key = { lhs = Tmp_1 value = 0.01 }
	change_key = { lhs = Stat_Inp which = Tmp_1 }

	set_key = { lhs = Tmp_1 which = TR_RelationState }
	change_key = { lhs = Tmp_1 value = 100 }
	multiply_key = { lhs = Tmp_1 value = 0.005 }
	POP_GetFacInf = { FAC=TR return=Tmp_2 }
	multiply_key = { lhs = Tmp_1 which = Tmp_2 }
	multiply_key = { lhs = Tmp_1 value = 0.01 }
	multiply_key = { lhs = Tmp_1 which = Prov_TRPow }
	multiply_key = { lhs = Tmp_1 value = 0.01 }
	change_key = { lhs = Stat_Inp which = Tmp_1 }

	set_key = { lhs = Tmp_1 which = BU_RelationState }
	change_key = { lhs = Tmp_1 value = 100 }
	multiply_key = { lhs = Tmp_1 value = 0.005 }
	POP_GetFacInf = { FAC=BU return=Tmp_2 }
	multiply_key = { lhs = Tmp_1 which = Tmp_2 }
	multiply_key = { lhs = Tmp_1 value = 0.01 }
	multiply_key = { lhs = Tmp_1 which = Prov_BUPow }
	multiply_key = { lhs = Tmp_1 value = 0.01 }
	change_key = { lhs = Stat_Inp which = Tmp_1 }
	
	set_key = { lhs = Tmp_1 value = 0 } #finished with key
	set_key = { lhs = Tmp_2 value = 0 }	#finished with key

	# Tweak
	multiply_key = { lhs = Stat_Inp value = 4 }
	
	POP_SetMod = { varname = Stat_Inp modname = Stat_Legitimacy type = country value = 2.56 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Legitimacy type = country value = 1.28 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Legitimacy type = country value = 0.64 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Legitimacy type = country value = 0.32 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Legitimacy type = country value = 0.16 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Legitimacy type = country value = 0.08 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Legitimacy type = country value = 0.04 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Legitimacy type = country value = 0.02 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Legitimacy type = country value = 0.01 }

	export_to_key = { lhs = Stat_Inp value = stability }
	change_key = { lhs = Stat_Inp value = 3 }
	multiply_key = { lhs = Stat_Inp value = 1200 }
	change_key = { lhs = Stat_Inp which = Stab_Point }

	if = {
		limit = {
			check_key = { lhs = Stat_Inp value = 7200 }
		}
		set_key = { lhs = Stat_Inp value = 7200 }
	}

	if = {
		limit = {
			OR = {
				check_key = { lhs = Stat_Inp value = 0.001 }
				NOT = { check_key = { lhs = Stat_Inp value = 0 } }
			}
		}
		divide_key = { lhs = Stat_Inp value = 7200 }
	}

	POP_SetMod = { varname = Stat_Inp modname = Stat_Stab type = country value = 0.512 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Stab type = country value = 0.256 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Stab type = country value = 0.128 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Stab type = country value = 0.064 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Stab type = country value = 0.032 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Stab type = country value = 0.016 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Stab type = country value = 0.008 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Stab type = country value = 0.004 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Stab type = country value = 0.002 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Stab type = country value = 0.001 }

	set_key = { lhs = Stat_Inp value = 0 }
	set_key = { lhs = Stat_Inp which = Ruler_CrptImpact }
	multiply_key = { lhs = Stat_Inp value = 0.1 } # *10 scale corruption
	#set_key = { lhs = Tmp_0 which = State_Crpt }
	#multiply_key = { lhs = Tmp_0 value = 0.01 }
	#change_key = { lhs = Stat_Inp which = State_CrptChange }
	
	POP_SetMod = { varname = Stat_Inp modname = Stat_Crpt type = country value = 10.00 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Crpt type = country value = 5.12 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Crpt type = country value = 2.56 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Crpt type = country value = 1.28 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Crpt type = country value = 0.64 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Crpt type = country value = 0.32 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Crpt type = country value = 0.16 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Crpt type = country value = 0.08 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Crpt type = country value = 0.04 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Crpt type = country value = 0.02 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Crpt type = country value = 0.01 }

	set_key = { lhs = Stat_Inp value = 0 }

	every_owned_province = {
		set_key = { lhs = Stat_Inp value = 0 }

		if = {
			limit = {
				has_province_modifier = TN_Minor
			}
			change_key = { lhs = Stat_Inp value = 0.2 }
		}
		else_if = {
			limit = {
				has_province_modifier = TN_Important
			}
			change_key = { lhs = Stat_Inp value = 0.4 }
		}
		else_if = {
			limit = {
				has_province_modifier = TN_Major
			}
			change_key = { lhs = Stat_Inp value = 1 }
		}
		else_if = {
			limit = {
				has_province_modifier = TN_Dominant
			}
			change_key = { lhs = Stat_Inp value = 2 }
		}
		multiply_key = { lhs = Stat_Inp which = Modi_MerchantFromTradeCenter }

		PREV = {
			change_key = { lhs = Stat_Inp which = PREV }
		}

		set_key = { lhs = Stat_Inp value = 0 }
	}

	if = {
		limit = {
			check_key = { lhs = Stat_Inp value = 0.001 }
		}
		divide_key = { lhs = Stat_Inp value = 2 }
		change_key = { lhs = Stat_Inp value = 1.55 }
		
		if = {
			limit = {
				NOT = {
					has_global_flag = POP_Sim
				}
				ai = yes
			}
			change_key = { lhs = Stat_Inp value = 1 }
		}
	}

	multiply_key = { lhs = Stat_Inp which = Modi_MerchantMulti }
	
	# 5 nodes for trans sahara trade
	if = {
		limit = {
			capital_scope = {
				OR = {
					region = east_sahara_region
					region = west_sahara_region
				}
			}
			check_key = { lhs = Stat_Inp value = 0.001 }
			NOT = { check_key = { lhs = Stat_Inp value = 5 } }
		}
		set_key = { lhs = Stat_Inp value = 5 }
	}
	change_key = { lhs = Stat_Inp which = Post_Merchants }

	POP_SetMod = { varname = Stat_Inp modname = Stat_Merchants type = country value = 32 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Merchants type = country value = 16 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Merchants type = country value = 8 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Merchants type = country value = 4 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Merchants type = country value = 2 }
	POP_SetMod = { varname = Stat_Inp modname = Stat_Merchants type = country value = 1 }

	set_key = { lhs = Stat_Inp value = 0 } #finished with key
	set_key = { lhs = Tmp_0 value = 0 }	#finished with key
	
	remove_country_modifier = Rights_BUSer1_mod
	remove_country_modifier = Rights_BUSer3_mod
	remove_country_modifier = Rights_BUSer4_mod
	
	if = {
		limit = {
			Rights_BUSer1Has = yes
		}
		add_country_modifier = {
			name = Rights_BUSer1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			Rights_BUSer3Has = yes
		}
		add_country_modifier = {
			name = Rights_BUSer3_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			Rights_BUSer4Has = yes
		}
		add_country_modifier = {
			name = Rights_BUSer4_mod
			duration = -1
			hidden = yes
		}
	}
	
	remove_country_modifier = Rights_NOSer1_mod
	remove_country_modifier = Rights_NOSer2_mod
	remove_country_modifier = Rights_NOSer3_mod
	remove_country_modifier = Rights_NOSer4_mod
	remove_country_modifier = Rights_NOSer5_mod
	remove_country_modifier = Rights_NOSer6_mod
	
	if = {
		limit = {
			Rights_NOSer1Has = yes
		}
		add_country_modifier = {
			name = Rights_NOSer1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			Rights_NOSer2Has = yes
		}
		add_country_modifier = {
			name = Rights_NOSer2_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			Rights_NOSer3Has = yes
		}
		add_country_modifier = {
			name = Rights_NOSer3_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			Rights_NOSer4Has = yes
		}
		add_country_modifier = {
			name = Rights_NOSer4_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			Rights_NOSer5Has = yes
		}
		add_country_modifier = {
			name = Rights_NOSer5_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			Rights_NOSer6Has = yes
		}
		add_country_modifier = {
			name = Rights_NOSer6_mod
			duration = -1
			hidden = yes
		}
	}

	if = {
		limit = {
			Privilege_Has = { Privilege=NOTitles Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_NOTitles1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_NOTitles1_mod
		}
		remove_country_modifier = Privilege_NOTitles1_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=NOTitles Lvl=2 }
		}
		add_country_modifier = {
			name = Privilege_NOTitles2_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_NOTitles2_mod
		}
		remove_country_modifier = Privilege_NOTitles2_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=NOTitles Lvl=3 }
		}
		add_country_modifier = {
			name = Privilege_NOTitles3_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_NOTitles3_mod
		}
		remove_country_modifier = Privilege_NOTitles3_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=NOTitles Lvl=4 }
		}
		add_country_modifier = {
			name = Privilege_NOTitles4_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_NOTitles4_mod
		}
		remove_country_modifier = Privilege_NOTitles4_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=NOTitles Lvl=5 }
		}
		add_country_modifier = {
			name = Privilege_NOTitles5_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_NOTitles5_mod
		}
		remove_country_modifier = Privilege_NOTitles5_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=NODiplomacy Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_NODiplomacy1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_NODiplomacy1_mod
		}
		remove_country_modifier = Privilege_NODiplomacy1_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=NODiplomacy Lvl=2 }
		}
		add_country_modifier = {
			name = Privilege_NODiplomacy2_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_NODiplomacy2_mod
		}
		remove_country_modifier = Privilege_NODiplomacy2_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=NODynastic Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_NODynastic1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_NODynastic1_mod
		}
		remove_country_modifier = Privilege_NODynastic1_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=NODynastic Lvl=2 }
		}
		add_country_modifier = {
			name = Privilege_NODynastic2_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_NODynastic2_mod
		}
		remove_country_modifier = Privilege_NODynastic2_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=NOHierarchy Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_NOHierarchy1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_NOHierarchy1_mod
		}
		remove_country_modifier = Privilege_NOHierarchy1_mod
	}
	# Sale of Office
	if = {
		limit = {
			Privilege_Has = { Privilege=BUOffice Lvl=0 }
		}
		add_country_modifier = {
			name = Privilege_BUOffice0_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUOffice0_mod
		}
		remove_country_modifier = Privilege_BUOffice0_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUOffice Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_BUOffice1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUOffice1_mod
		}
		remove_country_modifier = Privilege_BUOffice1_mod
	}
	# Term of Office
	if = {
		limit = {
			Privilege_Has = { Privilege=BUTenure Lvl=0 }
		}
		add_country_modifier = {
			name = Privilege_BUTenure0_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUTenure0_mod
		}
		remove_country_modifier = Privilege_BUTenure0_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUTenure Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_BUTenure1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUTenure1_mod
		}
		remove_country_modifier = Privilege_BUTenure1_mod
	}
	# Bureaucratic Hierarchy
	if = {
		limit = {
			Privilege_Has = { Privilege=BUHierarchy Lvl=0 }
		}
		add_country_modifier = {
			name = Privilege_BUHierarchy0_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUHierarchy0_mod
		}
		remove_country_modifier = Privilege_BUHierarchy0_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUHierarchy Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_BUHierarchy1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUHierarchy1_mod
		}
		remove_country_modifier = Privilege_BUHierarchy1_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUHierarchy Lvl=2 }
		}
		add_country_modifier = {
			name = Privilege_BUHierarchy2_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUHierarchy2_mod
		}
		remove_country_modifier = Privilege_BUHierarchy2_mod
	}
	# Means of Recruitment
	if = {
		limit = {
			Privilege_Has = { Privilege=BUHire Lvl=0 }
		}
		add_country_modifier = {
			name = Privilege_BUHire0_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUHire0_mod
		}
		remove_country_modifier = Privilege_BUHire0_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUHire Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_BUHire1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUHire1_mod
		}
		remove_country_modifier = Privilege_BUHire1_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUHire Lvl=2 }
		}
		add_country_modifier = {
			name = Privilege_BUHire2_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUHire2_mod
		}
		remove_country_modifier = Privilege_BUHire2_mod
	}
	# Civil Examinations
	if = {
		limit = {
			Privilege_Has = { Privilege=BUExams Lvl=0 }
		}
		add_country_modifier = {
			name = Privilege_BUExams0_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUExams0_mod
		}
		remove_country_modifier = Privilege_BUExams0_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUExams Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_BUExams1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUExams1_mod
		}
		remove_country_modifier = Privilege_BUExams1_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUExams Lvl=2 }
		}
		add_country_modifier = {
			name = Privilege_BUExams2_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUExams2_mod
		}
		remove_country_modifier = Privilege_BUExams2_mod
	}
	# Institutional Oversight
	if = {
		limit = {
			Privilege_Has = { Privilege=BUOversight Lvl=0 }
		}
		add_country_modifier = {
			name = Privilege_BUOversight0_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUOversight0_mod
		}
		remove_country_modifier = Privilege_BUOversight0_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUOversight Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_BUOversight1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUOversight1_mod
		}
		remove_country_modifier = Privilege_BUOversight1_mod
	}
	# Entry Requirements
	if = {
		limit = {
			Privilege_Has = { Privilege=BUEnlist Lvl=0 }
		}
		add_country_modifier = {
			name = Privilege_BUEnlist0_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUEnlist0_mod
		}
		remove_country_modifier = Privilege_BUEnlist0_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUEnlist Lvl=2 }
		}
		add_country_modifier = {
			name = Privilege_BUEnlist2_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUEnlist2_mod
		}
		remove_country_modifier = Privilege_BUEnlist2_mod
	}
	# Provincial Administration
	if = {
		limit = {
			Privilege_Has = { Privilege=BUStructure Lvl=0 }
		}
		add_country_modifier = {
			name = Privilege_BUStructure0_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUStructure0_mod
		}
		remove_country_modifier = Privilege_BUStructure0_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUStructure Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_BUStructure1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUStructure1_mod
		}
		remove_country_modifier = Privilege_BUStructure1_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUStructure Lvl=3 }
		}
		add_country_modifier = {
			name = Privilege_BUStructure3_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUStructure3_mod
		}
		remove_country_modifier = Privilege_BUStructure3_mod
	}
	# Sovereign Courts
	if = {
		limit = {
			Privilege_Has = { Privilege=BUCourts Lvl=0 }
		}
		add_country_modifier = {
			name = Privilege_BUCourts0_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUCourts0_mod
		}
		remove_country_modifier = Privilege_BUCourts0_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUCourts Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_BUCourts1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUCourts1_mod
		}
		remove_country_modifier = Privilege_BUCourts1_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUCourts Lvl=3 }
		}
		add_country_modifier = {
			name = Privilege_BUCourts3_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUCourts3_mod
		}
		remove_country_modifier = Privilege_BUCourts3_mod
	}
	# Bureaucratic Politicisation
	if = {
		limit = {
			Privilege_Has = { Privilege=BUPolitics Lvl=0 }
		}
		add_country_modifier = {
			name = Privilege_BUPolitics0_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUPolitics0_mod
		}
		remove_country_modifier = Privilege_BUPolitics0_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUPolitics Lvl=1 }
		}
		add_country_modifier = {
			name = Privilege_BUPolitics1_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUPolitics1_mod
		}
		remove_country_modifier = Privilege_BUPolitics1_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUPolitics Lvl=2 }
		}
		add_country_modifier = {
			name = Privilege_BUPolitics2_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUPolitics2_mod
		}
		remove_country_modifier = Privilege_BUPolitics2_mod
	}
	if = {
		limit = {
			Privilege_Has = { Privilege=BUPolitics Lvl=3 }
		}
		add_country_modifier = {
			name = Privilege_BUPolitics3_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BUPolitics3_mod
		}
		remove_country_modifier = Privilege_BUPolitics3_mod
	}
	# Regional Tenure
	if = {
		limit = {
			Privilege_Has = { Privilege=BURotate Lvl=0 }
		}
		add_country_modifier = {
			name = Privilege_BURotate0_mod
			duration = -1
			hidden = yes
		}
	}
	else_if = {
		limit = {
			has_country_modifier = Privilege_BURotate0_mod
		}
		remove_country_modifier = Privilege_BURotate0_mod
	}
	set_key = { lhs = Tmp_0 which = Stat_MP }
	subtract_key = { lhs = Tmp_0 which = MP_RaisedReg }
	add_manpower = -10000
    if = {
        limit = {
            check_key = { lhs = Tmp_0 value = 0.001 }
		}
		if = { limit = { check_key = { lhs = Tmp_0 value = 1048.576 } } subtract_key = { lhs = Tmp_0 value = 1048.576 } add_manpower = 1048.576 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 524.288 } } subtract_key = { lhs = Tmp_0 value = 524.288 } add_manpower = 524.288 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 262.144 } } subtract_key = { lhs = Tmp_0 value = 262.144 } add_manpower = 262.144 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 131.072 } } subtract_key = { lhs = Tmp_0 value = 131.072 } add_manpower = 131.072 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 65.536 } } subtract_key = { lhs = Tmp_0 value = 65.536 } add_manpower = 65.536 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 32.768 } } subtract_key = { lhs = Tmp_0 value = 32.768 } add_manpower = 32.768 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 16.384 } } subtract_key = { lhs = Tmp_0 value = 16.384 } add_manpower = 16.384 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 8.192 } } subtract_key = { lhs = Tmp_0 value = 8.192 } add_manpower = 8.192 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 4.096 } } subtract_key = { lhs = Tmp_0 value = 4.096 } add_manpower = 4.096 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 2.048 } } subtract_key = { lhs = Tmp_0 value = 2.048 } add_manpower = 2.048 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 1.024 } } subtract_key = { lhs = Tmp_0 value = 1.024 } add_manpower = 1.024 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.512 } } subtract_key = { lhs = Tmp_0 value = 0.512 } add_manpower = 0.512 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.256 } } subtract_key = { lhs = Tmp_0 value = 0.256 } add_manpower = 0.256 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.128 } } subtract_key = { lhs = Tmp_0 value = 0.128 } add_manpower = 0.128 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.064 } } subtract_key = { lhs = Tmp_0 value = 0.064 } add_manpower = 0.064 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.032 } } subtract_key = { lhs = Tmp_0 value = 0.032 } add_manpower = 0.032 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.016 } } subtract_key = { lhs = Tmp_0 value = 0.016 } add_manpower = 0.016 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.008 } } subtract_key = { lhs = Tmp_0 value = 0.008 } add_manpower = 0.008 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.004 } } subtract_key = { lhs = Tmp_0 value = 0.004 } add_manpower = 0.004 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.002 } } subtract_key = { lhs = Tmp_0 value = 0.002 } add_manpower = 0.002 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.001 } } subtract_key = { lhs = Tmp_0 value = 0.001 } add_manpower = 0.001 }
	}
	else_if = {
        limit = {
            NOT = { check_key = { lhs = Tmp_0 value = 0 } }
		}
		multiply_key = { lhs = Tmp_0 value = -1 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 1048.576 } } subtract_key = { lhs = Tmp_0 value = 1048.576 } add_manpower = -1048.576 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 524.288 } } subtract_key = { lhs = Tmp_0 value = 524.288 } add_manpower = -524.288 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 262.144 } } subtract_key = { lhs = Tmp_0 value = 262.144 } add_manpower = -262.144 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 131.072 } } subtract_key = { lhs = Tmp_0 value = 131.072 } add_manpower = -131.072 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 65.536 } } subtract_key = { lhs = Tmp_0 value = 65.536 } add_manpower = -65.536 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 32.768 } } subtract_key = { lhs = Tmp_0 value = 32.768 } add_manpower = -32.768 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 16.384 } } subtract_key = { lhs = Tmp_0 value = 16.384 } add_manpower = -16.384 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 8.192 } } subtract_key = { lhs = Tmp_0 value = 8.192 } add_manpower = -8.192 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 4.096 } } subtract_key = { lhs = Tmp_0 value = 4.096 } add_manpower = -4.096 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 2.048 } } subtract_key = { lhs = Tmp_0 value = 2.048 } add_manpower = -2.048 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 1.024 } } subtract_key = { lhs = Tmp_0 value = 1.024 } add_manpower = -1.024 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.512 } } subtract_key = { lhs = Tmp_0 value = 0.512 } add_manpower = -0.512 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.256 } } subtract_key = { lhs = Tmp_0 value = 0.256 } add_manpower = -0.256 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.128 } } subtract_key = { lhs = Tmp_0 value = 0.128 } add_manpower = -0.128 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.064 } } subtract_key = { lhs = Tmp_0 value = 0.064 } add_manpower = -0.064 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.032 } } subtract_key = { lhs = Tmp_0 value = 0.032 } add_manpower = -0.032 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.016 } } subtract_key = { lhs = Tmp_0 value = 0.016 } add_manpower = -0.016 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.008 } } subtract_key = { lhs = Tmp_0 value = 0.008 } add_manpower = -0.008 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.004 } } subtract_key = { lhs = Tmp_0 value = 0.004 } add_manpower = -0.004 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.002 } } subtract_key = { lhs = Tmp_0 value = 0.002 } add_manpower = -0.002 }
		if = { limit = { check_key = { lhs = Tmp_0 value = 0.001 } } subtract_key = { lhs = Tmp_0 value = 0.001 } add_manpower = -0.001 }
	}

	export_to_key = {
		lhs = MP_MP
		value = manpower
	}
	change_key = { lhs = MP_MP which = MP_RaisedReg }
	set_key = { lhs = MP_YearStart which = MP_MP }
}